(self.webpackChunkapril_kp=self.webpackChunkapril_kp||[]).push([[944],{7244:(e,t,n)=>{var a=n(6706),r=n(3095),l=n(3379),c=n.n(l),s=n(7795),o=n.n(s),i=n(569),u=n.n(i),m=n(3565),d=n.n(m),p=n(9216),g=n.n(p),v=n(4589),C=n.n(v),E=n(1701),f={};f.styleTagTransform=C(),f.setAttributes=d(),f.insert=u().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=g();c()(E.Z,f);E.Z&&E.Z.locals&&E.Z.locals;var _=n(7294);const h=function Global(e){return _.createElement("div",{className:"global-header"},_.createElement("div",{className:"global-header__info"},!e.isDealTable&&_.createElement("p",{className:"global-header__title",id:"complect__title"},"Выберите подходящий ",e.currentComplectsType.title," комплект "),e.isDealTable?_.createElement("p",{className:"global-header__supply"},' "Гарант - ',e.currentComplect&&e.currentComplect.title,'"'):_.createElement("p",{className:"global-header__supply"},' "Гарант - ',e.currentSupply.title,'"'),_.createElement("p",{className:"global-header__title"},"    ",e.currentRegion.title)),_.createElement("div",{className:"global-header__parameters"},_.createElement("p",{className:"global-header__parameter global-header__parameter--reset",onClick:e.currentComplectsType.title===r.bD?e.reset:e.resetUniversal},!e.isDealTable&&"Сбросить"),!e.isSomeUpdating&&_.createElement("p",{className:"global-header__parameter global-header__parameter--back",onClick:e.isDealTable?function(){return e.setDealTableStatus(!1)}:function(){return e.back()}},"Назад")))};var y=n(5623),S=n(2561);(0,a.$j)((function mapStateToProps(e){return{currentSupply:e.global.currentSupply,currentComplectsType:e.global.currentComplectsType,currentRegion:e.global.currentRegion,currentComplect:e.currentComplect,isDealTable:e.deal.table.isActive,isSomeUpdating:e.rows.isSomeUpdating}}),{resetUniversal:y.Xh,reset:y.mc,back:r.op,setDealTableStatus:S.M9})(h)},2336:(e,t,n)=>{n.d(t,{Z:()=>he});var a=n(6706),r=n(885),l=n(3379),c=n.n(l),s=n(7795),o=n.n(s),i=n(569),u=n.n(i),m=n(3565),d=n.n(m),p=n(9216),g=n.n(p),v=n(4589),C=n.n(v),E=n(4889),f={};f.styleTagTransform=C(),f.setAttributes=d(),f.insert=u().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=g();c()(E.Z,f);E.Z&&E.Z.locals&&E.Z.locals;var _=n(7765),h=n(1625),y=n(7294),S=n(8671),b={};b.styleTagTransform=C(),b.setAttributes=d(),b.insert=u().bind(null,"head"),b.domAPI=o(),b.insertStyleElement=g();c()(S.Z,b);S.Z&&S.Z.locals&&S.Z.locals;var N=n(826),w=n(3138),T=n(7294);const Z=function ComplectsName(e){var t=e.index,n=e.resultItem,a=e.errorItem,r=e.complectNameStyle,l=e.complectNameClass,c=e.isProf,s=void 0!==c&&c,o="result__value--selected";return o=s?a.value===w.VU||n.value===N.yC?"profcomplect__title--error":"profcomplect__title":a.value===w.VU||n.value===N.yC?"result__value--error":"result__value--selected",T.createElement("div",{style:r,key:"result-item-".concat(n.type,"-").concat(t),className:l},!s&&T.createElement("p",{key:n.title,className:"result__title"},n.title),T.createElement("p",{key:"".concat(n.title,"-value-").concat(t),className:o},a.value||n.value))};var k=n(7294);const R=function ResultItem(e){var t=e.index,n=e.resultItem,a=(e.errorItem,e.itemStyle),r=e.itemClass,l=e.onDescriptionClick,c=void 0!==l&&l,s=e.isDescriptionFetching;return k.createElement("div",{style:a,key:"result-item-".concat(n.type,"-").concat(t),className:r},k.createElement("p",{key:n.title,className:"result__title",onClick:function onClick(){c&&!s&&c(!0)}},n.title),k.createElement("p",{key:"".concat(n.title,"-value-").concat(t),className:n.value===w.VU||n.value===N.yC?"result__value--error":"result__value--selected"},n.value))};var A=n(7294);const I=function ResultItems(e){var t=(0,y.useState)(!1),n=(0,r.Z)(t,2),a=(n[0],n[1],(0,y.useState)("flex")),l=(0,r.Z)(a,2),c=l[0],s=l[1];(0,y.useEffect)((function(){e.isDescriptionGetting?(s("none"),e.getDescription()):s("flex")}),[e.isDescriptionGetting]);var o=e.values.find((function(e){return"Стоимость СТАР"===e.title})),i=o&&o.value;return e.values.map((function(t,n){var a,r={display:"flex"};"base"===t.type||"star"===t.type?a="base__title":"withLt"===t.type?(a="lt__title",r=e.styleLt):"withConsalting"===t.type?(a="base__title",r=e.styleConsalting):"total"===t.type?(a="base__title","none"!==e.styleConsalting.display||"none"!==e.styleLt.display||e.isStar&&i||(r={display:"none"})):"description"===t.type&&(a="description__title",r={display:c});e.values[0];var l=e.values[1];return 0!==n||e.isProf?!!("Legal Tech в комплекте"!=t.title&&"star"!==t.type||t.value)&&(0!==n&&1!==n?!(!t.value&&!t.title||"pod"===t.id&&e.isProf)&&A.createElement(R,{key:"result-item-".concat(n),index:n,resultItem:e.values[n],errorItem:l,itemStyle:r,itemClass:a,isDescriptionFetching:e.isDescriptionGetting,onDescriptionClick:"description"==t.id&&e.setDescriptionFetchingStatus}):void 0):A.createElement(Z,{key:"result-item-".concat(n),index:n,resultItem:e.values[n],errorItem:l,complectNameStyle:r,complectNameClass:a})}))};var L=n(8959),D={};D.styleTagTransform=C(),D.setAttributes=d(),D.insert=u().bind(null,"head"),D.domAPI=o(),D.insertStyleElement=g();c()(L.Z,D);L.Z&&L.Z.locals&&L.Z.locals;n(5118);var P=n(2574),U=n(3095);n(4189);const G=function ResultButton(e){var t=y.createRef(),n="btn-result btn",a=!1,r="Выбрать Комплект";return e.currentComplectsType===U.D7?(n="btn-result-universal--active",(e.resultError||"Универсальный комплект"===e.currentComplect.name)&&(n="btn-result-universal",a=!0,r=e.resultError)):e.currentComplect&&"Универсальный комплект"!==e.currentComplect.name&&(n="btn-result btn ".concat(e.currentComplect.className,"--active")),y.createElement("div",{className:"btn-result_container"},y.createElement(P.Z,{ref:t,disabled:a,onClick:function handleClickOpen(){e.handleShow(t)},style:{border:"none"},className:"".concat(n)},r))};var M=n(2561);const x=(0,a.$j)((function mapStateToProps(e){return{currentComplect:e.currentComplect,resultError:e.result.resultItems[1].value,allComplects:e.allComplects,currentComplectsType:e.global.currentComplectsType&&e.global.currentComplectsType.title,isDealTable:e.deal.table.isActive}}),(function mapDispatchToProps(e){return{handleClose:function handleClose(t){return e((0,M.M9)(!1))},handleShow:function handleShow(t){return e((0,M.M9)(!0))}}}))(G);var F=n(2447),V=n(8816);n(8784);const O=function Result(e){var t=e.currentComplect,n=(e.universalDefaultName,e.od),a=e.price,r=e.product,l=e.contract,c=e.values,s=e.styleLt,o=e.styleConsalting,i=e.isStar,u=e.description,m=e.currentComplectsType,d=e.isDescriptionGetting,p=e.generalTotal,g=e.getResult,v=e.getDescription,C=e.deleteDescriptionFile,E=e.setDescriptionFetchingStatus,f=e.isRemembed;e.dealId;(0,y.useEffect)((function(){g(f)}),[t,n,a,r,l,p]),(0,y.useEffect)((function(){u&&(window.open(u,"_blank"),C())}),[u]);c.find((function(e){return"Комплект"===e.title})),m&&(m.title,V.p.PROF),c[1];return t.name&&t.name!==F.xG.Default?y.createElement("div",{id:"",className:"result__containerApril"},!1,y.createElement("div",{className:"information"},y.createElement(I,{values:c,styleLt:s,styleConsalting:o,getDescription:v,isProf:!1,isStar:i,isDescriptionGetting:d,setDescriptionFetchingStatus:E})),y.createElement(y.Fragment,null,y.createElement(x,null))):null};var z=n(7975),B=n(6630);const j=(0,a.$j)((function mapStateToProps(e){var t=!(!e.star.product||0===e.star.product.price);return{currentComplect:e.currentComplect,universalDefaultName:e.universals.universalDefaultComplect.name,od:e.od.currentOd.contractPropSuppliesQuantity,values:e.result.resultItems,price:e.price.current.price,product:e.products.current,contract:e.contract.current,styleLt:{display:e.legalTech.display},styleConsalting:{display:e.consalting.display},description:e.result.description,currentComplectsType:e.global.currentComplectsType,isStar:t,isDescriptionGetting:e.result.isDescriptionGetting,generalTotal:e.rows.sets.general[0].total[0],isRemembed:e.remember.isRemembed,dealId:e.app.dealId}}),{getResult:z.Sg,getDescription:z.Eb,deleteDescriptionFile:z.D,setDescriptionFetchingStatus:z.sm,setIsRemembedStatus:B.NO})(O);var H=n(6696),W=n(168),$=n(8985),q={};q.styleTagTransform=C(),q.setAttributes=d(),q.insert=u().bind(null,"head"),q.domAPI=o(),q.insertStyleElement=g();c()($.Z,q);$.Z&&$.Z.locals&&$.Z.locals;var Y=n(5249),Q=n(1643),K={};K.styleTagTransform=C(),K.setAttributes=d(),K.insert=u().bind(null,"head"),K.domAPI=o(),K.insertStyleElement=g();c()(Q.Z,K);Q.Z&&Q.Z.locals&&Q.Z.locals;const J=function RegionsResult(e){var t=e.weight,n=e.allInfoblocks;return y.createElement("div",{className:"regions__result"},y.createElement("div",{className:"regions__result__item"},y.createElement("p",null,"Вес всех региональных блоков"),y.createElement("p",{className:"text__bold"},t)),y.createElement("p",{className:"regions__items"},"Региональные Блоки в Комплекте:"),n.map((function(e){return y.createElement("p",null,e)})))};const X=(0,a.$j)((function mapStateToProps(e){var t=e.region.current,n=0,a=[];for(var r in t)"inComplect"===r&&(n+=Number(.5*t[r].length)),t[r].forEach((function(e){a.push(e.title)}));return{weight:n,allInfoblocks:a}}),{})(J);var ee=n(5062),te=n(6473),ne={};ne.styleTagTransform=C(),ne.setAttributes=d(),ne.insert=u().bind(null,"head"),ne.domAPI=o(),ne.insertStyleElement=g();c()(te.Z,ne);te.Z&&te.Z.locals&&te.Z.locals;var ae=n(7294),re=function RegionsSearch(e){var t=e.setFilter;return ae.createElement("form",{className:"app-search d-none d-lg-block"},ae.createElement("div",{className:"position-relative"},ae.createElement("input",{type:"text",className:"form-control",placeholder:"Поиск...",onChange:function onChange(e){return t(e.target.value)}}),ae.createElement("span",{className:"bx bx-search-alt"})))},le=function RegionSettings(e){var t=e.currentType,n=e.setTypeFilter,a=e.cleanRegion;return ae.createElement(ae.Fragment,null,ae.createElement("div",{className:"settings__frame"},ae.createElement("div",{className:"settings__clean"}),ae.createElement("div",{className:"typeFilters"},ae.createElement(ee.Z,{onClick:function onClick(){return n("all")},className:"all"==t?"regionsBadge badge_all--active":"regionsBadge badge_disable",color:!1},"все"),ae.createElement(ee.Z,{onClick:function onClick(){return n("checked")},className:"checked"==t?"regionsBadge badge--active":"regionsBadge badge_disable",color:!1},"отмеченые"),ae.createElement(ee.Z,{onClick:function onClick(){return n("nochecked")},className:"nochecked"==t?"regionsBadge badge--active":"regionsBadge badge_disable",color:!1},"неотмеченые"),ae.createElement(ee.Z,{onClick:function onClick(){return n("inComplect")},className:"inComplect"==t?"regionsBadge badge--active":"regionsBadge badge_disable",color:!1},"считать вес"),ae.createElement(ee.Z,{onClick:function onClick(){return n("noWidth")},className:"noWidth"==t?"regionsBadge badge--active":"regionsBadge badge_disable",color:!1},ae.createElement("p",{className:"regionsBadgeTitle"},"не считать")),ae.createElement(ee.Z,{onClick:function onClick(){return a()},className:"regionsBadge badge_clean",color:!1},"сбросить всё"))))};const ce=function RegionManage(e){var t=e.cleanRegion,n=e.setFilter,a=e.setisOnlyChecked,r=e.currentType,l=e.setTypeFilter;return ae.createElement(ae.Fragment,null,ae.createElement(re,{setFilter:n}),ae.createElement(le,{setisOnlyChecked:a,currentType:r,setTypeFilter:l,cleanRegion:t}))};var se=n(2982),oe=n(9368),ie=n(3398),ue={};ue.styleTagTransform=C(),ue.setAttributes=d(),ue.insert=u().bind(null,"head"),ue.domAPI=o(),ue.insertStyleElement=g();c()(ie.Z,ue);ie.Z&&ie.Z.locals&&ie.Z.locals;var me=n(7294),de=function RegionCheckBoxes(e){var t=e.regions,n=e.current,a=e.selectRegion,r=e.selectWeightTypeRegion,l=e.filter,c=e.currentType,s=function changeTypeHeandler(e){r(e)},o=t;return"inComplect"===c?o=n.inComplect:"noWidth"===c?o=n.noWidth:"checked"===c?o=[].concat((0,se.Z)(n.inComplect),(0,se.Z)(n.noWidth)):"nochecked"===c?o=t.filter((function(e){return!n.inComplect.find((function(t){return t.number==e.number}))&&!n.noWidth.find((function(t){return t.number==e.number}))})):"all"===c&&(o=t),me.createElement(me.Fragment,null,me.createElement("div",{className:"d-flex flex-column"},o.filter((function(e){return l&&e.title&&e.title.toLowerCase().includes(l.toLowerCase())||!l})).map((function(e){var t=n.inComplect.find((function(t){return t.number==e.number})),r=n.favorite.find((function(t){return t.number==e.number})),l=n.noWidth.find((function(t){return t.number==e.number})),c=t||r||l;return 16==e.number||17==e.number||e.number,me.createElement("div",{className:"checkbox__wrapper"},me.createElement(oe.Z,{groupsName:"",index:e.number,name:e.title,title:e.title,checked:!!c,currentComplect:{isChanging:!0},changeCheckbox:function changeCheckbox(){return a(e.number)},initialRegion:function initialRegion(){console.log("reg double click")}}),c&&me.createElement("div",{className:"checkbox__options"},me.createElement(ee.Z,{onClick:function onClick(){return s(e.number)},className:t?"regionsBadge badge_complect--active":"regionsBadge badge_disable",color:!1},"считать вес"),me.createElement(ee.Z,{onClick:function onClick(){return s(e.number)},c:!0,className:l?"regionsBadge badge_nowidth--active":"regionsBadge badge_disable",color:!1},me.createElement("p",{className:"regionsBadgeTitle"},"не считать"))))}))))};const pe=function RegionContent(e){var t=e.regions,n=e.current,a=e.filter,r=e.currentType,l=e.selectRegion,c=e.setFilter,s=e.isOnlyChecked,o=(e.setisOnlyChecked,e.selectWeightTypeRegion);return me.createElement("div",{className:"region__content__wrapper"},me.createElement(de,{regions:t,current:n,filter:a,currentType:r,isOnlyChecked:s,setFilter:c,selectRegion:l,selectWeightTypeRegion:o}))};const ge=function Regions(e){var t=e.isActive,n=e.isPreloader,a=e.regions,l=e.title,c=e.current,s=e.isFetched,o=e.initialRegion,i=e.selectRegion,u=e.selectWeightTypeRegion,m=e.cleanRegion,d=e.saveRegions,p=e.cancelRegion;(0,y.useEffect)((function(){!s&&t&&o()}),[t,s]);var g=(0,y.useState)(null),v=(0,r.Z)(g,2),C=v[0],E=v[1],f=(0,y.useState)("all"),_=(0,r.Z)(f,2),h=_[0],S=_[1],b=(0,y.useState)(null),N=(0,r.Z)(b,2),w=N[0],T=N[1];return y.createElement(W.Z,{isActive:!0,title:l,buttonDoneName:"Выбрать",buttonCancelName:"Отмена",setDone:function setDone(){return d()},setCancel:function setCancel(){return p()}},!n&&t&&y.createElement("div",{className:"regions__manage__wrapper"},y.createElement(ce,{cleanRegion:m,setFilter:E,setisOnlyChecked:T,currentType:h,setTypeFilter:S})),y.createElement("div",{className:!n&&t?"regions__checks__wrapper":"regions__preload__wrapper"},n&&t?y.createElement(Y.Z,null):y.createElement("div",null,y.createElement(pe,{title:!1,regions:a,selectRegion:i,selectWeightTypeRegion:u,current:c,filter:C,setFilter:E,isOnlyChecked:w,setisOnlyChecked:T,currentType:h}))),!n&&t&&y.createElement(X,null))};var ve=n(2157);const Ce=(0,a.$j)((function mapStateToProps(e){return{isActive:e.region.modal.isActive,isPreloader:e.preloader.inComponent,regions:e.region.regions,title:e.region.modal.title,isFetched:e.region.isFetched,current:e.region.current}}),{initialRegion:ve.TY,selectRegion:ve.Kd,selectWeightTypeRegion:ve.k9,cleanRegion:ve.Ic,saveRegions:ve.ez,cancelRegion:ve.Ef})(ge);var Ee=n(7294);const fe=function Konstructor(e){var t=e.currentComplect,n=e.typeofComplect,a=(e.isTopDisplayShowing,e.isRegionsActive),l=(e.setScrollTopStatus,(0,y.useState)(a)),c=(0,r.Z)(l,2),s=c[0],o=c[1];return(0,y.useEffect)((function(){o(a)}),[a]),Ee.createElement("div",{className:"konstructor__wrapper"},Ee.createElement("div",{className:"main"},Ee.createElement("div",{className:"complect"},Ee.createElement(h.Z,{typeofComplect:n.title})),Ee.createElement("div",{className:"infoblocks"},Ee.createElement(_.Z,{setShowModalStatus:o})),Ee.createElement(Ee.Fragment,null,t&&Ee.createElement(j,null),Ee.createElement(H.Z,null))),s&&Ee.createElement(Ce,null))};var _e=n(3077);const he=(0,a.$j)((function mapStateToProps(e){return{isTopDisplayShowing:e.display.isTopDisplayShowing,currentComplect:e.currentComplect,typeofComplect:e.global.currentComplectsType,isRegionsActive:e.region.modal.isActive}}),{setScrollTopStatus:_e.Ck})(fe)},5071:(e,t,n)=>{n.d(t,{Z:()=>M});var a=n(6706),r=n(3095);n(480),n(7448),n(7294);var l=n(3379),c=n.n(l),s=n(7795),o=n.n(s),i=n(569),u=n.n(i),m=n(3565),d=n.n(m),p=n(9216),g=n.n(p),v=n(4589),C=n.n(v),E=n(939),f={};f.styleTagTransform=C(),f.setAttributes=d(),f.insert=u().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=g();c()(E.Z,f);E.Z&&E.Z.locals&&E.Z.locals;var _=n(7294),h=n(885),y=(n(5798),n(6547)),S={};S.styleTagTransform=C(),S.setAttributes=d(),S.insert=u().bind(null,"head"),S.domAPI=o(),S.insertStyleElement=g();c()(y.Z,S);y.Z&&y.Z.locals&&y.Z.locals;var b=n(840),N=n(813),w=n(4347),T=n(2574),Z=n(7665);const k=function SelectItem(e){var t=e.name,n=e.current,a=e.values,r=e.errorMessage,l=void 0===r?null:r,c=e.selectCallback,s=(e.cleanError,_.useState(n)),o=(0,h.Z)(s,2),i=(o[0],o[1]),u=(0,_.useState)(null),m=(0,h.Z)(u,2),d=m[0],p=m[1],g=(0,_.useState)(null),v=(0,h.Z)(g,2);v[0],v[1];(0,_.useEffect)((function(){l&&l!==d&&(p(l),i(l))}),[l]);var C=a.map((function(e,t){return _.createElement(w.Z,{key:"item-od-".concat(t),onClick:function onClick(){c(e.number)}},_.createElement(T.Z,{key:"btn-od-".concat(t),className:"btn__od",sx:{color:"black",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"}},e.title||e.name||e.value))}));return _.createElement(b.Z,{color:"primary",className:"formControlSelect",variant:"outlined",sx:{color:"black"}},_.createElement(Z.Z,{id:"demo-simple-select-autowidth-label",htmlFor:"".concat(t,"-select")},l?_.createElement("p",{className:"error"},l):_.createElement("p",{className:"select__title"},t)),_.createElement(N.Z,{id:"".concat(t,"-select"),onChange:function handleChange(e){i(e.target.value)},value:n,sx:{display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"background.default",color:"black",borderRadius:1,textColor:"black",textAlign:"center"},className:l?"global__select--ul select__error":"global__select--ul"},C))};n(7294);var R=n(1463),A={};A.styleTagTransform=C(),A.setAttributes=d(),A.insert=u().bind(null,"head"),A.domAPI=o(),A.insertStyleElement=g();c()(R.Z,A);R.Z&&R.Z.locals&&R.Z.locals;n(5118);var I=n(5852),L=(n(6638),n(3620)),D=n(7294);const P=function RegionSelect(e){var t=e.status,n=e.name,a=e.current,r=e.values,l=e.errorMessage,c=e.selectCallback,s=e.cleanError,o=(0,_.useState)(a),i=(0,h.Z)(o,2),u=i[0],m=i[1],d=(0,_.useState)(y),p=(0,h.Z)(d,2),g=p[0],v=p[1],C=a?a.title||a.name:"Выберите регион",E=function selectHendler(e){m(!0),c(e)},f=function doubleClickHendler(){m(!1)},y=D.createElement(k,{key:"start-region-select",name:n,current:C,values:r,errorMessage:l,selectCallback:E,cleanError:s});return(0,_.useEffect)((function(){var e=a?a.title||a.name:"Выберите регион";v(u?D.createElement("div",{className:"region_selected",onDoubleClick:f},D.createElement("p",{className:"region__selected__title"},e),D.createElement("img",{className:"region__radio",alt:"button_icon",src:L.Z,onClick:f})):D.createElement(k,{key:"start-region-select",name:n,current:e,values:r,errorMessage:l,selectCallback:E,cleanError:s}))}),[u,l,t,a]),D.createElement("div",{className:"region"},g||y)};var U=n(7294);const G=function Global(e){var t=e.supplies,n=e.complects,a=e.regions,r=e.currentSupply,l=e.currentComplectsType,c=e.currentRegion,s=e.status,o=e.error,i=e.setSupply,u=e.setComplectsType,m=e.setRegion,d=e.changeAndSetGlobalStatus,p=e.cleanError,g=(0,_.useState)(c),v=(0,h.Z)(g,2),C=v[0],E=v[1];(0,_.useEffect)((function(){E(c)}),[s,c]);var f=(0,_.useRef)(null);return(0,_.useEffect)((function(){var e=f.current;e&&e.scrollIntoView({behavior:"smooth"})}),[s]),U.createElement("div",{ref:f,className:"global__page"},U.createElement("div",{className:"global__header"},U.createElement("div",{className:"logo__wrapper"})),U.createElement("div",{className:"menu__wrapper"},U.createElement("div",{className:"menu__frame"},U.createElement("div",{className:"menu__header"},U.createElement("h1",{className:"global__title"},"Конструктор Коммерческих Предложений"),U.createElement("p",null,"Выберете основные параметры Комплекта")),U.createElement("div",{className:"menu__main"},U.createElement("div",{className:"global__select__region"},U.createElement("div",{className:"select__wrapper_region",key:"select-".concat(345)},U.createElement(P,{status:s,name:a.name,current:C,values:a.values,errorMessage:o.region,selectCallback:m,cleanError:p}))),U.createElement("div",{className:"global__select"},U.createElement("div",{className:"select__wrapper",key:"select-".concat(346)},U.createElement(I.Z,{currentId:null==l?void 0:l.id,key:"global-select-complect",name:n.name,values:n.values,errorMessage:o.complect,selectCallback:u,cleanError:p}))),U.createElement("div",{className:"global__select"},U.createElement("div",{className:"select__wrapper",key:"select-".concat(347)},U.createElement(I.Z,{currentId:null==r?void 0:r.id,key:"global-select-supply",name:t.name,values:t.values,errorMessage:o.supply,selectCallback:i,cleanError:p}))),U.createElement("div",{className:"global__button__wrapper"},U.createElement(T.Z,{type:"button",sx:{lineHeight:150},className:"start_btn start_btn_color",name:"Начать",key:"start-button",onClick:function onClick(){return d(!0)}},U.createElement("p",{className:"start__title"},"Начать")))))))};const M=(0,a.$j)((function mapState(e){return{supplies:e.global.supplies,complects:e.global.complects,regions:e.global.regions,currentSupply:e.global.currentSupply,currentComplectsType:e.global.currentComplectsType,currentRegion:e.global.currentRegion,status:e.global.status,error:e.global.error}}),{setSupply:r.xC,setComplectsType:r.E6,setRegion:r.TF,changeAndSetGlobalStatus:r.IW,cleanError:r.YY})(G)},4189:(e,t,n)=>{n.d(t,{Z:()=>we});var a=n(6706),r=n(885),l=n(7294),c=n(3379),s=n.n(c),o=n(7795),i=n.n(o),u=n(569),m=n.n(u),d=n(3565),p=n.n(d),g=n(9216),v=n.n(g),C=n(4589),E=n.n(C),f=n(5363),_={};_.styleTagTransform=E(),_.setAttributes=p(),_.insert=m().bind(null,"head"),_.domAPI=i(),_.insertStyleElement=v();s()(f.Z,_);f.Z&&f.Z.locals&&f.Z.locals;var h=n(8784),y=n(9513),S=n(851),b={};b.styleTagTransform=E(),b.setAttributes=p(),b.insert=m().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=v();s()(S.Z,b);S.Z&&S.Z.locals&&S.Z.locals;var N=n(7294);const w=function ContractSelect(e){return N.createElement(y.Z,{name:"Тип договора",items:e.contracts,currentValue:e.current?e.current.aprilName:"Тип договора",onSelectClick:e.changeContract})};var T=n(5549),Z=(0,a.$j)((function mapStateToProps(e){return{contracts:e.contract.select,current:e.contract.current}}),{changeContract:T.Ck})(w),k=n(5116),R=n(7294);const A=function DealName(e){return R.createElement(k.Z,{className:"text-back",name:"title",onChange:function onChange(t){t.preventDefault(),e.setDealName(t.target.value)},fullWidth:!0,id:"push-deal-name",label:"Название Сделки",variant:"outlined",value:e.name})};var I=n(5926),L=(0,a.$j)((function mapStateToProps(e){return{name:e.dealName.value,isSomeUpdating:e.rows.isSomeUpdating}}),{setDealName:I.L})(A),D=(n(7244),n(3780)),P=n(1965),U=n(5129),G={};G.styleTagTransform=E(),G.setAttributes=p(),G.insert=m().bind(null,"head"),G.domAPI=i(),G.insertStyleElement=v();s()(U.Z,G);U.Z&&U.Z.locals&&U.Z.locals;var M=n(7462),x=n(5344),F={};F.styleTagTransform=E(),F.setAttributes=p(),F.insert=m().bind(null,"head"),F.domAPI=i(),F.insertStyleElement=v();s()(x.Z,F);x.Z&&x.Z.locals&&x.Z.locals;var V=n(270),O=n(2611),z={};z.styleTagTransform=E(),z.setAttributes=p(),z.insert=m().bind(null,"head"),z.domAPI=i(),z.insertStyleElement=v();s()(O.Z,z);O.Z&&O.Z.locals&&O.Z.locals;var B=n(3014),j=n(9022),H=(n(2766),n(4069)),W=n(7294);const $=function InputCommercial(e){var t=e.price,n=e.name,a=void 0===n?null:n,c=e.currentValue,s=e.disabled,o=e.rowType,i=e.productType,u=e.setId,m=e.rowId,d=e.infoType,p=e.currentDiscountType,g=e.isUpdating,v=(e.isPriceNoDefault,e.isSetShowing,e.change),C=void 0!==v&&v,E=e.measure,f=e.onIconClick,_=W.useState(c),h=(0,r.Z)(_,2),y=h[0],S=h[1],b=W.createElement("p",null);(0,l.useEffect)((function(){}),[c,p]),(0,l.useEffect)((function(){S(c)}),[c,g]),(0,l.useEffect)((function(){}),[t]);var N=d!==P.bV.DISCOUNT&&d!==P.bV.DISCOUNT_AMOUNT||d!==P.bV.MEASURE?"measure":"discount";return b=d===P.bV.PRICE||d===P.bV.SUM||p&&p!==P.ju.PRECENT?W.createElement("img",{src:j.Z,alt:"icon",onClick:function onClick(){return f&&f(N,o,1)}}):p&&p!==P.ju.AMOUNT?W.createElement("img",{src:B.Z,alt:"icon",onClick:function onClick(){return f&&f("discount",o,1)}}):W.createElement("p",{onClick:function onClick(){return f&&f(N,o,1)}},E),console.log(s),W.createElement(H.h3,{customInput:k.Z,decimalSeparator:",",decimalScale:2,thousandSeparator:" ",isNumericString:!0,label:a,className:"commercial__input",variant:"outlined",disabled:s,size:"medium",style:{textAlign:"start"},value:y,onChange:function handleChange(e){var t=e.target.value,n=0,a=0;switch(console.log("currentFormValue"),console.log(d),console.log(t),d){case P.bV.PRICE:case P.bV.SUM:case P.bV.DISCOUNT:n=parseFloat(t.replace(/ /g,"").replace(",",".")),a=isNaN(n)?0:n;break;case P.bV.QUANTITY:n=parseFloat(t.replace(/ /g,"").replace(",",".")),a=isNaN(n)?1:n}S(t),C&&C(g,u,m,o,i,d,a)},onBlur:function handleBlur(e){var t=e.target.value,n=0,a=0;switch(d){case P.bV.PRICE:case P.bV.SUM:case P.bV.DISCOUNT:n=parseFloat(t.replace(/ /g,"").replace(",",".")),0==(a=isNaN(n)?0:n)&&S(a);break;case P.bV.QUANTITY:n=parseFloat(t.replace(/ /g,"").replace(",",".")),1==(a=isNaN(n)?1:n)&&S(a)}},name:a,InputProps:{endAdornment:W.createElement(V.Z,{position:"end"},b)}})};var q=n(1103),Y=n(6093),Q={};Q.styleTagTransform=E(),Q.setAttributes=p(),Q.insert=m().bind(null,"head"),Q.domAPI=i(),Q.insertStyleElement=v();s()(Y.Z,Q);Y.Z&&Y.Z.locals&&Y.Z.locals;var K=n(7294);const J=function RowIcon(e){var t=e.setId,n=e.rowId,a=e.target,r=e.productType,l=e.iconName,c=e.isUpdating,s=e.isSomeUpdating,o=e.deleteRowOrSet,i=e.cancelCreatedRow,u=e.pushCreatedRow,m=e.updatingSetStatus,d=function click(e){if("cancel"===l)i();else if("done"===l)s?m(a,t,!1):u(a);else if("delete"===l)m(a,t,!1),o(t,n,a,r);else if("update"===l){m(a,t,!c)}},p=null,g=K.createElement("svg",{className:"row__icon__done",onClick:function onClick(){return d()},width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K.createElement("g",{id:"ÐÐºÐ¾Ð½ÐºÐ° Ð´Ð»Ñ ÑÐºÑÐ¿Ð¾ÑÑÐ°"},K.createElement("path",{id:"Pre-Icon",fillRule:"evenodd",clipRule:"evenodd",d:"M10 1.5C5.30514 1.5 1.5 5.30514 1.5 10C1.5 14.6949 5.30514 18.5 10 18.5C14.6949 18.5 18.5 14.6949 18.5 10C18.5 5.30514 14.6949 1.5 10 1.5ZM0.5 10C0.5 4.75286 4.75286 0.5 10 0.5C15.2471 0.5 19.5 4.75286 19.5 10C19.5 15.2471 15.2471 19.5 10 19.5C4.75286 19.5 0.5 15.2471 0.5 10ZM14.4786 7.02145C14.6738 7.21671 14.6738 7.53329 14.4786 7.72855L8.85355 13.3536C8.75672 13.4504 8.62441 13.5033 8.48751 13.4998C8.35061 13.4964 8.22111 13.437 8.12923 13.3355L5.75423 10.7105C5.56896 10.5057 5.58477 10.1895 5.78954 10.0042C5.99431 9.81896 6.3105 9.83477 6.49577 10.0395L8.51812 12.2748L13.7714 7.02145C13.9667 6.82618 14.2833 6.82618 14.4786 7.02145Z",fill:"#737C8C"})));return"cancel"===l?p=K.createElement("svg",{className:"row__icon__cancel",onClick:function onClick(){return d()},width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K.createElement("g",{id:"ÐÐºÐ¾Ð½ÐºÐ° Ð´Ð»Ñ ÑÐºÑÐ¿Ð¾ÑÑÐ°"},K.createElement("path",{id:"Pre-Icon",fillRule:"evenodd",clipRule:"evenodd",d:"M10 1.5C5.30514 1.5 1.5 5.30514 1.5 10C1.5 14.6949 5.30514 18.5 10 18.5C14.6949 18.5 18.5 14.6949 18.5 10C18.5 5.30514 14.6949 1.5 10 1.5ZM0.5 10C0.5 4.75286 4.75286 0.5 10 0.5C15.2471 0.5 19.5 4.75286 19.5 10C19.5 15.2471 15.2471 19.5 10 19.5C4.75286 19.5 0.5 15.2471 0.5 10ZM6.81637 6.81645C7.01163 6.62119 7.32821 6.62119 7.52347 6.81645L9.99992 9.29289L12.4764 6.81645C12.6716 6.62119 12.9882 6.62119 13.1835 6.81645C13.3787 7.01171 13.3787 7.32829 13.1835 7.52355L10.707 10L13.1835 12.4764C13.3787 12.6717 13.3787 12.9883 13.1835 13.1836C12.9882 13.3788 12.6716 13.3788 12.4764 13.1836L9.99992 10.7071L7.52347 13.1836C7.32821 13.3788 7.01163 13.3788 6.81637 13.1836C6.62111 12.9883 6.62111 12.6717 6.81637 12.4764L9.29281 10L6.81637 7.52355C6.62111 7.32829 6.62111 7.01171 6.81637 6.81645Z",fill:"#737C8C"}))):"done"===l?p=g:"delete"===l?p=K.createElement("svg",{className:"deleteIcon__active",onClick:function onClick(){return d()},width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.54494 2.12237C5.91112 1.14631 6.84362 0.5 7.88608 0.5H12.1141C13.1565 0.5 14.089 1.14631 14.4552 2.12237L14.4553 2.12248L15.3466 4.5H17H18C18.2761 4.5 18.5 4.72386 18.5 5C18.5 5.27615 18.2761 5.5 18 5.5H17.4656L16.6318 17.1776L16.6318 17.1777C16.538 18.4862 15.4495 19.5 14.138 19.5H5.85804C4.54902 19.5 3.46189 18.4899 3.36443 17.1842L3.3644 17.1838L2.5016 5.5H2C1.72386 5.5 1.5 5.27615 1.5 5C1.5 4.72386 1.72386 4.5 2 4.5H2.96604H4.65355L5.5449 2.12248L5.54494 2.12237ZM4.98864 5.5C4.99624 5.50018 5.00382 5.50018 5.01138 5.5H14.9888C14.9964 5.50018 15.0039 5.50018 15.0115 5.5H16.4631L15.6343 17.1063C15.6343 17.1063 15.6343 17.1063 15.6343 17.1064C15.578 17.8919 14.9246 18.5 14.138 18.5H5.85804C5.07313 18.5 4.42031 17.8942 4.36167 17.11C4.36167 17.1099 4.36166 17.1098 4.36166 17.1098L3.50433 5.5H4.98864ZM14.2786 4.5H5.72152L6.48122 2.47363C6.48124 2.47359 6.48125 2.47356 6.48126 2.47352C6.70111 1.88764 7.26058 1.5 7.88608 1.5H12.1141C12.7396 1.5 13.2991 1.88764 13.5189 2.47352C13.5189 2.47356 13.5189 2.47359 13.5189 2.47363L14.2786 4.5ZM6.53516 8.50128C6.81059 8.48159 7.04985 8.68891 7.06954 8.96435L7.49854 14.9643C7.51824 15.2398 7.31091 15.479 7.03547 15.4987C6.76004 15.5184 6.52078 15.3111 6.50109 15.0357L6.07209 9.03567C6.05239 8.76023 6.25972 8.52098 6.53516 8.50128ZM13.4648 8.50128C13.7402 8.52098 13.9476 8.76023 13.9279 9.03567L13.4989 15.0357C13.4792 15.3111 13.2399 15.5184 12.9645 15.4987C12.689 15.479 12.4817 15.2398 12.5014 14.9643L12.9304 8.96435C12.9501 8.68891 13.1894 8.48159 13.4648 8.50128ZM10.0001 8.50001C10.2762 8.50001 10.5001 8.72387 10.5001 9.00001V15C10.5001 15.2761 10.2762 15.5 10.0001 15.5C9.72391 15.5 9.50006 15.2761 9.50006 15V9.00001C9.50006 8.72387 9.72391 8.50001 10.0001 8.50001Z",fill:"#737C8C"})):"update"===l&&(p=K.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"update__icon",onClick:function onClick(){return d()}},K.createElement("g",{id:"ÐÐºÐ¾Ð½ÐºÐ° Ð´Ð»Ñ ÑÐºÑÐ¿Ð¾ÑÑÐ°"},K.createElement("path",{id:"Pre-Icon",fillRule:"evenodd",clipRule:"evenodd",d:"M15.0747 2.52375C14.9772 2.49208 14.8722 2.49208 14.7748 2.52375C14.75 2.53178 14.7027 2.55306 14.6007 2.63964C14.4942 2.73002 14.3645 2.85915 14.1636 3.06003L14.1614 3.06224L14.1614 3.06223L13.2094 4.00225L15.9976 6.79052L16.9375 5.83798L16.9399 5.83558C17.1408 5.63469 17.27 5.50501 17.3604 5.39856C17.447 5.29657 17.4682 5.24923 17.4763 5.22456C17.5079 5.12715 17.5079 5.02223 17.4763 4.92482C17.4682 4.90015 17.447 4.85281 17.3604 4.75082C17.27 4.64436 17.1408 4.51469 16.9399 4.3138L15.6859 3.06003C15.485 2.85914 15.3553 2.73002 15.2488 2.63964C15.1468 2.55306 15.0994 2.53178 15.0747 2.52375ZM15.2925 7.49964L12.5003 4.70738L3.30233 13.9193L3.30203 13.9196C2.94995 14.2717 2.83286 14.3931 2.74987 14.5275C2.66998 14.6569 2.61064 14.7979 2.57397 14.9454C2.53589 15.0987 2.53087 15.2673 2.52525 15.7651L2.50574 17.4938L4.23357 17.4729C4.73087 17.4669 4.89936 17.4617 5.05249 17.4236C5.19991 17.3869 5.34075 17.3276 5.46999 17.2477C5.60423 17.1648 5.7256 17.0479 6.07727 16.6963L6.07759 16.6959L15.2925 7.49964ZM14.4658 1.57268C14.7641 1.47578 15.0854 1.47577 15.3837 1.57267C15.5839 1.63773 15.7466 1.75051 15.8959 1.87724C16.0373 1.99723 16.1959 2.1558 16.3793 2.33925L16.3929 2.35285L17.6469 3.60663L17.6605 3.6202C17.844 3.80365 18.0026 3.96222 18.1226 4.10357C18.2494 4.25286 18.3622 4.41551 18.4273 4.61575C18.5242 4.91403 18.5242 5.23534 18.4273 5.53362C18.3622 5.73387 18.2494 5.89652 18.1226 6.0458C18.0026 6.18715 17.844 6.34571 17.6605 6.52916L17.6493 6.54034L17.6469 6.54275L16.3559 7.85118L16.3532 7.85392L16.3532 7.85391L6.78431 17.4034C6.78428 17.4035 6.78424 17.4035 6.78421 17.4035C6.77094 17.4168 6.75785 17.4299 6.74493 17.4428C6.44777 17.7401 6.24121 17.9468 5.99551 18.0985C5.77838 18.2326 5.54178 18.3323 5.29413 18.394C5.01389 18.4638 4.72172 18.4672 4.30137 18.4722C4.28306 18.4724 4.26449 18.4726 4.24568 18.4728L2.00605 18.5C1.87143 18.5016 1.74183 18.4489 1.64659 18.3537C1.55135 18.2585 1.49851 18.129 1.50003 17.9944L1.52531 15.7538C1.52553 15.735 1.52573 15.7164 1.52593 15.698C1.53056 15.2773 1.53377 14.9848 1.60349 14.7042C1.6651 14.4563 1.7648 14.2194 1.89905 14.0021C2.05095 13.7561 2.25787 13.5493 2.55554 13.2519C2.56852 13.2389 2.58167 13.2258 2.59499 13.2125L12.1462 3.64672L12.1487 3.6442L12.1487 3.64421L13.4565 2.35286L13.4588 2.35066L13.4701 2.33927C13.6536 2.15582 13.8122 1.99724 13.9536 1.87725C14.1029 1.75051 14.2655 1.63773 14.4658 1.57268Z",fill:"#737C8C"})))),p};const X=(0,a.$j)((function mapState(e,t){var n="set"===e.rows.show,a=n&&e.rows.isGeneralSet;return{setId:t.setId,rowId:t.rowId,target:t.target,productType:t.productType,iconName:t.name,isSetShow:n,isGeneralCanUpdating:a,isUpdating:t.isUpdating,isSomeUpdating:e.rows.isSomeUpdating}}),{deleteRowOrSet:D.qP,cancelCreatedRow:D.v$,pushCreatedRow:D.ng,updatingSetStatus:D.zq.updatingSetStatus})(J);var ee=n(7294);const te=function RowIcons(e){var t=e.rowTarget,n=e.productType,a=e.setId,c=e.rowId,s=e.isSetMode,o=e.isUpdating,i=e.isGeneralSet,u=ee.createElement(X,{name:"delete",setId:a,rowId:c,target:t,productType:n,isUpdating:o}),m=ee.createElement(X,{name:"update",setId:a,rowId:c,target:t,productType:n,isUpdating:o}),d=ee.createElement(X,{name:"done",setId:a,rowId:c,target:t,productType:n,isUpdating:o}),p=function getCanDone(){return o&&n===q.p.GARANT&&0===c},g=function getIsCanUpdate(){return!o&&(t===P.zt.ALTERNATIVE&&s||t===P.zt.GENRAL&&i&&s)},v=function getIsCanDelete(){return t===P.zt.ALTERNATIVE||t===P.zt.GENRAL&&n===q.p.GARANT&&0!==c},C=(0,l.useState)(g()),E=(0,r.Z)(C,2),f=E[0],_=E[1],h=(0,l.useState)(v()),y=(0,r.Z)(h,2),S=y[0],b=y[1],N=(0,l.useState)(p()),w=(0,r.Z)(N,2),T=w[0],Z=w[1];return(0,l.useEffect)((function(){var e=g(),t=v(),n=p();_(e),b(t),Z(n)}),[s,i,o]),ee.createElement("div",{className:"productIcons"},T&&d,f&&m,S&&u)};n(5893);var ne=n(5547);n(4974);var ae=n(7294),re=function ComplectName(e){for(var t=e.setId,n=e.id,a=e.addingArray,r=e.isAddingSecondGarantInGeneralSet,l=void 0!==r&&r,c=(e.isLt,e.isConsalting,e.isStar,e.selectCreatingRowsProp),s=e.rowTarget,o=q.p.GARANT,i=a.sort((function(e,t){return e.order-t.order})).filter((function(e){return"Комплект"===e.name||"Legal Tech"===e.name||"Консалтинг"===e.name||"Дополнительно"===e.name})).map((function(e,a){"Legal Tech"===e.name&&(o=q.p.LT),"Консалтинг"===e.name&&(o=q.p.CONSALTING),"Дополнительно"===e.name&&(o=q.p.STAR);var r=l&&"Комплект"===e.name;return ae.createElement("div",{className:"card__name__optional",key:"add-product-select-complect-".concat(e.name,"-wrap-").concat(a,"-").concat(t,"-").concat(n)},ae.createElement(y.Z,{key:"add-product-select-complect-name-".concat(e.name,"-").concat(a,"-").concat(t,"-").concat(n),rowTarget:s,productType:o,isSmall:!0,name:e.name,items:e.filtred||e.items,currentValue:e.current,isAddingSecondGarantInGeneralSet:r,onSelectClick:c}))})),u=4-i.length,m=0;m<u;m++)i.push(ae.createElement("div",{className:"empty__div"}));return ae.createElement("div",{className:"row__cells__supply"},i)},le=function RowSupplyArea(e){var t=e.setId,n=e.id,a=e.addingArray,r=(e.isLt,e.isConsalting,e.selectCreatingRowsProp),l=e.rowTarget,c=a.filter((function(e){return"Вид поставки"===e.name||"Тип договора"===e.name})),s=[],o=a.find((function(e){return"Вид поставки"===e.name})),i=a.find((function(e){return"Тип договора"===e.name}));s.push(o),s.push(i);for(var u=c.map((function(e,a){return ae.createElement("div",{className:"row__select__cell card__supply",key:"add-product-supply-areacell-select-".concat(a,"-").concat(t,"-").concat(n)},ae.createElement(y.Z,{key:"add-product-select-supply-area-".concat(a,"-").concat(t,"-").concat(n),rowTarget:l,isSmall:!0,name:e.name,items:e.filtred||e.items,currentValue:e.current,onSelectClick:r}))})),m=4-u.length,d=0;d<m;d++)u.push(ae.createElement("div",{className:"empty__div"}));return ae.createElement("div",{className:"row__cells__supply"},u)},ce=function NoFunctionalSupplyArea(e){e.isSetShowing;var t=e.isGarant,n=e.supplyName,a=e.contractName,r=e.measure;return ae.createElement("div",{className:"product__options"},t&&ae.createElement("p",{key:"product__option".concat(n),className:"product__option"},n),t&&ae.createElement("p",{className:"product__option"},"•"),ae.createElement("p",{className:"product__option"},a),ae.createElement("p",{className:"product__option"},"•"),ae.createElement("p",{className:"product__option"},r))},se=function RowPropCell(e){var t=e.price,n=e.isAdding,a=e.isGeneralSet,c=e.setId,s=e.rowId,o=e.rowType,i=e.productType,u=e.name,m=e.value,d=e.measure,p=e.infoType,g=(e.isSomeUpdating,e.isUpdating),v=e.isSetShowing,C=e.canUpdating,E=e.defaultPrice,f=e.currentPrice,_=e.currentDiscountType,h=e.change,y=(e.remove,e.onIconClick),S=(0,l.useState)(m),b=(0,r.Z)(S,2),N=b[0],w=b[1],T=(0,l.useState)(E===f),Z=(0,r.Z)(T,2),k=Z[0],R=Z[1];(0,l.useEffect)((function(){w(m)}),[m,_]),(0,l.useEffect)((function(){R(E===f)}),[E,f]);var A=n||!C||a&&v&&"Количество"!==u&&"Аванс"!==u&&!g;return ae.createElement($,{price:t,name:u,currentValue:N,disabled:A,rowType:o,productType:i,setId:c,rowId:s,infoType:p,currentDiscountType:_,isUpdating:g,isPriceNoDefault:k,isSetShowing:v,change:h,measure:d,onIconClick:y})};const oe=function RowCard(e){var t=e.isAdding,n=void 0!==t&&t,a=e.addingArray,c=void 0!==a&&a,s=e.isLt,o=void 0!==s&&s,i=e.isConsalting,u=void 0!==i&&i,m=e.isStar,d=void 0!==m&&m,p=e.isSetShowing,g=e.isGeneralSet,v=e.isUpdating,C=e.isSomeUpdating,E=e.id,f=e.setId,_=(e.currentSet,e.productType),h=(e.number,e.name),y=(e.shortName,e.supply),S=e.contract,b=(e.complectType,e.price),N=e.rowTarget,w=(e.product,e.deleteRow),T=e.changeCommercial,Z=e.changeMeasureOrDiscountType,k=e.selectCreatingRowsProp,R=void 0!==k&&k;e.pushCreatedRow,e.updatingSetStatus;console.log("RowCard isUpdating"),console.log(v);var A=n&&c&&c.length>0,I=(0,l.useState)(C&&v||!C),L=(0,r.Z)(I,2),D=L[0],U=L[1],G=ae.createElement(te,{setId:f,rowId:E,rowTarget:N,productType:_,isSetMode:p,isUpdating:v,isGeneralSet:g}),M=b.discount[b.discount.current],x=b.discount.current===P.ju.PRECENT?100*(1-M):M,F=b&&b.measure&&b.measure.type&&9!==b.measure.contractNumber&&10!==b.measure.contractNumber&&1===b.measure.type?"Аванс":"Количество",V=[{name:"Цена",value:b.current,type:P.bV.PRICE,iconClassName:"row-cell-icon"},{name:F,value:b.quantity,type:P.bV.QUANTITY,iconClassName:"row-cell-icon--f",onIconClick:Z},{name:"Скидка",value:x,type:P.bV.DISCOUNT,currentType:b.discount.current,iconClassName:"row-cell-icon--f",onIconClick:Z},{name:"Сумма",value:b.sum,type:P.bV.SUM,iconClassName:"row-cell-icon"}],O=(0,l.useState)(V),z=(0,r.Z)(O,2),B=z[0],j=z[1],H=b.measure.name;(0,l.useEffect)((function(){var e=b.discount[b.discount.current],t=b.discount.current===P.ju.PRECENT?Number((100*(1-e)).toFixed(2)):e,n=b&&b.measure&&b.measure.type&&9!==b.measure.contractNumber&&1===b.measure.type?"Аванс":"Количество",a=[{name:"Цена",value:b.current,type:P.bV.PRICE,iconClassName:"row-cell-icon"},{name:n,value:b.quantity,type:P.bV.QUANTITY,iconClassName:"row-cell-icon--f",onIconClick:Z},{name:"Скидка",value:t,type:P.bV.DISCOUNT,currentType:b.discount.current,iconClassName:"row-cell-icon--f",onIconClick:Z},{name:"Сумма",value:b.sum,type:P.bV.SUM,iconClassName:"row-cell-icon"}];j(a)}),[b,b.discount.current]);var W=h,$=ae.createElement("p",{className:"product__title"},W," "),Y=V,Q=ae.createElement(ce,{isSetShowing:p,isGarant:_===q.p.GARANT,supplyName:y.name,contractName:S.name,measure:H});if(A)if(Y=B.filter((function(e){return"Сумма"!==e.name})),N===P.zt.ALTERNATIVE){c.find((function(e){return"Комплект"===e.name}))&&($=ae.createElement(re,{setId:f,id:E,addingArray:c,isLt:o,isConsalting:u,isStar:d,selectCreatingRowsProp:R,rowTarget:N}));c.sort((function(e,t){return e.order-t.order}));Q=ae.createElement(le,{setId:f,id:E,addingArray:c,selectCreatingRowsProp:R,rowTarget:N})}else N===P.zt.GENRAL&&($=ae.createElement(re,{setId:f,id:E,addingArray:c,isLt:o,isConsalting:u,isAddingSecondGarantInGeneralSet:!0,selectCreatingRowsProp:R,rowTarget:N}),Q=ae.createElement(ce,{isSetShowing:p,isGarant:_===q.p.GARANT,supplyName:y.name,contractName:S.name,measure:H}));else Q=ae.createElement(ce,{isSetShowing:p,isGarant:_===q.p.GARANT,supplyName:y.name,contractName:S.name,measure:H}),0===E&&P.zt.GENRAL;var K=C&&!v,J=(0,l.useState)(K),ee=(0,r.Z)(J,2),ne=(ee[0],ee[1]);(0,l.useEffect)((function(){U(C&&v||!C),ne(C&&!v)}),[v,C]);var oe=(0,l.useRef)(null);return(0,l.useEffect)((function(){if(v&&0==E){var e=oe.current;e&&e.scrollIntoView({behavior:"smooth"})}}),[v]),ae.createElement("div",{ref:oe,className:K?"product-card-opacity":"product-card"},ae.createElement("div",{className:"product__header"},ae.createElement("div",{className:"row__title__wrapper"},$,!A&&D&&G),Q),ae.createElement("div",{className:"row__cells"},Y.map((function(e,t){return ae.createElement("div",{className:"row__cell",key:"add-product-cell-row-".concat(t)},A?"Цена"!==e.name?ae.createElement("div",{className:"empty__div"}):ae.createElement(se,{isGeneralSet:g,price:b,isAdding:n,setId:f,rowId:E,rowType:N,productType:_,key:"row-cell-".concat(e.name,"-").concat(t),name:e.name,value:e.value,defaultPrice:b&&b.default,currentPrice:b&&b.current,infoType:e.type,measure:H,currentDiscountType:e.currentType,isSomeUpdating:C,isUpdating:v,isSetShowing:p,change:T,remove:w,onIconClick:e.onIconClick}):ae.createElement(se,{isGeneralSet:g,price:b,isAdding:n,setId:f,rowId:E,rowType:N,productType:_,key:"row-cell-".concat(e.name,"-").concat(t),name:e.name,value:e.value,defaultPrice:b&&b.default,currentPrice:b&&b.current,infoType:e.type,measure:H,currentDiscountType:e.currentType,isSomeUpdating:C,isUpdating:v,isSetShowing:p,canUpdating:D,change:T,remove:w,onIconClick:e.onIconClick}))})),n&&c&&c.length>0&&ae.createElement("div",{className:"row__select__cell"},ae.createElement("div",{className:"add__action__cancel"},ae.createElement(X,{name:"cancel",setId:f,rowId:E,target:N,productType:_})),ae.createElement("div",{className:"add__action__create"},ae.createElement(X,{name:"done",setId:f,rowId:E,target:N,productType:_})))))};var ie=n(7294);const ue=function AddProduct(e){var t=e.current,n=e.rowTarget,a=e.isSetShowing,r=e.isGeneralSet,l=e.isLt,c=e.isConsalting,s=e.isStar,o=e.selectCreatingRowsProp,i=e.pushCreatedRow,u=[],m=t.set;for(var d in t)n===P.zt.GENRAL?"complects"===d&&u.push(t[d]):"complects"!==d&&d!==q.p.LT&&d!==q.p.CONSALTING&&d!==q.p.STAR&&"supplies"!==d&&"contracts"!==d||u.push(t[d]);return ie.createElement(oe,(0,M.Z)({},t.row,{rowTarget:n,productType:t.row.productType,currentSet:m,isAdding:!0,isSetShowing:a,isGeneralSet:r,isLt:l,isConsalting:c,isStar:s,addingArray:u,changeCommercial:function changeCommercial(){return console.log("changeCommercial")},deleteRow:function deleteRow(){return console.log("deleteRow")},changeMeasureOrDiscountType:function changeMeasureOrDiscountType(){return console.log("changeMeasureOrDiscountType")},selectCreatingRowsProp:o,pushCreatedRow:i}))};const me=(0,a.$j)((function mapStateToProps(e,t){var n=e.rows.show===P.Cs.SET,a=!!e.legalTech.current,r=!!e.consalting.current,l=!!e.star.current;return{current:e.rows.current,rowTarget:t.target,isSetShowing:n,isConsalting:r,isLt:a,isStar:l,isGeneralSet:e.rows.isGeneralSet}}),{selectCreatingRowsProp:D.UA,pushCreatedRow:D.ng})(ue);var de=n(7294);const pe=function RowsGroup(e){var t=e.target,n=e.rows,a=e.isAdding,c=e.isShowStatusIsSet,s=e.isGeneralSet,o=e.isSomeUpdating,i=e.changeCommercial,u=e.deleteRow,m=e.changeMeasureOrDiscountType,d=e.updatingSetStatus,p=[],g=!1,v=n.map((function(e,n){var r=de.createElement(oe,(0,M.Z)({isAdding:a,addingArray:!1,isSetShowing:c,key:"".concat(t,"-product-row-").concat(n,"-i")},e,{rowTarget:t,productType:e.productType,isSomeUpdating:o,isGeneralSet:s,changeCommercial:i,deleteRow:u,changeMeasureOrDiscountType:m,selectCreatingRowsProp:!1,pushCreatedRow:!1,updatingSetStatus:d}));return e.isUpdating&&(!1===g&&(g=n),p.push(r)),r})),C=(0,l.useState)(v),E=(0,r.Z)(C,2),f=E[0],_=E[1],h=p.length>0?de.createElement("div",{className:"alternativeUpdating"},p.map((function(e){return e}))):null;return!1!==g&&v.splice(g,p.length,h),(0,l.useEffect)((function(){var e=[],r=!1,l=n.map((function(n,l){var p=de.createElement(oe,(0,M.Z)({isAdding:a,addingArray:!1,isSetShowing:c,key:"".concat(t,"-product-row-").concat(l,"-i")},n,{rowTarget:t,productType:n.productType,isSomeUpdating:o,isGeneralSet:s,changeCommercial:i,deleteRow:u,changeMeasureOrDiscountType:m,selectCreatingRowsProp:!1,pushCreatedRow:!1,updatingSetStatus:d}));return n.isUpdating&&(!1===r&&(r=l),e.push(p)),p})),p=e.length>0?de.createElement("div",{className:"alternativeUpdating"},e.map((function(e){return e}))):null;!1!==r&&l.splice(r,e.length,p),_(l)}),[n,a,c,o]),de.createElement("div",null,f.map((function(e){return e})))};var ge=n(7294);const ve=function PriceTable(e){var t=e.general,n=(e.isAddingProducts,e.isAddingGeneral),a=e.isAddingAlternative,c=e.isGeneralSet,s=e.isSomeSet,o=e.alternative,i=e.deleteRow,u=e.changeCommercial,m=e.changeMeasureOrDiscountType,d=e.show,p=e.setShowStatus,g=e.initializeProductRow,v=e.isGeneralCanAdd,C=e.isSomeUpdating,E=e.updatingSetStatus,f="set"===d&&t.length>1,_=f?"Разъединить":"Объединить",h=(0,l.useState)(f),y=(0,r.Z)(h,2),S=y[0],b=y[1],N=(0,l.useState)(_),w=(0,r.Z)(N,2),T=w[0],Z=w[1],k=(0,l.useState)(!!(f||o.length||t.length>1)),R=(0,r.Z)(k,2),A=(R[0],R[1]);return(0,l.useEffect)((function(){var e="set"===d&&t.length>0;Z(e?"Разъединить":"Объединить"),b(e),A(!!(e||o.length||t.length>1))}),[d,o.length,t.length]),ge.createElement("div",{className:"prices__area"},ge.createElement("div",{className:"prices__wrapper"},ge.createElement("div",{className:"general"},ge.createElement("div",{className:"general__header"},ge.createElement("div",{className:"general__title__wrapper"},!C&&ge.createElement("p",{className:"general__title"},"Основные")),ge.createElement("div",{className:"general__options"},s&&!C&&ge.createElement("p",{className:"general__add",onClick:function onClick(){return p(d)}},T),v&&!C&&ge.createElement("p",{className:"general__add",onClick:function onClick(){g(P.zt.GENRAL)}},"Добавить"))),ge.createElement("div",{className:"products"},ge.createElement(pe,{target:P.zt.GENRAL,rows:t,isAdding:n,isGeneralSet:c,isShowStatusIsSet:S,isSomeUpdating:C,changeCommercial:u,deleteRow:i,changeMeasureOrDiscountType:m,updatingSetStatus:E}),n&&ge.createElement(me,{target:P.zt.GENRAL}))),ge.createElement("div",{className:"alternative"},!C&&ge.createElement("div",{className:"general__header"},ge.createElement("div",{className:"general__title__wrapper"},ge.createElement("p",{className:"general__title"},"Для Сравнения")),ge.createElement("div",{className:"general__options"},ge.createElement("p",{className:"general__add",onClick:function onClick(){g(P.zt.ALTERNATIVE)}},"Добавить"))),ge.createElement("div",{className:"products"},ge.createElement(pe,{target:P.zt.ALTERNATIVE,rows:o,isAdding:n,isGeneralSet:c,isShowStatusIsSet:S,isSomeUpdating:C,changeCommercial:u,deleteRow:i,changeMeasureOrDiscountType:m,updatingSetStatus:E}),a&&ge.createElement(me,{target:P.zt.ALTERNATIVE})))))};var Ce=n(9978);const Ee=(0,a.$j)((function mapStateToProps(e){var t=(0,Ce.tx)(e.rows.sets.general,"set"===e.rows.show),n=e.rows.sets.general,a=(0,Ce.Fc)(n),r=(0,Ce.tx)(e.rows.sets.alternative,"set"===e.rows.show),l=e.rows.current.isActive&&e.rows.current.target===P.zt.GENRAL,c=e.rows.current.isActive&&e.rows.current.target===P.zt.ALTERNATIVE,s=(0,Ce.Rj)(e.rows.sets),o=e.rows.isGeneralSet;return{show:e.rows.show,general:t,alternative:r,isAddingProducts:e.rows.current.isActive,isAddingGeneral:l,isAddingAlternative:c,isGeneralCanAdd:a,isGeneralSet:o,isSomeUpdating:e.rows.isSomeUpdating,isSomeSet:s}}),{deleteRow:D.zq.deleteRow,changeCommercial:D.Tm,changeMeasureOrDiscountType:D.zq.changeMeasureOrDiscountType,setShowStatus:D.zq.setShowStatus,initializeProductRow:D.VO,updatingSetStatus:D.zq.updatingSetStatus})(ve);var fe=n(2574),_e=n(3129),he=n(4295);const ye=function Total(e){var t=e.currentComplect,n=e.getField,a=e.dealId,c=e.isSomeUpdating,s=e.sendDeal,o=e.documentActivate,i=(0,l.useState)(!1),u=(0,r.Z)(i,2);u[0],u[1],(0,ne.C)((function(e){var t;return null===(t=e.currentComplect)||void 0===t?void 0:t.className}));return(0,l.useEffect)((function(){n()}),[t]),l.createElement("div",{className:c?"total__back":"total"},l.createElement("div",{className:"deal__containerApril"},l.createElement("div",{className:"deal__global"},l.createElement(he.Z,null)),l.createElement("div",{className:"deal__main"},l.createElement("div",{className:"deal-settings"},l.createElement("div",{className:"deal-settings__item"},!c&&l.createElement(L,null)),l.createElement("div",{className:"deal-od deal-settings__item"},!c&&l.createElement(h.Z,null)),l.createElement("div",{className:"deal-settings__item"},!c&&l.createElement(Z,null)),l.createElement("div",{className:"deal-settings__item"},!c&&!_e.cY&&l.createElement(fe.Z,{type:"button",className:"start_btn start_btn_color",name:"AddDealButton",key:"add-deal--button",onClick:s},l.createElement("p",{className:"start__title"},a?"Сохранить Сделку":"Создать Сделку"))),(_e.KD&&a||_e.cY)&&l.createElement("div",{className:"deal-settings__item"},!c&&l.createElement(fe.Z,{type:"button",className:"start_btn start_btn_color",name:"AddDocumentButton",key:"add-document--button",onClick:function onClick(){return o(!0)}},l.createElement("p",{className:"start__title"},"Документ")))),l.createElement("div",{className:"deal-products"},l.createElement(Ee,null)))))};var Se=n(8286),be=n(2561),Ne=n(882);const we=(0,a.$j)((function mapStateToProps(e){return{currentComplect:e.currentComplect,isAddingProducts:e.rows.current.isActive,dealId:e.app.dealId,isSomeUpdating:e.rows.isSomeUpdating}}),{getField:Se.r,initializeProductRow:D.VO,stopAddingRows:D.zq.stopAddingRows,sendDeal:be.g1,documentActivate:Ne.QZ})(ye)},6732:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(885),r=n(7294),l=n(5773),c=n(5305),s=n(9886),o=n(4610),i=n(9816),u=n(4991);const m=function Transcribation(){var e=(0,r.useState)(),t=(0,a.Z)(e,2);t[0],t[1];return r.createElement(r.Fragment,null,r.createElement("div",{style:{height:"100vh"},className:"page-content"},r.createElement("div",{style:{height:"100%",width:"100%"},className:"container-fluid col-12\r d-flex\r justify-content-center\r align-items-center\r "},r.createElement(l.Z,null,r.createElement(c.Z,{xl:12},r.createElement(s.Z,null,r.createElement(o.Z,null,r.createElement(i.Z,{className:"h4"},"Оценка звонков"),r.createElement("p",{className:"card-title-desc"},"For basic styling—light padding and only horizontal dividers—add the base className ",r.createElement("code",null,".table")," to any",r.createElement("code",null,"<table>"),"."),r.createElement("div",{className:"table-responsive"},r.createElement(u.Z,{className:"table mb-0"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"#"),r.createElement("th",null,"First Name"),r.createElement("th",null,"Last Name"),r.createElement("th",null,"Username"))),r.createElement("tbody",null,r.createElement("tr",null,r.createElement("th",{scope:"row"},"1"),r.createElement("td",null,"Mark"),r.createElement("td",null,"Otto"),r.createElement("td",null,"@mdo")),r.createElement("tr",null,r.createElement("th",{scope:"row"},"2"),r.createElement("td",null,"Jacob"),r.createElement("td",null,"Thornton"),r.createElement("td",null,"@fat")),r.createElement("tr",null,r.createElement("th",{scope:"row"},"3"),r.createElement("td",null,"Larry"),r.createElement("td",null,"the Bird"),r.createElement("td",null,"@twitter"))))))))))))}},1463:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),l=n(3645),c=n.n(l)()(r());c.push([e.id,"",""]);const s=c},1701:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),l=n(3645),c=n.n(l)()(r());c.push([e.id,"",""]);const s=c},4889:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),l=n(3645),c=n.n(l)()(r());c.push([e.id,"",""]);const s=c},3398:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),l=n(3645),c=n.n(l)()(r());c.push([e.id,"",""]);const s=c},6473:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),l=n(3645),c=n.n(l)()(r());c.push([e.id,"",""]);const s=c},8985:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),l=n(3645),c=n.n(l)()(r());c.push([e.id,"",""]);const s=c},1643:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),l=n(3645),c=n.n(l)()(r());c.push([e.id,"",""]);const s=c},8959:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),l=n(3645),c=n.n(l)()(r());c.push([e.id,"",""]);const s=c},8671:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),l=n(3645),c=n.n(l)()(r());c.push([e.id,"",""]);const s=c},6547:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),l=n(3645),c=n.n(l)()(r());c.push([e.id,"",""]);const s=c},939:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),l=n(3645),c=n.n(l)()(r());c.push([e.id,"",""]);const s=c},851:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),l=n(3645),c=n.n(l)()(r());c.push([e.id,"",""]);const s=c},2611:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),l=n(3645),c=n.n(l)()(r());c.push([e.id,"",""]);const s=c},5129:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),l=n(3645),c=n.n(l)()(r());c.push([e.id,"",""]);const s=c},6093:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),l=n(3645),c=n.n(l)()(r());c.push([e.id,"",""]);const s=c},5344:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),l=n(3645),c=n.n(l)()(r());c.push([e.id,"",""]);const s=c},5363:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),l=n(3645),c=n.n(l)()(r());c.push([e.id,"",""]);const s=c}}]);