(self.webpackChunkapril_kp=self.webpackChunkapril_kp||[]).push([[311],{3344:(e,t,n)=>{n.d(t,{AH:()=>G,Yd:()=>F,ZP:()=>Y,nn:()=>U});var r=n(2167),c=n(5861),o=n(4687),i=n.n(o),a=n(283),s=n(1596),u=n(538),l=n(9891),p=n(6457),d=n(5549),f=n(3095),m=n(826),S=n(1132),g=n(5729),T=n(3641),v=n(3535),h=n(6630),b=n(6097),E=n(7413),y=n(3129),_=n(8981),C=n(7585),O=n(4353);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I="SET_APP_DEAL",w="SET_RESIZE_STATUS",P="SET_APP_DATA",R="SET_APP_BITRIX_DATA",A="SET_INITIALIZED_SUCCESS",N={domain:"",company:null,user:"",currentUser:null,token:"",dealId:null,bitrix:{company:null,deal:null,lead:null,placement:null},isResized:!1,initialized:!1,withContracts:!1,withOwnContracts:!1},k=function setAppData(e,t,n,r,c,o){return{type:P,domain:e,companyId:t,userId:n,currentUser:r,token:c,dealId:o}},D=function setAppBitrixData(e,t,n){return{type:R,company:e,deal:t,placement:n}},j=function setAppBitrixDeal(e){return{type:I,dealId:e}},L=function setResizeStatus(e){return{type:w,boolean:e}},M=function setInitializedSuccess(){return{type:A}},x=function setState(e){return function(t,n){t({type:"SAVE_STATE",state:e})}},U=function initial(){return function(){var e=(0,c.Z)(i().mark((function _callee2(e,t){var n,r,o,I,w,P,R,A,N,D,j,L,U,W,G,Y,Z;return i().wrap((function _callee2$(K){for(;;)switch(K.prev=K.next){case 0:if(e((0,_.te)(!0)),e((0,C.XW)(y.A_,!1)),n=t(),r=n.router.current,y.XK&&r.route!==C.ln.CALLING&&e(H()),y.XK&&r.route===C.ln.CALLING&&e(B()),!y.XK){K.next=12;break}return K.next=9,s.L.getDomain();case 9:K.t0=K.sent,K.next=13;break;case 12:K.t0=null;case 13:if(o=K.t0,I=o||y.PO,!r||!r.route){K.next=92;break}if(w=y.XK,P="",null,R=null,A=null,N=y.XK?null:y.vi,r.route===C.ln.REPORT||r.route===C.ln.CALLING||r.route===C.ln.TRANSKRIBATION){K.next=77;break}if(K.t1=y.XK,!K.t1){K.next=28;break}return K.next=27,s.L.getCurrentUser();case 27:K.t1=K.sent;case 28:return D=K.t1,j="",D&&(j=Number(D.ID)),L=function(){var n=(0,c.Z)(i().mark((function _callee(){var n,r,c,o,s,h,y,_,C,w,R,A,N,k;return i().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,g.GO.getVersion();case 2:return n=i.sent,i.next=5,T.j.getData("version");case 5:return r=i.sent,i.next=8,T.j.getData("april");case 8:if(c=i.sent,c=JSON.parse(c),(r=JSON.parse(r))&&r.version&&(r=r.version),n&&0!==n&&c&&n===r){i.next=28;break}return i.next=15,g.GO.getData(I);case 15:if(c=(c=i.sent).data){i.next=24;break}return i.next=20,l.i.getToken(I);case 20:return P=i.sent,i.next=23,l.i.getInitialData(P);case 23:c=i.sent;case 24:return i.next=26,T.j.setData({version:n},"version");case 26:return i.next=28,T.j.setData(c,"april");case 28:if(!c){i.next=52;break}return o=c.complects,s=c.prices,h=c.supplies,y=c.bitrix,_=c.regions,C=c.consalting,w=c.legalTech,R=w&&w.packages,A=c.star,i.next=40,b.gT.service("konstruct/contracts",O.F.POST,"contracts",{domain:I});case 40:N=i.sent,e(v.U.setInitialOds(h)),e((0,p.jl)(o,h,N,C,R,A,s)),e((0,f.m6)(_)),e((0,a.Dc)(s,h,N)),e((0,u.a)(y.add,y.product,y.update)),e((0,d.Kf)(N)),e((0,m.VW)(w)),e((0,S.cU)(C)),e((0,E.f1)(A)),k=t(),e(x(k));case 52:case"end":return i.stop()}}),_callee)})));return function getConstructorInitial(){return n.apply(this,arguments)}}(),K.next=34,L();case 34:if(K.t2=w,!K.t2){K.next=39;break}return K.next=38,s.L.getPlacement();case 38:K.t2=K.sent;case 39:if(!(U=K.t2)){K.next=59;break}if(!U.placement){K.next=55;break}if(W=U.options.ID,"CRM_COMPANY_DETAIL_ACTIVITY"!==U.placement&&"CRM_COMPANY_DETAIL_TAB"!==U.placement){K.next=54;break}if(K.t3=W,K.t3){K.next=49;break}return K.next=48,s.L.getCompanyId();case 48:K.t3=K.sent;case 49:G=K.t3,R=Number(G),e(F(I,D,j,R,A,P,U)),K.next=55;break;case 54:"CRM_DEAL_DETAIL_TAB"===U.placement||"CRM_DEAL_DETAIL_ACTIVITY"===U.placement?(N=Number(U.options.ID),A=Number(U.options.ID),e(F(I,D,j,R,A,P,U))):"CRM_LEAD_DETAIL_TAB"===U.placement||U.placement;case 55:console.log("placementdata"),console.log(U),K.next=70;break;case 59:if(N=y.ce?y.vi:null,Y=y.vF,1,I=y.PO,e(k(I,Y,1,D,"",N)),K.t4=y.ce,!K.t4){K.next=68;break}return K.next=68,e((0,h.YI)(N,I));case 68:e((0,C.XW)(C.IF.KONSTRUCTOR,N)),e(M());case 70:if(e((0,_.te)(!1)),K.t5=y.XK,!K.t5){K.next=75;break}return K.next=75,s.L.getResize();case 75:K.next=92;break;case 77:if(r.route===C.ln.REPORT||r.route!==C.ln.CALLING){K.next=89;break}if(e((0,_.te)(!0)),K.t6=y.XK,!K.t6){K.next=84;break}return K.next=83,s.L.getCurrentUser();case 83:K.t6=K.sent;case 84:Z=K.t6,e(k(I,null,null,Z,"",null)),e((0,_.te)(!1)),K.next=92;break;case 89:e(k(I,null,null,null,"",null)),e(M()),e((0,_.te)(!1));case 92:case"end":return K.stop()}}),_callee2)})));return function(t,n){return e.apply(this,arguments)}}()},F=function getBitrixData(e,t,n,r,o,a,u){return function(){var l=(0,c.Z)(i().mark((function _callee3(c,l){var p,d,f,m,S,T,v,E,_;return i().wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:if(null,null,p={currentCompany:null,currentDeal:null},d=null,f=null,m=!1,console.log("app get bitrix data getBitrixData"),!o){i.next=18;break}return i.next=10,b.Wr.getDeal(o,e);case 10:if(S=i.sent){i.next=15;break}return i.next=14,g.Ho.getDeal(o,e);case 14:S=i.sent;case 15:S?(m=W(S),c(m?(0,h.a4)(S):(0,h.NO)(!0))):c((0,h.NO)(!0)),i.next=19;break;case 18:c((0,h.NO)(!0));case 19:if(!y.XK){i.next=25;break}return i.next=22,s.L.getDealAndCompany(o,r);case 22:p=i.sent,i.next=35;break;case 25:if(!r){i.next=30;break}return T={domain:e,companyId:r},i.next=29,b.gT.service("bitrixcompany",O.F.POST,"company",T);case 29:p.currentCompany=i.sent;case 30:if(!o){i.next=35;break}return v={domain:e,dealId:o},i.next=34,b.gT.service("bitrixdeal",O.F.POST,"deal",v);case 34:p.currentCompany=i.sent;case 35:console.log("app get bitrix data result"),E=p.company,_=p.deal,E&&E.ID&&(d=E.ID),_&&_.ID&&(f=_.ID),c(k(e,d,n,t,a,f)),c(D(E,_,u)),c((0,C.XW)(C.IF.KONSTRUCTOR,m));case 43:case"end":return i.stop()}}),_callee3)})));return function(e,t){return l.apply(this,arguments)}}()},W=function getIsHaveDeal(e){var t=!1;if(e&&e.rows){var n=JSON.parse(e.rows);n.sets&&n.sets.general&&n.sets.general.length&&n.sets.general[0].total&&n.sets.general[0].total.length&&n.sets.general[0].total[0].name&&(t=!0)}return t},G=function setAppDeal(e){return function(){var t=(0,c.Z)(i().mark((function _callee4(t,n){var r,c,o,a;return i().wrap((function _callee4$(i){for(;;)switch(i.prev=i.next){case 0:if(r=n(),c=r.app.domain,o=r.app.bitrix.deal,null,!e||o){i.next=13;break}if(a={domain:c,dealId:e},!y.XK){i.next=10;break}s.L.getDeal(e),i.next=13;break;case 10:return i.next=12,b.gT.service("bitrixdeal",O.F.POST,"deal",a);case 12:i.sent;case 13:t(j(e));case 14:case"end":return i.stop()}}),_callee4)})));return function(e,n){return t.apply(this,arguments)}}()},H=function getResize(){return function(){var e=(0,c.Z)(i().mark((function _callee5(e,t){return i().wrap((function _callee5$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.L.getResize();case 2:e(L(!0));case 3:case"end":return t.stop()}}),_callee5)})));return function(t,n){return e.apply(this,arguments)}}()},B=function getResizeCalling(){return function(){var e=(0,c.Z)(i().mark((function _callee6(e,t){return i().wrap((function _callee6$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.L.getResizeCalling();case 2:e(L(!0));case 3:case"end":return t.stop()}}),_callee6)})));return function(t,n){return e.apply(this,arguments)}}()};const Y=function app(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:var n=!1;return"april-dev.bitrix24.ru"!==t.domain&&"gsr.bitrix24.ru"!==t.domain||(n=!0),_objectSpread(_objectSpread({},e),{},{domain:t.domain,company:t.companyId,user:t.userId,token:t.token,dealId:t.dealId,currentUser:t.currentUser,withContracts:n});case R:return console.log("SET_APP_BITRIX_DATA"),console.log(t),_objectSpread(_objectSpread({},e),{},{bitrix:_objectSpread(_objectSpread({},e.bitrix),{},{company:t.company,deal:t.deal,placement:t.placement}),initialized:!0});case I:return _objectSpread(_objectSpread({},e),{},{dealId:t.dealId,bitrix:_objectSpread(_objectSpread({},e.bitrix),{},{deal:t.deal})});case w:return console.log("SET_RESIZE_STATUS"),console.log(t.status),_objectSpread(_objectSpread({},e),{},{isResized:t.status});case A:return _objectSpread(_objectSpread({},e),{},{initialized:!0});default:return e}}},3077:(e,t,n)=>{n.d(t,{Ck:()=>s,ZP:()=>u,kV:()=>a});var r=n(2167);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c="SET_TOP_DISPLAY_STATUS",o="SET_SCROLL_TOP_STATUS",i={isTopDisplayShowing:!0,scrollTop:!1},a=function setTopDisplayStatus(e){return{type:c,status:e}},s=function setScrollTopStatus(e){return{type:o,status:e}};const u=function display(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return _objectSpread(_objectSpread({},e),{},{isTopDisplayShowing:t.status});case o:return _objectSpread(_objectSpread({},e),{},{scrollTop:t.status});default:return e}}},6630:(e,t,n)=>{n.d(t,{DE:()=>y,IS:()=>b,NO:()=>T,YI:()=>v,a4:()=>h});var r=n(2167),c=n(5861),o=n(4687),i=n.n(o),a=n(6097),s=n(5729),u=n(3138),l=n(5549),p=n(3780),d=n(6457),f=n(3095),m=n(3535),S=(n(7975),n(7585));function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g="remember/SET_IS_REMEMBED_STATUS",T=function setIsRemembedStatus(e){return{type:g,status:e}},v=function getRememberDeal(e,t){return function(){var n=(0,c.Z)(i().mark((function _callee(n,r){var c,o,g,T,v,h,b,E;return i().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.Wr.getDeal(e,t);case 2:if(c=r.sent){r.next=7;break}return r.next=6,s.Ho.getDeal(e,t);case 6:c=r.sent;case 7:c?(o=JSON.parse(c.global),g=JSON.parse(c.currentComplect),T=JSON.parse(c.od),v=JSON.parse(c.contract),h=JSON.parse(c.product),b=JSON.parse(c.rows),JSON.parse(c.result),E=null,c.regions&&(E=JSON.parse(c.regions)),n((0,f.W3)(o,E)),n((0,u.AZ)(g)),n(m.U.setRememberOd(T)),n((0,l.n8)(v)),n((0,d.AG)(h)),b.sets&&n((0,p._B)(b))):n((0,S.c4)(S.ln.GLOBAL));case 8:case"end":return r.stop()}}),_callee)})));return function(e,t){return n.apply(this,arguments)}}()},h=function newGetRememberDeal(e){return function(){var t=(0,c.Z)(i().mark((function _callee2(t,n){var r,c,o,a,s,d;return i().wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:e&&(r=JSON.parse(e.global),c=JSON.parse(e.currentComplect),o=JSON.parse(e.od),a=JSON.parse(e.contract),JSON.parse(e.product),s=JSON.parse(e.rows),JSON.parse(e.result),d=null,e.regions&&(d=JSON.parse(e.regions)),t((0,f.W3)(r,d)),t((0,u.AZ)(c)),t(m.U.setRememberOd(o)),t((0,l.n8)(a)),s.sets&&t((0,p._B)(s)));case 1:case"end":return n.stop()}}),_callee2)})));return function(e,n){return t.apply(this,arguments)}}()},b=function setRememberDeal(e,t,n){return function(){var r=(0,c.Z)(i().mark((function _callee3(r,c){var o,u,l,p,d,f,m,S;return i().wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return o=c(),u={currentOd:{number:o.od.currentOd.number},currentOdIndex:o.od.currentOdIndex},l={current:o.contract.current},p={resultItems:o.result.resultItems},d={domain:o.app.domain,company:o.app.company,user:o.app.user,currentUser:o.app.currentUser,token:o.app.token,dealId:o.app.dealId},f=null,o.region&&(f=o.region.current),m={app:JSON.stringify(d),global:JSON.stringify(o.global),currentComplect:JSON.stringify(o.currentComplect),od:JSON.stringify(u),result:JSON.stringify(p),contract:JSON.stringify(l),dealName:JSON.stringify(o.dealName),product:JSON.stringify(null),rows:JSON.stringify(o.rows),regions:JSON.stringify(f)},S=_objectSpread(_objectSpread({},m),{},{dealId:e,userId:t,domain:n}),console.log("lastState"),console.log(o),r.next=13,a.Wr.setDeal(S);case 13:return r.sent,r.next=16,s.Ho.addDeal(S);case 16:r.sent;case 17:case"end":return r.stop()}}),_callee3)})));return function(e,t){return r.apply(this,arguments)}}()},E={isRemembed:!1},y=function remember(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;return t.type===g?_objectSpread(_objectSpread({},e),{},{isRemembed:t.status}):e}},2807:(e,t,n)=>{n.d(t,{A_:()=>p,cy:()=>u,v2:()=>l,z8:()=>d});var r=n(1132),c=n(8203),o=n(4952),i=n(7998),a=n(826),s=n(7413),u=["Legal Tech"],l=["Правовая Поддержка"],p=["Без дополнительной оплаты"],d=function setCheckboxes(e){return function(t,n){var u=n().contract.current;t((0,i.fm)(e)),t((0,o.R)(e)),t((0,c.RZ)(e)),t((0,c.YQ)(e)),t((0,a.xl)(e,u)),t((0,r.eR)(e,u)),t((0,s._B)(e,u))}}},1132:(e,t,n)=>{n.d(t,{ZP:()=>T,cU:()=>S,eR:()=>g});var r=n(2167),c=n(8075),o=n(6068),i=n(8957),a=(n(2187),n(3780)),s=n(3095),u=n(5623),l=n(1103);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={groupsName:"Правовая Поддержка",current:null,product:null,display:"none",packages:{},value:[{name:"hot",title:"Горячая Линия",fullTitle:"Горячая Линия",shortTitle:"Горячая Линия",code:"hotline",checked:!1,weight:0,description:""},{name:"experts",code:"sovex",title:"Советы экспертов. Проверки, налоги, право",fullTitle:"Советы экспертов. Проверки, налоги, право",shortTitle:"Советы экспертов. Проверки, налоги, право",checked:!1,weight:0,description:""},{name:"premium",code:"pkpremium",title:"Советы экспертов. Проверки, налоги, право",fullTitle:"Советы экспертов. Проверки, налоги, право",shortTitle:"Советы экспертов. Проверки, налоги, право",checked:!1,weight:0,description:""}]},d="SET_CONSALTING",f="SET_FETCHED_CONSALTING",m="SET_CONSALTING_PRODUCT",S=function setFetchedConsalting(e){return{type:f,consalting:e}},g=function setConsalting(e,t){return function(n,r){n(function set(e,t){return{type:d,currentComplect:e,currentContract:t}}(e,t));var o=r(),i=o.consalting.current,s=o.global.currentRegion,u=null;if(i&&t&&s){var p=o.products.consalting;u=(0,c.vG)(i,t,s,p)}n(function setConsaltingProduct(e){return{type:m,product:e}}(u)),n((0,a.Ji)(l.p.CONSALTING))}};const T=function consalting(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var n=[],r=t.consalting;for(var c in t.consalting)n[c]={code:t.consalting[c].code,name:t.consalting[c].title,checked:!1,weight:0,abs:t.consalting[c].abs,price:0,description:t.consalting[c].description,productId:t.consalting[c].productId};return _objectSpread(_objectSpread({},e),{},{value:n,packages:r});case s.lr:var a={};for(var l in e.packages){var S=Number(e.packages[l].abs)*Number(t.currentRegion.rabs);S=Number(S.toFixed(2)),a[l]=_objectSpread(_objectSpread({},e.packages[l]),{},{price:S,currentProduct:e.packages[l].productId})}return _objectSpread(_objectSpread({},e),{},{packages:a});case d:var g=_objectSpread({},e);return g.value=e.value.map((function(e,n){return t.currentComplect.consalting.includes(n)||t.currentComplect.consaltingProduct.includes(n)?e.checked?e:_objectSpread(_objectSpread({},e),{},{checked:!e.checked}):e.checked?_objectSpread(_objectSpread({},e),{},{checked:!e.checked}):e})),t.currentComplect.consaltingProduct.length>0?(g.current=_objectSpread({},g.packages[t.currentComplect.consaltingProduct[0]]),g.current=(0,o.g)(g.current,t.currentContract)):g.current=null,g.current?g.display="flex":g.display="none",g;case m:return _objectSpread(_objectSpread({},e),{},{product:t.product});case u.td||u.Lw:return _objectSpread(_objectSpread({},(0,i.U)([e])[0]),{},{current:null,display:"none"});default:return e}}},8203:(e,t,n)=>{n.d(t,{RZ:()=>p,Sy:()=>i,YQ:()=>d,ZP:()=>f,mV:()=>a});var r=n(8611),c=n(8957),o=n(5623),i=["Пакет Энциклопедий решений"],a=["Энциклопедии решений"],s=[{groupsName:"Пакет Энциклопедий решений",value:[{name:"Пакет Энциклопедий решений для бухгалтера",code:"perbuh",checked:!1,including:[0,2,4,5,6],weight:1,description:""},{name:"Пакет Энциклопедий решений для бухгалтера госсектора",code:"pergos",checked:!1,weight:1,including:[1,3,4,5,6],description:""},{name:"Пакет Энциклопедий решений для юриста",code:"perur",checked:!1,weight:1,including:[0,3,4,6,7],description:""}]},{groupsName:"Энциклопедии решений",value:[{number:0,name:"Энциклопедия решений.Проверки организаций и предпринимателей",code:"erprov",checked:!1,weight:.5,description:"Практические рекомендации по подготовке к проверкам и по действиям при их проведении. Образцы документов, оформляемых в ходе проверок."},{number:1,name:"Энциклопедия решений.Госсектор: учет, отчетность, финконтроль",code:"ergos",checked:!1,weight:.5,description:"Аналитические материалы, предлагающие практические рекомендации по решению наиболее значимых и актуальных задач, стоящих в настоящее время перед специалистами организаций государственного сектора."},{number:2,name:"Энциклопедия решений.Хозяйственные ситуации",code:"erxs",checked:!1,weight:.5,description:"Практическая информация по конкретным хозяйственным ситуациям: описание ситуации, регулирующие ее правовые нормы, необходимые формы документов, бухгалтерские проводки, позиция контролирующих органов и судебная практика."},{number:3,name:"Энциклопедия решений.Госзакупки",code:"erzakupki",checked:!1,weight:.5,description:"Эксклюзивные консультации от специалистов ФАС России, подготовленные специально для системы ГАРАНТ, разъяснения и комментарии, административная практика, судебная практика и примерные формы документов."},{number:4,name:"Энциклопедия решений.Трудовые отношения, кадры",code:"erwroks",checked:!1,weight:.5,description:"Практические рекомендации по вопросам взаимоотношений работодателя и работника: от приема на работу до увольнения. Практические примеры, рекомендации."},{number:5,name:"Энциклопедия решений.Налоги и взносы",code:"ertax",checked:!1,weight:.5,description:"Пошаговые инструкции, практические примеры, образцы заполнения документов. Учтены все существующие точки зрения по спорным вопросам."},{number:6,name:"Энциклопедия решений.Договоры и иные сделки",code:"ercontracts",checked:!1,weight:.5,description:"Материалы о часто используемых гражданско-правовых договорах, помимо общей характеристики договоров рассматриваются особенности различных их видов. Формы договоров, акты, уведомления претензии и т. д."},{number:7,name:"Энциклопедия решений.Корпоративное право",code:"ercorp",checked:!1,weight:.5,description:"Необходимые сведения о регистрации юридических лиц, создании и деятельности филиалов и представительств, реорганизации, ликвидации и т. д."}]}],u="SET_ER",l="SET_PACKET_ER",p=function setERs(e){return{type:u,currentComplect:e}},d=function setPacketERs(e){return{type:l,currentComplect:e}};const f=function encyclopedias(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:case l:return(0,r.W)(e,t.currentComplect);case o.td||RESET_UNIVERSAL:return(0,c.U)(e);default:return e}}},4952:(e,t,n)=>{n.d(t,{R:()=>s,Z:()=>u});var r=n(9624),c=n(8957),o=n(5623),i={groupsName:"Без дополнительной оплаты",value:[{name:"Прайм: законодательство, судебная практика и проекты законов",number:24,code:"praim",checked:!1,weight:0,description:"Индивидуальная новостная лента. Объемный банк кратких аннотаций для всех важных документов, входящих в комплект пользователя. Мощный аналитический инструмент для построения обзоров изменений законодательства - позволяет формировать тематические обзоры нововведений и изменений законодательства за любой период.",isLa:!1},{name:"Архивы ГАРАНТа",number:25,code:"archives",checked:!1,weight:0,description:!1,isLa:!1},{name:"Большая домашняя правовая энциклопедия",number:26,code:"bhome",checked:!1,weight:0,description:"Основные правовые темы, с которыми может столкнуться любой гражданин нашей страны.",isLa:!1},{name:"База знаний службы правового консалтинга",number:27,code:"bcaonsalting",checked:!1,weight:0,description:"",isLa:!1},{name:"ГАРАНТ Консалтинг: нормативные акты и судебная практика",number:28,code:"zconsalting",checked:!1,weight:0,description:"",isLa:!1},{name:"Судебная практика: приложение к консультационным блокам",number:29,code:"freesud",checked:!1,weight:0,description:"В основу блока легли решения судебных инстанций, на которые ссылаются в своих работах авторы консультационных материалов, подключенных в систему ГАРАНТ. На момент выхода информационный блок объединяет решения, вынесенные Верховным Судом РФ, Высшим Арбитражным Судом РФ и Федеральными арбитражными судами округов.",isLa:!0},{name:"Онлайн-архив «Практика мировых судей»",number:30,code:"online1",checked:!1,weight:0,description:'При выборе блока "Практика судов общей юрисдикции" вы получаете доступ более чем десяткам миллионов решений мировых судей субъектов РФ.(разводы, взыскание алиментов, нарушение прав потребителей и т.д.).',isLa:!0},{name:"Онлайн-архив «Определения арбитражных судов»",number:31,code:"online2",checked:!1,weight:0,description:"Архив содержит определения, выносимые арбитражными судами первой, апелляционной и кассационной инстанций.",isLa:!0},{name:"Правовой консалтинг. Премиум: База знаний службы Правового консалтинга",checked:!1,weight:0,description:"",isLa:!1},{name:"2 экспертных заключения в месяц",checked:!1,weight:0,description:"",isLa:!1},{name:"Неограниченное количество устных консультаций",checked:!1,weight:0,description:"",isLa:!1},{number:8,name:"Интернет-Семианры",code:"ltsemi",checked:!1,weight:1,description:"Позволяет не отходя от рабочего места узнать мнение авторитетных лекторов по животрепещущим профессиональным вопросам в сферах гражданского, корпоративного, трудового права, налогообложения, бухгалтерского учёта, закупок, бюджетного законодательства, кадровых вопросов и др."}],fields:[]},a="CHANGE_FREE_BLOCKS",s=function setFreeblocks(e){return{type:a,currentComplect:e}};const u=function freeBlocks(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a:return(0,r.u)(e,t.currentComplect);case o.td||RESET_UNIVERSAL:return(0,c.U)([e])[0];default:return e}}},7998:(e,t,n)=>{n.d(t,{ZP:()=>d,fm:()=>p,vp:()=>s});var r=n(2167),c=n(2982),o=n(8957),i=n(3095),a=n(5623);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=["Нормативно-правовые акты","Судебная практика","Консультационные материалы","Специализированные блоки","Новые блоки"],u=[{groupsName:"Нормативно-правовые акты",value:[{name:"Законодательство России",number:0,code:"rus",checked:!1,weight:.5,description:"Информационный банк содержит документы федерального уровня регулирования по основным отраслям права: гражданские отношения, налогообложение, бухучет, предпринимательство, собственность, валютное регулирование, трудовые отношения, социальная защита и другие. Включает все кодексы и федеральные законы. Кроме нормативных документов, в блок включены судебная и арбитражная практика, формы правовых документов, производственный календарь и другие бизнес-справки.\nВ блок включены обновляемые интерактивные путеводители по общему плану счетов, кадровому делу и охране труда."},{name:"Региональное законодательство",number:1,code:"reg",title:"",checked:!1,weight:.5,description:"Основные правовые акты Вашего региона - необходимая информация для каждого специалиста, работающего с правовой информацией. Кодексы, законы, указы, постановления, приказы, разъяснительные письма и другие документы именно вашего региона."},{name:"Отраслевое законодательство",number:2,code:"ot",checked:!1,weight:1,description:"Информационный блок, объединивший в себе документы различных отраслевых тематик, полезен всем, чья сфера интересов связана с таможенными, земельными правоотношениями, банковской, правоохранительной, правозащитной, строительной и другими видами деятельности. \n\n\n\nТаможенное законодательство\n\nНеобходимая информация для тех, чья сфера деятельности связана с таможенными правоотношениями, ВЭД, валютным контролем. Документы, регламентирующие вопросы внешнеэкономической деятельности, в том числе документы ФТС России, полный текст ТН ВЭД СНГ; судебная и арбитражная практика; международные договоры, действующие в рамках ЕврАзЭс, Таможенный кодекс Таможенного союза; классификационные решения ФТС России; формы таможенных деклараций. Бизнес-справки, в том числе реестр банков, гарантии которых принимаются таможенными органами.\n\n\n\nБанковское законодательство\n\nДля профессионалов, связанных с банковской деятельностью. Документы ЦБ РФ, международные, ведомственные документы, судебная и арбитражная практика, формы отчетности, справочник БИК РФ, курсы валют, процентные ставки по операциям Банка России, в том числе ставка рефинансирования, а также другие бизнес-справки.\n\n\n\nЖилищное право\n\nИнформация подобрана специально для тех, чья сфера интересов связана с риелторской деятельностью, страхованием недвижимости, приватизацией жилья, ЖКХ. Нормативные документы по жилищному законодательству, представлению коммунальных услуг, приватизации, аренде, ипотечному кредитованию и другим вопросам. Также здесь содержатся судебная и арбитражная практика, формы документов для оформления всех видов сделок с недвижимостью.\n\n\n\nЗаконодательство по землепользованию, недропользованию, природоохране\n\nДля специалистов, интересующихся земельными правоотношениями, разработкой и использованием недр, водных и лесных ресурсов, атмосферного воздуха, охраной окружающей среды и обеспечением экологической безопасности, ведением и развитием сельского хозяйства, садоводства, огородничества, дачного хозяйства, контролем и надзором в сфере ветеринарии. Нормативные акты отраслевых министерств и ведомств, судебная и арбитражная практика по спорам об использовании земли, водных объектов, природной среды и природных ресурсов, формы необходимых документов, международные договоры в сфере защиты окружающей среды, экологического сотрудничества и другие.\n\n\n\nУголовное и административное право\n\nНеобходимая информация для специалистов, так или иначе связанных с правоохранительной и правозащитной деятельностью. Нормативные акты и судебная практика по уголовному, уголовно-процессуальному, административному, уголовно-исполнительному законодательству и законодательству о правоохранительных органах и оперативно-розыскной деятельности, а также формы процессуальных документов.\n\n\n\nМедицинское законодательство\n\nСпециалистам, решающим правовые задачи в сфере здравоохранения. Документы по финансированию и организации здравоохранения, медицинскому страхованию, лицензированию, контролю экспертизы и качества лекарственных средств, стандартам оказания медицинской помощи, правовому регулированию предоставления платных медицинских услуг. Формы отчетной и учетной медицинской документации, особенности налогообложения, льготного обеспечения в медицинских организациях и кадровая работа.\n\n\n\nЗаконодательство о строительстве\n\nНеобходимая информация для специалистов, работающих в области строительства. Федеральное и региональное законодательство в области строительства, рекомендации специалистов министерств и ведомств, судебная и арбитражная практика, международные соглашения, формы документов и необходимая справочная информация. \n\n \n"},{name:"Проекты законов",number:3,code:"pr",checked:!1,weight:.5,description:"Проекты федеральных законов, которые готовятся к рассмотрению Государственной Думой РФ."},{name:"Международное право",number:4,code:"me",checked:!1,weight:.5,description:"Документы, регулирующие деятельность участников внешнеэкономической деятельности по различным направлениям - экономическому, налоговому, таможенному, уголовному и другим."},{name:"Решения Федеральной антимонопольной службы",number:2,code:"fac",checked:!1,weight:1,description:"Включает в себя документы антимонопольной службы."}]},{groupsName:"Судебная практика",value:[{name:"Практика высших судебных органов",number:6,code:"lv",checked:!1,weight:1,description:"Практика КС РФ, ВАС РФ, ВС РФ, Суда по интеллектуальным правам."},{name:"Практика арбитражных судов округов",number:7,code:"la",checked:!1,weight:1,description:"Блок включает в себя практику всех 10 арбитражных судов округов - постановления, определения и обзоры практики суда по применению нормативных актов. \n\n- Представлены информационные блоки следующих округов:\n\n- Волго-Вятский округ\n\n- Восточно-Сибирский округ\n\n- Дальневосточный округ\n\n- Западно-Сибирский округ\n\n- Московский округ\n\n- Поволжский округ\n\n- Северо-Западный округ\n\n- Северо-Кавказский округ\n\n- Уральский округ\n\n- Центральный округ"},{name:"Практика арбитражных апелляционных судов округов",number:8,code:"laa",checked:!1,weight:1,description:"Практика всех 10 судебных округов в которых функционирует 21 арбитражный апелляционный суд."},{name:"Практика судов общей юрисдикции",number:9,code:"lgeneral",checked:!1,weight:1,description:"Практика судов общей юрисдикции из 85 регионов РФ (верховные суды республик, краевые и областные суды, суды городов федерального значения, суды автономной области и автономных округов, отдельные районные суды и мировые судьи)."},{name:"Энциклопедия судебной практики. Правовые позиции судов",number:10,code:"lencyc",checked:!1,weight:.5,description:'В блоке каждый документ посвящен конкретной норме права, и предлагает пользователям возможность быстро знакомиться с мнениями судов по рассматриваемому вопросу. Все материалы снабжены краткими выводами, которые были сформулированы опытными экспертами компании "Гарант", а также содержат правовые позиции судов по аналогичной ситуации. \nБлок позволяет быстро "ухватить" суть изучаемого вопроса и оперативно обращаться к заинтересовавшему судебному акту.\nЭнциклопедия включает в себя структурированные постатейные аннотации решений судов по наиболее востребованным пользователями темам и нормативным актам, среди которых: \n\n- Гражданский кодекс РФ; \n\n- Налоговый кодекс РФ; \n\n- Трудовой кодекс РФ; \n\n- Земельный кодекс; \n\n- Закон "Об акционерных обществах"; \n\n- Закон "Об обществах с ограниченной ответственностью"; \n\n- Закон "О защите прав потребителей"; \n\n- Закон о страховых взносах во внебюджетные фонды; \n\n- Закон об обязательном страховании от несчастных случаев \n\n"Энциклопедия" развивается и совершенствуется: в ближайшем будущем расширится охват норм и количество проанализированных судебных решений. \n'}]},{groupsName:"Консультационные материалы",value:[{name:"Большая библиотека юриста",number:11,code:"bbu",checked:!1,weight:1,description:"Комментарии к законодательству, монографии по актуальным правовым вопросам, юридические периодические издания, книги, вопросы-ответы. "},{name:"Большая библиотека бухгалтера и кадрового работника",number:12,code:"bbb",checked:!1,weight:1,description:"Библиотека книг и периодики для бухгалтера и кадровика. Бухгалтерский и кадровый учет, оформление новых сотрудников, первичных документов, кассовые операции, начисление зарплаты, больничные листы и многое другое. Книги, статьи, ответы на вопросы, практические решения. В блоке представлены статьи, комментарии, разъяснения, методические материалы, ответы специалистов профильных министерств, опубликованные в более чем восьмидесяти периодических изданиях для бухгалтеров и кадровиков. В блоке содержатся более 22 тысяч примеров бухгалтерских проводок. В блок включены интерактивные путеводители по общему плану счетов, бюджетному учёту в казённых учреждениях и органах власти, бухгалтерскому учёту в бюджетных учреждениях, в автономных учреждениях, кадровому делу."},{name:"Библиотека консультаций. Бухгалтерия предприятия",number:13,code:"bcompany",checked:!1,weight:.5,description:'Книги, статьи, вопросы-ответы из профессиональных журналов, интерактивные схемы, по тематикам: "УСН", "ЕНВД", "НДФЛ(подоходный налог)", "ОСН", "ПНС".'},{name:"Библиотека консультаций. Бюджетные организации",number:14,code:"bb",checked:!1,weight:.5,description:"Статьи, ответы на вопросы из специализированных журналов, а также книги и комментарии, разъясняющие вопросы бухгалтерского учета в учреждениях государственного сектора экономики."},{name:"Библиотека консультаций. Кадры",number:15,code:"bkk",checked:!1,weight:.5,description:"Cтатьи и вопросы-ответы из ведущих профессиональных СМИ, формы кадровых документов, книги и интерактивные схемы по трудовому законодательству, а также  Путеводитель по кадровому делу и Путеводитель по охране труда."}]},{groupsName:"Специализированные блоки",value:[{name:"Толковый словарь «Бизнес и право»",number:16,code:"tsbp",checked:!1,weight:.5,description:"Большой толковый словарь деловой терминологии. Содержит термины и понятия из области правовых и экономических отношений с подробными их толкованиями. Для некоторых терминов приведены переводы на 5 основных языках - английском, немецком, французском, итальянском и испанском."},{name:"Энциклопедия. Законодательство в схемах",number:17,code:"esx",checked:!1,weight:.5,description:"Интерактивные схемы, построенные с использованием современных флеш-технологий, помогут быстро разобраться в самых трудных правовых вопросах. Законодательство в схемах - разъяснительные материалы. Доступное и наглядное изложение, анимация, всплывающие подсказки и комментарии помогут сэкономить время и быстро понять суть разъяснений. Регулярная актуализация и пополнение."},{name:"Энциклопедия. Формы правовых документов",number:18,code:"eforms",checked:!1,weight:.5,description:"Уникальный блок содержит разработанные юристами-практиками формы различных документов, используемых в сфере гражданско-правовых отношений, процессуальных вопросах при обращениях в суд, регулирующих трудовую деятельность работника и работодателя, образцы локальных актов организаций, типовые отчетные формы и бланки документов, представляемые в государственные органы. В актуализируемую энциклопедию регулярно включаются новые формы."},{name:"ГАРАНТ-Инфарм",number:19,code:"infarm",checked:!1,weight:1,description:"Документы, регулирующие вопросы организации медицинской помощи, обязательного и добровольного медицинского страхования и многое другое. Также официальная информация о лекарственных средствах, фирмах."},{name:"Справочник нормативно-технической документации по строительству",number:20,code:"ntss",checked:!1,weight:1,description:"Для сметчиков, проектировщиков, специалистов производственных отделов.(СНиП, СНиР, ЕНиР, ГЭСН, ФЕР, МДС, ВСН, РД, СП, ТОИ, СанПиН, ГОСТ и др.)."},{name:"Справочник нормативно-технической документации по строительству. Дополнительные материалы",checked:!1,weight:0,description:"Блок предназначен для сметчиков, проектировщиков, специалистов производственных отделов. Строительные нормы и правила, формы документов, сметы, федеральные расценки и типовые инструкции в действующих редакциях (СНиП, СНиР, ЕНиР, ГЭСН, ФЕР, МДС, ВСН, РД, СП, ТОИ, СанПиН, ГОСТ и др.)"},{name:"Справочник промышленника",number:21,code:"sprom",checked:!1,weight:3,description:"Регулирование правоотношений в промышленности осуществляется огромным массивом нормативных актов и технических документов. Среди них – ГОСТы, СНиПы, ПБ,1 ПНСТ,2\nВСН,3 ТОИ4 и др. Получить доступ к данной информации, а также к десяткам тысяч документов в области технического регулирования, охраны труда, метрологического обеспечения, экологии и промышленной безопасности позволит новый продукт системы ГАРАНТ – Справочник промышленника.                \nДанный информационный блок предназначен, прежде всего, для сотрудников промышленных и производственных предприятий, заводов, фабрик, лабораторий, технических ВУЗов, а представленные в Справочнике документы заинтересуют отраслевых специалистов: инженеров, технических директоров, специалистов по охране труда, руководителей и сотрудников метрологических служб, специалистов по промышленной и экологической безопасности и др."},{name:"Справочник промышленника. Дополнительные материалы",checked:!1,weight:0,description:""},{name:"Справочник по охране труда",number:22,code:"sworks",checked:!1,weight:1,description:"Система охраны труда – это основа социальной защиты сотрудников от профессиональных рисков и база для создания безопасных условий их\nработы на предприятии. Напомним, что в отличие от техники безопасности на производстве, охрана труда – это ряд законодательно закрепленных мероприятий, которые можно разделить на 5 групп: \n\n- правовые (принятие законов, подзаконных и локальных нормативных актов);\n\n- социально-экономические (обязательное страхование работников, выплата компенсаций, предоставление льгот и т. п.);\n\n- организационно-технические (оценка условий труда на рабочих местах, оптимизация персонала и т. п.);\n\n- санитарно-гигиенические (обеспечение работников спецодеждой, обувью и иными средствами индивидуальной защиты);\n\n- профилактические (медосмотры сотрудников; внедрение оптимального режима труда и отдыха; создание системы спортивного оздоровления работников).\n\n Для решения указанных выше вопросов в\nпомощь нашим пользователям компания «Гарант» выпустила специальный информационный блок Справочник по охране труда, содержащий\nболее 19500 документов – стандартов и нормативов по охране труда и социальной безопасности.\n"},{name:"Справочник по техническому регулированию и стандартизации",number:23,code:"standart",checked:!1,weight:1,description:"Блок содержит документы в сфере технического регулирования и стандартизации: ГОСТы и другие нормативы по строительству, топливно-энергетическому комплексу, пищевой промышленности, машиностроению, медицине и фармацевтике, охране труда и т. д."}]}],l="SET_INFOBLOCK",p=function setInfoblocks(e){return{type:l,currentComplect:e}};const d=function infoblocks(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0,n=e;switch(t.type){case l:return t.currentComplect?n=(0,o.j)(e,t.currentComplect):alert("Сначала выберете комплект!"),n;case i.lr:if(e[0].value[1].name!==t.currentRegion.infoblock){var r=(0,c.Z)(e);return r[0]=_objectSpread({},e[0]),r[0].value=(0,c.Z)(e[0].value),r[0].value[1]=_objectSpread({},e[0].value[1]),r[0].value[1].title=t.currentRegion.infoblock,r}return e;case a.td||RESET_UNIVERSAL:return(0,o.U)(e);default:return e}}},826:(e,t,n)=>{n.d(t,{VW:()=>T,ZP:()=>h,xl:()=>v,yC:()=>f});var r=n(2167),c=n(8075),o=n(6068),i=n(8957),a=n(6230),s=n(3780),u=n(3095),l=n(5623),p=n(1103);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={display:"none",weightLt:0,ltIncluded:0,packages:{},current:null,product:null,groupsName:"Legal Tech",value:[{number:0,name:'Аналитическая система "Сутяжник" ',code:"ltsut",checked:!1,weight:1,description:"Автоматизированный сервис по подбору судебной практики, соответствующей содержанию и тематике документов, загружаемых в сервис пользователем."},{number:1,name:"Конструктор правовых документов",code:"ltconstructor",checked:!1,weight:1,description:"Позволяет быстро получить утвержденную в установленном порядке учетную политику коммерческой или бюджетной организации, готовый к подписанию гражданско-правовой договор, трудовой договор, государственный (муниципальный) контракт и многое другое."},{number:2,name:"Экспресс проверка контрагентов",code:"ltexcontragent",checked:!1,weight:1,description:"Позволяет самостоятельно определить степень благонадежности контрагента. Информация о компании компактно сгруппирована по рубрикам(реквизиты, сведения об учредителях и многие другие)."},{number:3,name:"Гарант Диск",code:"ltdisk",checked:!1,weight:1,description:"Возможность обеспечить удобный доступ к актуальным версиям всех важных документов организации прямо в системе ГАРАНТ. Теперь все важные документы, формы, образцы будут храниться в одном месте и доступны всем сотрудникам, у которых есть доступ к системе ГАРАНТ. А еще этот сервис умеет автоматически расставлять гиперссылки на законы в загруженном тексте."},{number:4,name:"Гарант Коннект",code:"ltconnect",checked:!1,weight:1,description:'API к системе ГАРАНТ, программный интерфейс приложения, позволяющий пропустить этап обращения к обычному интерфейсу IT-решений и сразу встраивать их функции в ваши программы и сайты. До недавних пор справочные правовые системы не имели своего API. Компания "Гарант" первой решила исправить эту ситуацию.'},{number:5,name:"Бизнес на контроле",code:"ltbusiness",checked:!1,weight:1,description:"Предназначен для отслеживания новых событий и создания напоминаний, связанных с юридическими лицами и ИП в сфере интересов пользователя (собственными активами, контрагентами, конкурентами)."},{number:6,name:"Гарант ДокМэйл",code:"ltdocmail",checked:!1,weight:1,description:""},{number:7,name:"Экспресс Согласование",code:"ltexsog",checked:!1,weight:1,description:"Инструмент, позволяющий навести порядок в бизнес-процессах согласования договоров, коммерческих предложений, официальных писем, протоколов собраний и любых других документов, требующих визирования несколькими сотрудниками организации."},{number:8,name:"Интернет-Семианры",code:"ltsemi",checked:!1,weight:1,description:"Позволяет не отходя от рабочего места узнать мнение авторитетных лекторов по животрепещущим профессиональным вопросам в сферах гражданского, корпоративного, трудового права, налогообложения, бухгалтерского учёта, закупок, бюджетного законодательства, кадровых вопросов и др."},{number:9,name:"Эталонный Классификатор",code:"ltclassificator",checked:!1,weight:1,description:"Позволяет правильно формировать налоговую базу, определять и обосновывать применение налоговых льгот. Сервис является надежным рабочим инструментом для выбора и подтверждения нормами законодательства следующих данных для любого основного средства: кода ОКОФ, амортизационной группы, срока полезного использования и налоговых преференций."},{number:10,name:"Онлайн Патент Стандарт",code:"ltpatent",checked:!1,weight:1,description:"Цифровая платформа для управления, поиска и мониторинга интеллектуальной собственности, а также специальный комплекс сопутствующих услуг."},{number:11,name:"Гарант Тендер",code:"lttender",checked:!1,weight:1,description:"Мониторинг площадок и контроль участия в закупках. Помогает найти по интересующим параметрам и отобрать лучшие закупки на всех торговых площадках страны, а также информирует об изменении в документации и статусе конкретной закупки. Благодаря системе комментирования можно наладить обмен информацией внутри тендерного отдела."},{number:12,name:"Гарант ЧекДок",code:"ltcheckdoc",checked:!1,weight:1,description:""}]},f="LT собран неверно",m="SET_LT",S="SET_FETCHED_LT",g="SET_LT_PRODUCT",T=function setFetchedLt(e){return{type:S,legalTech:e}},v=function setLt(e,t){return function(n,r){n(function set(e,t){return{type:m,currentComplect:e,currentContract:t}}(e,t));var o=r(),i=o.legalTech.current,a=o.global.currentRegion,u=null;if(i&&t&&a){var l=o.products.legalTech;u=(0,c.vG)(i,t,a,l)}n(function setLtProduct(e){return{type:g,product:e}}(u)),n((0,s.Ji)(p.p.LT))}};const h=function legalTech(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:var n=[];t.legalTech.lt.forEach((function(e){return n[e.number]={number:e.number,name:e.name,code:e.code,checked:!1,weight:1,description:e.description}}));var r={};for(var c in t.legalTech.packages)r[t.legalTech.packages[c].weight]=t.legalTech.packages[c];return _objectSpread(_objectSpread({},e),{},{packages:r,value:n});case u.lr:var s=_objectSpread({},e.packages);for(var p in s)s[p]=_objectSpread({},s[p]),"msk"===t.currentRegion.name?s[p].price=s[p].msk:s[p].price=s[p].regions;return _objectSpread(_objectSpread({},e),{},{packages:s});case m:var f=_objectSpread({},e);return f.value=(0,a.v)(f.value,t.currentComplect),(f=(0,a.z)(f,t.currentComplect)).current&&(f.current=(0,o.g)(f.current,t.currentContract)),f;case g:return _objectSpread(_objectSpread({},e),{},{product:t.product});case l.td||l.Lw:return _objectSpread(_objectSpread({},(0,i.U)([e])[0]),{},{display:"none",weightLt:0,ltIncluded:0});default:return e}}},7413:(e,t,n)=>{n.d(t,{ER:()=>s,ZP:()=>g,_B:()=>m,f1:()=>f});var r=n(2982),c=n(2167),o=n(1103),i=n(3780),a=n(8075);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=["Дополнительные программные продукты"],u={groupsName:s[0],value:[{number:0,code:"starpack",type:o.p.STAR,name:"Система торговых аналитических решений",checked:!1,weight:0,isLa:!1,isStar:!0,isGroup:!0,description:"В эту систему входит набор цифровых инструментов, помогающих упростить, ускорить, повысить точность и качество работы всех, кто связан с госзакупками и проведением торгов. Сервисы были разработаны одной из крупнейших торговых площадок России – РТС-Тендер – исходя из насущных запросов участников и обширного опыта работы с разными видами закупок. Данные сервисы уже в течение продолжительного времени применяются для клиентов площадки. В рамках партнерского проекта с компанией «Гарант» эти сервисы могут быть предоставлены заинтересованным клиентам на выгодных условиях вместе с системой ГАРАНТ. Система торговых аналитических решений будет интересна как закупщикам, так и поставщикам - всем участникам государственных и коммерческих закупок, которые проводятся по определенным процедурам (44-ФЗ, 223-ФЗ и др.), включая торги. "}],items:[{name:"Калькулятор сроков закупки",code:"stcalc",number:0,checked:!0,weight:0,description:"Расчёт всех допустимых сроков проведения закупки в соответствии с регламентом и способом определения поставщика в рамках 44-ФЗ \n Расчёт сроков с учётом всех выходных и праздничных дней \n Пересчёт допустимых сроков с учётом публикации протокола разногласий \n Возможность выгрузить отчет с указанием всех этапов с допустимыми сроками в виде электронной таблицы ",isLa:!1},{name:"Поиск поставщиков",code:"stsearchpost",number:1,checked:!0,weight:0,description:"Поиск контактных данных поставщиков в своем регионе и за  его пределами. Поиск осуществляется по наименованию товара/работы/услуги и не только \n Проверка благонадежности ЮЛ и ИП на основании более чем 30 официальных источников, а также возможность скачать протокол проверки  ",isLa:!1},{name:"Мониторинг цен гос. закупок",code:"stmonp",number:2,checked:!0,weight:0,description:"Быстрая и простая проверка уровня цен на товары, работы, услуги в извещениях и контрактах / договорах  \n Поиск цен в извещениях, в прайс-листах поставщиков, в рамках 44-ФЗ, ЗМО, а также контрактах / договорах, размещенных по 44-ФЗ и 223-ФЗ  ",isLa:!1},{name:"Обоснование НМЦК для товаров и медицинских изделий",code:"stnmckproduct",number:3,checked:!0,weight:0,description:"Осуществление расчетов начальной (максимальной) цены контракта (НМЦК) в соответствии с приказом Минэкономразвития РФ от 02.10.2013 № 567 и (или) приказом Минздрава РФ от 15.05.2020 № 450н, а также автоматическое формирование документов для подтверждения расчета НМЦК ",isLa:!1},{name:"Обоснование НМЦК лекарственных средств",code:"stnmckdrag",number:4,checked:!0,weight:0,description:"Осуществление расчетов начальной (максимальной) цены контракта (НМЦК) в соответствии с приказом Министерства здравоохранения РФ от 19 декабря 2019 г. № 1064н, а также автоматическое формирование документов для подтверждения расчета НМЦК ",isLa:!1},{name:"Квотирование закупок ",code:"stkzk",number:5,checked:!0,weight:0,description:"Предназначен для расчета выполнения доли импортозамещения согласно ПП РФ № 2014 ",isLa:!1},{name:"Проверка аффилированности",code:"stpaff",number:6,checked:!0,weight:0,description:"Проверка наличия в закупке конфликта интересов между членами комиссии и участниками \n Поиск по реквизитам / наименованию организаций и ИП, а также ИНН и ФИО физических лиц  \n Нахождение всех возможных связей между организациями, ИП и физическими лицами \n Проверка всех записей из выписок ЕГРЮЛ/ЕГРИП с 2014 года ",isLa:!1},{name:"Проверка ОКПД2 на ограничения и запреты",code:"stpokpd",number:7,checked:!0,weight:0,description:"Проверка совместимости товаров в рамках одной закупки, отображение распространяемых на них ограничений и/или преференций  \n Поиск как постановлений по кодам КТРУ, ОКПД2, так и самих кодов ОКПД2  \n Проверка наличия типовых контрактов по ОКПД2 \n  Поиск по всем КТРУ, относящимся к ограничениям постановлений Правительства РФ ",isLa:!1},{name:"Поиск файлов технической документации",code:"stasearchfile",number:8,checked:!0,weight:0,description:"Поиск и скачивание файлов закупочной документации и технических заданий в рамках 44-ФЗ и 223-ФЗ по наименованию товара, работы, услуги, а также по кодам КТРУ и ОКПД2  \n Поиск документации с учетом аванса и наличия запросов на разъяснение \n Поиск извещений с учетом жалоб ФАС   ",isLa:!1},{name:"Стандарты и нормы",code:"ststandart",number:9,checked:!0,weight:0,description:"Проверка закупочной документации на актуальность стандартов и норм, получение информации о ранее действующих и заменяющих регламентах  \n Каталог и поиск: ГОСТ, СНиП, СанПиН, РД, СП  \n Наличие ранее действующих и заменяющих регламентов  \n Список закупок по выбранному стандарту или норме  ",isLa:!1}],package:{number:0,type:o.p.STAR,name:"Система торговых аналитических решений",checked:!0,weight:0,isLa:!1,isStar:!0,isGroup:!0,description:"В эту систему входит набор цифровых инструментов, помогающих упростить, ускорить, повысить точность и качество работы всех, кто связан с госзакупками и проведением торгов. Сервисы были разработаны одной из крупнейших торговых площадок России – РТС-Тендер – исходя из насущных запросов участников и обширного опыта работы с разными видами закупок. Данные сервисы уже в течение продолжительного времени применяются для клиентов площадки. В рамках партнерского проекта с компанией «Гарант» эти сервисы могут быть предоставлены заинтересованным клиентам на выгодных условиях вместе с системой ГАРАНТ. Система торговых аналитических решений будет интересна как закупщикам, так и поставщикам - всем участникам государственных и коммерческих закупок, которые проводятся по определенным процедурам (44-ФЗ, 223-ФЗ и др.), включая торги. "},current:null,product:null},l="SET_STAR",p="SET_STAR_PRODUCT",d="SET_FETCHED_STAR",f=function setFetchedStar(e){return{type:d,pack:e}},m=function setStar(e,t){return function(n,r){n(function set(e,t){return{type:l,currentComplect:e,currentContract:t}}(e,t));var c=r(),s=c.star.current,u=c.global.currentRegion;if(s&&t&&u){var d=c.products.star;n(function setStarProduct(e){return{type:p,product:e}}((0,a.vG)(s,t,u,d,e)))}n((0,i.Ji)(o.p.STAR))}},S=function getStarInfoblock(e,t){var n=null;return e&&e.name&&(n=_objectSpread(_objectSpread({},e),{},{name:e.name,number:0,title:e.fullName,checked:t,weight:0,description:e.description})),n};const g=function star(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:var n=(0,r.Z)(e.items),c=_objectSpread({},t.pack[0]),o=S(c,!0);return n.unshift(o),_objectSpread(_objectSpread({},e),{},{value:[c],package:c,items:n});case l:if(t.currentComplect.star&&t.currentComplect.star.length>0){var i=e.items.map((function(e){return _objectSpread({},e)})),a=_objectSpread({},e.package);return _objectSpread(_objectSpread({},e),{},{value:i,current:a})}var s=S(e.package,!1);return _objectSpread(_objectSpread({},e),{},{value:[s],current:null,product:null});case p:return _objectSpread(_objectSpread({},e),{},{product:t.product});default:return e}}},3138:(e,t,n)=>{n.d(t,{AZ:()=>w,BL:()=>U,Kk:()=>k,MK:()=>N,Qk:()=>x,RF:()=>L,Tp:()=>j,VU:()=>g,ao:()=>P,ex:()=>M,f0:()=>D,lr:()=>R,ur:()=>A});var r=n(2167),c=n(2447),o=n(1046),i=n(2807),a=n(1132),s=n(8203),u=n(4952),l=n(7998),p=n(826),d=n(6457),f=n(3095),m=n(5623),S=n(7413);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g="Неправильный вес комплекта",T="CREATE_COMPLECT",v="CHANGE_WEIGHT_AND_NAME_OF_UNIVERSAL_COMPLECT",h="CHANGE_PACKET_ER",b="CHANGE_ER",E="CHANGE_FREE",y="CHANGE_INFOBLOCK",_="SET_FILLING_LT",C="SET_FILLING_CONSALTING",O="SET_STAR_IN_COMPLECT",I=function setCurrentComplect(e,t,n,r){return{type:T,defaultComplect:e,index:t,ods:n,currentOd:r}},w=function rememberCurrentComplect(e){return function(t,n){if(e.type===c.B5.PROF)t(P(e,e.numer,!0));else{var r=n();r.universals.complects,r.global.currentComplectsType;t(R(e,!0))}}},P=function createComplect(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,c){var o=c().od;r(I(e,t,o.names,o.currentOd));var a=c().currentComplect;r((0,i.z8)(a)),r((0,d._m)(!1,n))}},R=function createtUniversalDefaultComplect(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var c=r(),o=e||_objectSpread({},c.universals.universalDefaultComplect),a=c.od.names,s=c.od.currentOd;n(I(o,8,a,s));var u=r().currentComplect;n((0,i.z8)(u)),n((0,d._m)(!1,t))}},A=function changeUniversalComplect(e,t,n,r){return function(c,o){c(function setUniversalComplect(e,t,n,r){return{type:v,weight:e,currentComplectsType:t,universalComplects:n,regions:r}}(e,t,n,r));var i=o().od,a=o().currentComplect;c(I(a,a.number,i.names,i.currentOd)),c((0,d._m)())}},N=function changeStar(e,t){return function(n,r){n(function setStarInCurrentComplect(e,t){return{type:O,checked:e,index:t}}(e,t));var c=r().currentComplect,o=r().contract.current;n((0,S._B)(c,o))}},k=function changeInfoblock(e,t){return function(n,r){n(function setFillingInfoblock(e,t){return{type:y,checked:e,value:t}}(e,t));var c=r().currentComplect;n((0,l.fm)(c)),n((0,u.R)(c))}},D=function changeFree(e,t){return function(n,r){n(function setFillingFree(e,t){return{type:E,checked:e,index:t}}(e,t));var c=r().currentComplect;n((0,u.R)(c))}},j=function changeER(e,t){return function(n,r){n(function setFillingER(e,t,n){return{type:b,packets:e,checked:t,index:n}}(r().encyclopedias[0].value,e,t));var c=r().currentComplect;n((0,s.RZ)(c))}},L=function changePacketER(e,t){return function(n,r){n(function setFillingPacketER(e,t,n){return{type:h,packets:e,checked:t,index:n}}(r().encyclopedias[0].value,e,t));var c=r().currentComplect;n((0,s.YQ)(c))}},M=function changeLt(e,t){return function(n,r){n(function setFillingLt(e,t){return{type:_,checked:e,index:t}}(e,t));var c=r().currentComplect,o=r().contract.current;n((0,p.xl)(c,o))}},x=function changeConsalting(e,t){return function(n,r){n(function setFillingConsalting(e,t){return{type:C,checked:e,index:t}}(e,t));var c=r().currentComplect,o=r().contract.current;n((0,a.eR)(c,o)),n((0,u.R)(c))}},U=function currentComplect(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,currentComplect=e;switch(t.type){case T||MAXIMUM:return t.defaultComplect&&(e=_objectSpread({},t.defaultComplect)),e;case v:if(e){if(currentComplect=_objectSpread({},e),t.currentComplectsType.title===f.D7){var n=0,r=!1;return t.universalComplects.forEach((function(e,c){if(t.weight===e.weight)n++,currentComplect.number=e.number,currentComplect.name=e.name,currentComplect.title=e.title,currentComplect.fullTitle=e.fullTitle,currentComplect.shortTitle=e.shortTitle,currentComplect.weight=e.weight,r=!0;else if(t.weight<e.weight&&!r&&c){var o=t.universalComplects[c-1];currentComplect.number=o.number,currentComplect.name=o.name,currentComplect.title=o.title,currentComplect.fullTitle=o.fullTitle,currentComplect.shortTitle=o.shortTitle,currentComplect.weight=o.weight,r=!0}})),!n&&t.weight&&(currentComplect.name=g),currentComplect.regions=t.regions,currentComplect}return e}return e;case y:return(0,o.XV)(e,t.checked,t.value);case E:return e?(currentComplect=_objectSpread({},e),currentComplect.isChanging&&(t.checked?currentComplect.freeBlocks.includes(t.index)&&(currentComplect.freeBlocks=(0,o.WN)(currentComplect,t.index)):currentComplect.freeBlocks.includes(t.index)||10===t.index||11===t.index||12===t.index||currentComplect.freeBlocks.push(t.index)),currentComplect):e;case b:if(currentComplect){var c=_objectSpread({},currentComplect);return currentComplect.isChanging&&(c=(0,o.uA)(currentComplect,t.packets,t.checked,t.index)),c}return alert("Сначала выберете комплект!"),e;case h:return(0,o.tv)(e,t.packets,t.checked,t.index);case _:return(0,o.Gs)(e,t.checked,t.index);case C:return(0,o.HW)(e,t.checked,t.index);case O:return(0,o.Co)(e,t.checked,t.index);case m.td:return null;default:return e}}},4115:(e,t,n)=>{n.d(t,{Z:()=>c});var r=[{name:"buh",title:"Бухгалтер",fullTitle:"Гарант-Бухгалтер",shortTitle:"",tag:"accountant",className:"btn__accountant",number:0,weight:3.5,withConsalting:!1,isChanging:!1,filling:["Законодательство России","Региональное законодательство","Большая библиотека бухгалтера и кадрового работника","Энциклопедия. Формы правовых документов","Пакет Энциклопедий решений для бухгалтера"],ers:[],packetsEr:[0],ersInPacket:[0,2,4,5,6],lt:[1,8],ltInPacket:[],freeBlocks:[0,1,2,3,4,5],consalting:[0],consaltingProduct:[],type:"prof",withStar:!1,star:[],regions:[]},{name:"buhgos",title:"Бухгалтер госсектора",fullTitle:"Гарант-Бухгалтер госсектора",shortTitle:"",tag:"budget",className:"btn__budget",number:1,weight:4,withConsalting:!1,isChanging:!1,filling:["Законодательство России","Региональное законодательство","Большая библиотека бухгалтера и кадрового работника","Энциклопедия. Формы правовых документов","Энциклопедия решений.Проверки организаций и предпринимателей"],ers:[0],packetsEr:[1],ersInPacket:[1,3,4,5,6],lt:[1,8],ltInPacket:[],freeBlocks:[0,1,2,3,4,5],consalting:[0],consaltingProduct:[],type:"prof",withStar:!1,star:[]},{name:"ur",title:"Юрист",fullTitle:"Гарант-Юрист",shortTitle:"",tag:"lawyer",className:"btn__lawyer",number:2,weight:9,withConsalting:!1,isChanging:!0,filling:["Законодательство России","Региональное законодательство","Отраслевое законодательство","Практика высших судебных органов","Практика арбитражных судов округов","Практика арбитражных апелляционных судов округов","Практика судов общей юрисдикции","Энциклопедия судебной практики. Правовые позиции судов","Большая библиотека юриста","Энциклопедия. Формы правовых документов"],ers:[],packetsEr:[2],ersInPacket:[0,3,4,6,7],lt:[0,1],ltInPacket:[],freeBlocks:[0,1,2,3,4,5,6,7,11],consalting:[0],consaltingProduct:[],type:"prof",withStar:!1,star:[],regions:[]},{name:"expert",title:"Эксперт PRO",fullTitle:"Гарант-Эксперт PRO",shortTitle:"",tag:"expert",className:"btn__expert",number:3,weight:5,withConsalting:!1,isChanging:!1,filling:["Отраслевое законодательство","Справочник промышленника","Справочник нормативно-технической документации по строительству","Справочник промышленника. Дополнительные материалы","Справочник нормативно-технической документации по строительству. Дополнительные материалы"],ers:[],packetsEr:[],ersInPacket:[],lt:[1,3],ltInPacket:[],freeBlocks:[0,1,2,5],consalting:[0],consaltingProduct:[],type:"prof",withStar:!1,star:[],regions:[]},{name:"office",title:"Офис",fullTitle:"Гарант-Офис",shortTitle:"",tag:"office",className:"btn__office",number:4,weight:11,withConsalting:!1,isChanging:!0,filling:["Законодательство России","Региональное законодательство","Отраслевое законодательство","Практика высших судебных органов","Практика арбитражных судов округов","Практика арбитражных апелляционных судов округов","Практика судов общей юрисдикции","Энциклопедия судебной практики. Правовые позиции судов","Большая библиотека юриста","Большая библиотека бухгалтера и кадрового работника","Пакет Энциклопедий решений для юриста","Пакет Энциклопедий решений для бухгалтера","Энциклопедия. Формы правовых документов"],ers:[],packetsEr:[0,2],ersInPacket:[0,2,4,5,6,3,7],lt:[0,1,8,9,10],ltInPacket:[],freeBlocks:[0,1,2,3,4,5,6,7],consalting:[0],consaltingProduct:[],type:"prof",withStar:!1,star:[],regions:[]},{name:"exzak",title:"Эксперт в Закупках",fullTitle:"Гарант-Эксперт в Закупках",shortTitle:"",tag:"buh",className:"btn__budget",number:18,weight:6,withConsalting:!0,isChanging:!0,noChanged:["Законодательство России","Региональное законодательство","Решения Федеральной антимонопольной службы","Энциклопедия судебной практики. Правовые позиции судов","Энциклопедия. Формы правовых документов"],filling:["Законодательство России","Региональное законодательство","Решения Федеральной антимонопольной службы","Практика высших судебных органов","Практика арбитражных судов округов","Энциклопедия судебной практики. Правовые позиции судов","Энциклопедия. Формы правовых документов"],ers:[6,3],packetsEr:[],ersInPacket:[],lt:[2,11,12,8,1],ltInPacket:[],freeBlocks:[0,1,2,3,4,5,6,7,8,10],consalting:[0,1],consaltingProduct:[],type:"prof",withStar:!0,star:[0],regions:[]},{name:"glavbuh",title:"Главный Бухгалтер",fullTitle:"Гарант-Главный Бухгалтер",shortTitle:"Гл. Бухгалтер",tag:"bigAccountant",className:"btn__accountant-big",number:5,weight:7,withConsalting:!0,isChanging:!0,filling:["Законодательство России","Региональное законодательство","Практика высших судебных органов","Практика арбитражных судов округов","Большая библиотека бухгалтера и кадрового работника","Энциклопедия. Законодательство в схемах","Энциклопедия. Формы правовых документов"],ers:[3,7],packetsEr:[0],ersInPacket:[0,2,4,5,6],lt:[1,8],ltInPacket:[],freeBlocks:[0,1,2,3,4,5,6,7,8,10],consalting:[0,1],consaltingProduct:[],type:"prof",withStar:!1,star:[],regions:[]},{name:"glavbuhgos",title:"Главный Бухгалтер госсектора",fullTitle:"Гарант-Главный Бухгалтер госсектора",shortTitle:"Гл. Бухгалтер госсектора",tag:"bigBudget",className:"btn__budget-big",number:6,weight:8,withConsalting:!0,isChanging:!0,filling:["Законодательство России","Региональное законодательство","Отраслевое законодательство","Практика высших судебных органов","Практика арбитражных судов округов","Большая библиотека бухгалтера и кадрового работника","Энциклопедия. Законодательство в схемах","Энциклопедия. Формы правовых документов","Энциклопедия решений. Проверки организаций и предпринимателей","Энциклопедия решений. Корпоративное право","Пакет Энциклопедий решений для бухгалтера госсектора"],ers:[0,7],packetsEr:[1],ersInPacket:[1,3,4,5,6],lt:[1,8],ltInPacket:[],freeBlocks:[0,1,2,3,4,5,6,7,8,10],consalting:[0,1],consaltingProduct:[],type:"prof",withStar:!1,star:[],regions:[]},{name:"company",title:"Предприятие",fullTitle:"Гарант-Предприятие",shortTitle:"",tag:"company",className:"btn__company",number:7,weight:12.5,withConsalting:!0,isChanging:!0,filling:["Законодательство России","Региональное законодательство","Отраслевое законодательство","Практика высших судебных органов","Практика арбитражных судов округов","Практика арбитражных апелляционных судов округов","Практика судов общей юрисдикции","Энциклопедия судебной практики. Правовые позиции судов","Большая библиотека юриста","Большая библиотека бухгалтера и кадрового работника","Энциклопедия. Формы правовых документов"],currentFilling:"",ers:[0,2,3,4,5,6,7],packetsEr:[],ersInPacket:[],lt:[1,8],ltInPacket:[],freeBlocks:[0,1,2,3,4,5,6,7,8,10],consalting:[0,1],consaltingProduct:[],type:"prof",withStar:!1,star:[],regions:[]},{name:"companyPro",title:"Предприятие PRO",fullTitle:"Гарант-Предприятие PRO",shortTitle:"",tag:"companyPro",className:"btn__company-pro",number:8,weight:15.5,withConsalting:!0,isChanging:!0,filling:["Законодательство России","Региональное законодательство","Отраслевое законодательство","Справочник промышленника","Практика высших судебных органов","Практика арбитражных судов округов","Практика арбитражных апелляционных судов округов","Практика судов общей юрисдикции","Энциклопедия судебной практики. Правовые позиции судов","Большая библиотека юриста","Большая библиотека бухгалтера и кадрового работника","Энциклопедия. Формы правовых документов","Энциклопедия решений.Проверки организаций и предпринимателей","Энциклопедия решений.Хозяйственные ситуации","Энциклопедия решений.Госзакупки","Энциклопедия решений.Трудовые отношения, кадры","Энциклопедия решений.Договоры и иные сделки","Энциклопедия решений.Корпоративное право","Энциклопедия решений.Налоги и взносы"],ers:[0,2,3,4,5,6,7],packetsEr:[],ersInPacket:[],lt:[1,8],ltInPacket:[],freeBlocks:[0,1,2,3,4,5,6,7,8,10],consalting:[0,1],consaltingProduct:[],type:"prof",withStar:!1,star:[],regions:[]}];const c=function profs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return(arguments.length>1?arguments[1]:void 0).type,e}},7097:(e,t,n)=>{n.d(t,{Z:()=>a});var r,c=n(2167),o=n(5623);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i={complects:[{name:"classic",title:"Классик",fullTitle:"Гарант-Классик",shortTitle:"",isChanging:!0,weight:1,className:"btn__universal",number:9,withConsalting:!1,consaltingProduct:[],type:"universal",withStar:!1,star:[],regions:[]},(0,c.Z)((0,c.Z)((0,c.Z)({name:"classicPlus",title:"Классик+",fullTitle:"Гарант-Классик+",shortTitle:"",withStar:!1,star:[],isChanging:!0,weight:1.5,className:"btn__universal",number:10,withConsalting:!1,consaltingProduct:[],type:"universal"},"withStar",!1),"star",[]),"regions",[]),{name:"un",title:"Универсал",fullTitle:"Гарант-Универсал",shortTitle:"",isChanging:!0,weight:2,className:"btn__universal",number:11,withConsalting:!1,consaltingProduct:[],type:"universal",withStar:!1,star:[],regions:[]},{name:"unlus",title:"Универсал+",fullTitle:"Гарант-Универсал+",shortTitle:"",isChanging:!0,weight:3,className:"btn__universal",number:12,withConsalting:!1,consaltingProduct:[],type:"universal",withStar:!1,star:[],regions:[]},{name:"professional",title:"Профессионал",fullTitle:"Гарант-Профессионал",shortTitle:"",isChanging:!0,weight:4,className:"btn__universal",number:13,withConsalting:!1,consaltingProduct:[],type:"universal",withStar:!1,star:[],regions:[]},(0,c.Z)((0,c.Z)((0,c.Z)({name:"master",title:"Мастер",fullTitle:"Гарант-Мастер",shortTitle:"",withStar:!1,star:[],regions:[],isChanging:!0,weight:6,className:"btn__universal",number:14,withConsalting:!1,consaltingProduct:[],type:"universal"},"withStar",!1),"star",[]),"regions",[]),(0,c.Z)((0,c.Z)({name:"analitik",title:"Аналитик",fullTitle:"Гарант-Аналитик",shortTitle:"",withStar:!1,star:[],regions:[],isChanging:!0,weight:9,className:"btn__universal",number:15,withConsalting:!1,consaltingProduct:[],type:"universal"},"withStar",!1),"star",[]),(0,c.Z)((0,c.Z)({name:"analitikPlus",title:"Аналитик+",fullTitle:"Гарант-Аналитик+",shortTitle:"",withStar:!1,star:[],regions:[],isChanging:!0,weight:12,className:"btn__universal",number:16,withConsalting:!1,consaltingProduct:[],type:"universal"},"withStar",!1),"star",[]),(0,c.Z)((0,c.Z)((0,c.Z)({name:"maximum",title:"Максимум",fullTitle:"Гарант-Максимум",shortTitle:"",withStar:!1,star:[],regions:[],isChanging:!0,weight:23,className:"btn__universal",number:17,withConsalting:!1,filling:["Законодательство России","Региональное законодательство","Отраслевое законодательство","Проекты законов","Международное право","Решения Федеральной антимонопольной службы","Справочник промышленника","Справочник по охране труда","Справочник по техническому регулированию и стандартизации","Практика высших судебных органов","Практика арбитражных судов округов","Практика арбитражных апелляционных судов округов","Практика судов общей юрисдикции","Энциклопедия судебной практики. Правовые позиции судов","Большая библиотека юриста","Большая библиотека бухгалтера и кадрового работника","Толковый словарь «Бизнес и право»","Энциклопедия. Законодательство в схемах","Энциклопедия. Формы правовых документов","ГАРАНТ-Инфарм","Справочник нормативно-технической документации по строительству","Справочник промышленника","Справочник по охране труда","Энциклопедия решений.Проверки организаций и предпринимателей","Энциклопедия решений.Хозяйственные ситуации","Энциклопедия решений.Госзакупки","Энциклопедия решений.Трудовые отношения, кадры","Энциклопедия решений.Договоры и иные сделки","Энциклопедия решений.Корпоративное право","Энциклопедия решений.Налоги и взносы","Конструктор правовых документов","Интернет-Семинары","Судебная практика: приложение к консультационным блокам","Онлайн-архив «Практика арбитражных судов первой инстанции»","Большая домашняя правовая энциклопедия","Архивы ГАРАНТа. Россия","Правовой консалтинг. Премиум: База знаний службы Правового консалтинга","ГАРАНТ Консалтинг: нормативные акты и судебная практика"],packetsEr:[],ersInPacket:[],ers:[0,1,2,3,4,5,6,7],lt:[],ltInPacket:[],currentStatusInputComplectName:!0,freeBlocks:[0,1,2,3,4,5,6,7,8],consalting:[0],consaltingProduct:[],type:"universal"},"withStar",!1),"star",[]),"regions",[])],universalDefaultComplect:(r={name:"default",title:"Универсальный комплект",fullTitle:"Универсальный комплект",shortTitle:""},(0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)(r,"title",""),"isChanging",!0),"tag","universalComplect"),"className","btn__universal"),"number",9),"weight",0),"withConsalting",!1),"filling",["Законодательство России","Региональное законодательство"]),"packetsEr",[]),"ersInPacket",[]),(0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)(r,"ers",[]),"lt",[]),"ltInPacket",[]),"freeBlocks",[0,1,2,5]),"consalting",[0]),"consaltingProduct",[]),"type","universal"),"withStar",!1),"star",[]),"regions",[]))};const a=function universals(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if((arguments.length>1?arguments[1]:void 0).type===o.td){var t=_objectSpread({},e.universalComplectObj);return t.filling=["Законодательство России","Региональное законодательство"],_objectSpread(_objectSpread({},e),{},{universalComplectObj:t})}return e}},538:(e,t,n)=>{n.d(t,{a:()=>i,n:()=>a});var r=n(2167);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={add:{dealName:null,assigned:null,category:null,stage:null,opened:null},product:{productId:null,price:null,measureId:null,quantity:null,complectName:null},update:{contract:null,companyId:null,comments:null,freeBlocks:null,supply:null,supplyForContract:null},fields:{}},o="SET_BITRIX_FIELDS",i=function setBitrixFields(e,t,n){return{type:o,add:e,product:t,update:n}},a=function bitrixFields(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return t.type===o?_objectSpread(_objectSpread({},e),{},{add:t.add,product:t.product,update:t.update}):e}},5926:(e,t,n)=>{n.d(t,{L:()=>i,s:()=>a});var r=n(2167);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c="SET_DEAL_NAME",o={value:""},i=function setDealName(e){return{type:c,name:e}},a=function dealName(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;return t.type===c&&e.value!==t.name?_objectSpread(_objectSpread({},e),{},{value:t.name}):e}},2561:(e,t,n)=>{n.d(t,{M9:()=>C,ZP:()=>I,g1:()=>O});var r=n(2167),c=n(2982),o=n(5861),i=n(4687),a=n.n(i),s=n(9978),u=n(1596),l=n(6630),p=n(8981),d=n(5623),f=n(1965),m=n(3129),S=n(7585),g=n(3344),T=n(6097);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={newDealId:null,table:{isActive:!1}},h="SET_NEW_DEAL",b="DELETE_CREATED_DEAL",E="SET_DEALTABLE_STATUS",y=function setNewDeal(e){return{type:h,deal:e}},_=function setStatus(e){return{type:E,bool:e}},C=function setDealTableStatus(e){return function(){var t=(0,o.Z)(a().mark((function _callee(t,n){return a().wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:t(_(e)),t(e?(0,S.c4)(S.ln.PRODUCTS):(0,S.c4)(S.ln.KONSTRUCTOR));case 2:case"end":return n.stop()}}),_callee)})));return function(e,n){return t.apply(this,arguments)}}()},O=function sendDeal(){return function(){var e=(0,o.Z)(a().mark((function _callee2(e,t){var n,r,o,i,d,v,h,b,E,_,C,O,I,w,P,R,A,N,k,D,j,L,M,x,U;return a().wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if(e((0,p.te)(!0)),n=t(),r=n.dealName.value,o=n.app.user,i=n.app.domain,d=n.bitrix.add,v=n.app.bitrix.placement,!m.XK){a.next=16;break}if(a.t1=n.app.dealId,a.t1){a.next=13;break}return a.next=12,u.L.addDeal(r,o,d);case 12:a.t1=a.sent;case 13:a.t0=a.t1,a.next=17;break;case 16:a.t0=n.app.dealId;case 17:return h=a.t0,n.currentComplect&&n.currentComplect.name,b=n.products.current,E=n.consalting.product,_=n.rows.sets.general,n.rows.alternative,C=n.rows.sets,O=n.rows.show!==f.Cs.ROWS,(0,s.xo)(C,O),I=(0,s.$F)(_[0],O),n.contract.current&&n.contract.current.measureId,w=n.bitrix.product,P=n.app.company,n.od.currentOd,R=n.contract.current.itemId,A=n.field.infoblocks,N=n.field.er,k=n.field.freeBlocks,D=n.field.lt,j=n.field.consalting,L=n.field.star,M=n.bitrix.update,A.disnpa,A.disnpa2,x=[],U=[],N.disc2.forEach((function(e,t){t<=N.disc2.length/2?x.push(e):U.push(e)})),A.disla,A.disfree,[].concat((0,c.Z)(D.description),(0,c.Z)(j.description)),a.next=49,T.XN.updateDeal(i,r,o,h,R,P,A,N,k,D,j.fields,L,M,d,w,b,E,I,v);case 49:return h=a.sent,a.next=52,e(y(h));case 52:return a.next=54,e((0,l.IS)(h,o,i));case 54:return a.next=56,e((0,g.AH)(h));case 56:e((0,S.c4)(S.ln.DOCUMENT));case 57:case"end":return a.stop()}}),_callee2)})));return function(t,n){return e.apply(this,arguments)}}()};const I=function deal(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return _objectSpread(_objectSpread({},e),{},{newDealId:t.deal});case b:return _objectSpread(_objectSpread({},e),{},{newDeal:null});case E:return e.table.isActive!==t.bool?_objectSpread(_objectSpread({},e),{},{table:_objectSpread(_objectSpread({},e.table),{},{isActive:t.bool})}):e;case d.Lw||d.td:return _objectSpread(_objectSpread({},e),{},{newDealId:null,table:_objectSpread(_objectSpread({},e.table),{},{isActive:!1})});default:return e}}},8286:(e,t,n)=>{n.d(t,{E:()=>l,r:()=>a});var r=n(2982),c=n(2167);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o={infoblocks:{allblocks:[],npa:[],la:[],c:[],sp:[],freela:[]},allgroups:[[],[]],infoblocksDescription:[],er:{er:[],per:[],erinpac:[]},lt:{lt:[],plt:[],ltinpac:[]},freeBlocks:[],consalting:[],field_14:[],current:"",description:{disnpa:[],disnpa2:[],disc:[],disc2:[],disla:[],disfree:[],disltc:[]}},i="SET_DEAL_FIELD",a=function getField(){return function(e,t){var n=t();e(function setField(e){return{type:i,infoblocks:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,er:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,lt:arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,freeBlocks:arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,consalting:arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,currentComplect:e,star:arguments.length>6&&void 0!==arguments[6]?arguments[6]:0}}(n.currentComplect,n.infoblocks,n.encyclopedias,n.legalTech,n.freeBlocks,n.consalting,n.star))}},s=function setBlockFields(e){var t=[];return e.value.map((function(e){if(!e.isLa)return e.checked?t.push(e.title||e.name):null})),t},u=function changeField(e,t){if(t.currentComplect){var n,c,o,i,a,u,l=_objectSpread({},e);return n=function infoblocks(e,t){var n={allblocks:[],npa:[],la:[],c:[],sp:[],disnpa:[],disnpa2:[],disc:[],disla:[],disfree:[]};return t.value.map((function(e){e.isLa||e.checked})),e.forEach((function(r,c){var o="",i=e[c].groupsName;"Судебная практика"===i&&t.value.map((function(e){if(e.isLa)return e.checked?n.la.push(e.name):null})),r.value.forEach((function(e){e.checked&&(o+="".concat(e.title||e.name),"Нормативно-правовые акты"===i?"Региональное законодательство"===e.name?n.npa.push(e.title):("Законодательство России"===e.name||e.name,n.npa.push(e.name)):"Судебная практика"===i?n.la.push(e.name):"Консультационные материалы"===i?n.c.push(e.name):"Специализированные блоки"!==i&&"Новые блоки"!==i||n.sp.push(e.name))})),o&&n.allblocks.push(o)})),n}(t.infoblocks,t.freeBlocks),c=function enciclopedias(e,t,n){var c=[],o=function paketsEr(e,t,n){var r={per:[],erinpac:[],disc2per:[]};return e&&e.packetsEr&&(e.packetsEr.forEach((function(e){r.per.push(t.value[e].name),t.value[e].including.forEach((function(e){c.includes(e)||c.push(e)}))})),c.forEach((function(e){r.erinpac.push(n.value[e].name)}))),r}(e,t,n),i=function er(e,t,n){var r={er:[],disc2er:[]};return e.ers.length>0&&t.value.forEach((function(e,t){!0===e.checked&&(n.includes(t)||r.er.push(e.name))})),r}(e,n,c);return _objectSpread(_objectSpread(_objectSpread({},o),i),{},{disc2:[].concat((0,r.Z)(i.disc2er),(0,r.Z)(o.disc2per))})}(t.currentComplect,t.er[0],t.er[1]),o=function setLtFields(e,t){var n={lt:[],plt:"",ltinpac:[],description:[]};return t.current&&(t.value.forEach((function(t,r){t.checked&&e.ltInPacket.includes(r)&&n.ltinpac.push(t.name),t.description&&(n.description.push(t.name),n.description.push(t.description))})),n.plt=t.current.fullName),e.lt.length>0&&t.value.forEach((function(t,r){t.checked&&e.lt.includes(r)&&n.lt.push(t.name),t.description&&(n.description.push(t.name),n.description.push(t.description))})),n}(t.currentComplect,t.lt),i=s(t.freeBlocks),a=function setConsaltingFields(e,t){var n={fields:[],description:[]};return(e.consalting.length>0||e.consaltingProduct.length>0)&&t.value.forEach((function(t,r){t.checked&&(e.consalting.includes(r)||e.consaltingProduct.includes(r))&&(n.fields.push(t.name),t.description&&(n.description.push(t.name),n.description.push(t.description)))})),n}(t.currentComplect,t.consalting),u=s(t.star),l.infoblocks=n,l.er=c,l.lt=o,l.freeBlocks=i,l.consalting=a,l.star=u,l}return e},l=function field(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;return t.type===i?u(e,t):e}},283:(e,t,n)=>{n.d(t,{Dc:()=>u,ZP:()=>l});var r=n(2167),c=n(8659),o=n(3095);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i="SET_PRICES",a="SET_CURRENT_PRICE",s={prof:[],universal:{},current:{prices:[],price:0}},u=function setPrices(e,t,n){return{type:i,prices:e,supplies:t,contracts:n}};const l=function price(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:var n=t.supplies.map((function(e){return e})),r=(0,c.t)(t.prices.universal,n,t.contracts);return _objectSpread(_objectSpread({},e),{},{prof:t.prices.prof,universal:r});case o.lr:return e;case a:var u=(0,c.e)(e.current.prices,t.currentProduct,t.currentContract,t.currentRegion);return u!==e.current.price?_objectSpread(_objectSpread({},e),{},{current:_objectSpread(_objectSpread({},e.current),{},{price:u})}):e;default:return e}}},6457:(e,t,n)=>{n.d(t,{AG:()=>d,RB:()=>S,_m:()=>f,jl:()=>m});var r=n(2167),c=n(5549),o=n(3780),i=n(8075),a=n(1103);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={prof:{internet:[],abon:[],abonYear:[],proxima:[]},universal:{internet:[],proxima:[]},consalting:[],star:[],legalTech:[],current:null},u="SET_CURRENT_PRODUCT ",l="SET_PRODUCTS",p="REMEMBER_PRODUCT",d=function setRememberProduct(e){return{type:p,product:e}},f=function changeCurrentProductAndPrice(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){n((0,c.sc)());var i=r(),s=i.contract.current,l=i.currentComplect,p=i.global.currentSupply,d=i.global.currentComplectsType,f=i.od.currentOd.number;s&&l&&(n(function setCurrentProduct(e,t,n,r,c){return{type:u,complectIndex:e,odIndex:t,typeOfContract:n,currentSupply:r,currentComplectsType:c}}(l.number,f,s.shortName,p.title,d.title)),!t&&n((0,o.Ji)(a.p.GARANT,e)))}},m=function generateProducts(e,t,n,r,c,o,a){return function(s,u){var p={garant:{prof:{internet:[],proxima:[],abonHalf:[],abonYear:[],abonTwoYears:[],licHalf:[],licYear:[],licTwoYears:[]},universal:{internet:[],proxima:[],licHalf:[],licYear:[],licTwoYears:[]}},consalting:[],legalTech:[],star:[]},d=u().global.currentRegion,f=d&&"msk"===d.name;p.garant=(0,i.kG)(0,e,t,n,a,r,f),p.consalting=(0,i.aK)(0,n,null,r,null),p.legalTech=(0,i.aK)(0,n,c,null,null),p.star=(0,i.aK)(0,n,null,null,o),s(function setProducts(e){return{type:l,products:e}}(p))}},S=function products(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:var n=(0,i.PJ)(e.prof,e.universal,t.complectIndex,t.odIndex,t.typeOfContract,t.currentComplectsType);return!e.current&&n||e.current&&n&&e.current.number!==n.number?_objectSpread(_objectSpread({},e),{},{current:n}):e;case l:return _objectSpread(_objectSpread(_objectSpread({},e),t.products.garant),{},{legalTech:t.products.legalTech,consalting:t.products.consalting,star:t.products.star});case p:return _objectSpread(_objectSpread({},e),{},{current:t.product});default:return e}}},5547:(e,t,n)=>{n.d(t,{C:()=>o,T:()=>c});var r=n(6706),c=function useAppDispatch(){return(0,r.I0)()},o=r.v9},8307:(e,t,n)=>{n.d(t,{A8:()=>O,FU:()=>o,H1:()=>g,Lh:()=>T,Lz:()=>h,QW:()=>C,ZP:()=>I,bG:()=>_,dj:()=>E,mR:()=>v,vr:()=>y});var r,c,o,i,a=n(6097),s=n(7874),u=n(3129),l=n(1596),p=n(8981),d=n(2823),f=n(4353),__assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},__assign.apply(this,arguments)},__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(c,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?c(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},__generator=function(e,t){var n,r,c,o,i={label:0,sent:function sent(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(a){return function(s){return function step(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(c=2&a[0]?r.return:a[0]?r.throw||((c=r.return)&&c.call(r),0):r.next)&&!(c=c.call(r,a[1])).done)return c;switch(r=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(c=i.trys,(c=c.length>0&&c[c.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3])){i.label=a[1];break}if(6===a[0]&&i.label<c[1]){i.label=c[1],c=a;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(a);break}c[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};!function(e){e.COLD="cold",e.WARM="warm",e.PRESENTATION="presentation",e.HOT="hot"}(c||(c={})),function(e){e.NAME="name",e.DESCRIPTION="description",e.RESPONSIBILITY="responsibility",e.CREATED_BY="createdBy",e.DATE="date",e.TIME="time",e.TYPE="type",e.STATUS="status",e.CRM="crm",e.PLAN="plan",e.COMPANY="company",e.SMART="smart",e.SALE="sale",e.PRESENTATION="presentation",e.IS_ONE_MORE="isOneMore"}(o||(o={})),function(e){e.LEAD="lead",e.COMPANY="company"}(i||(i={}));var m=function getInitialDate(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);return{first:(0,s.WU)(t,"yyyy-MM-dd"),current:(0,s.WU)(e,"yyyy-MM-dd HH:mm:ss")}},S=((r={})[o.RESPONSIBILITY]={items:[],current:null},r[o.CREATED_BY]={items:[],current:null},r.type={items:[{id:1,name:c.WARM,title:"Звонок"},{id:2,name:c.PRESENTATION,title:"Презентация"}],current:{id:1,name:c.WARM,title:"Звонок"}},r.name="",r[o.DESCRIPTION]="",r.date=m().current,r.time=null,r.plan=[],r.placement=null,r.groupId=28,r.company=null,r.smart=null,r[o.SALE]={isActive:!1,questionStatus:!1,isSaleComplete:!1,isCreateNewSale:!1,questions:{new:{id:0,title:"Уже сделана продажа этому клиенту",isActive:!0,value:!0,isAnswered:!1}}},r.presentation={companyCount:0,smartCout:0},r[o.IS_ONE_MORE]=!1,r.isFullComplete=!1,r.isFinish=!1,r.result="",r),g={setFetchedCallings:function setFetchedCallings(e){return{type:"callings/SET_FITCHED_CALLINGS",callings:e}},setFetchedDepartament:function setFetchedDepartament(e,t,n,r){return{type:"callings/SET_FITCHED_DEPARTAMENT",departament:e,currentUser:t,placement:n,domain:r}},setPrimrtiveStateProp:function setPrimrtiveStateProp(e,t){return{type:"callings/SET_STATE_PROP",name:e,value:t}},setSaleComplete:function setSaleComplete(){return{type:"callings/SET_SALE_COMPLETE"}},setIsNewSaleStatus:function setIsNewSaleStatus(e){return{type:"callings/SET_IS_NEW_SALE_STATUS",status:e}},setSaleQuestionStatus:function setSaleQuestionStatus(e){return{type:"callings/SET_SALE_QUESTION_STATUS",status:e}},setSaleAnswerStatus:function setSaleAnswerStatus(e){return{type:"callings/SET_SALE_ANSWER_STATUS",status:e}},setPresentationCount:function setPresentationCount(e,t){return{type:"callings/SET_PRESENTATION_COUNT",count:e,entityType:t}},setFullCompleteStatus:function setFullCompleteStatus(e){return{type:"callings/SET_FULL_COMPLETE_STATUS",status:e}},setFinishStatus:function setFinishStatus(e,t){return{type:"callings/SET_FINISH_STATUS",status:e,result:t}}},T=function initialCalling(){return function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var n,r,c,o,i,s,p,d,f;return __generator(this,(function(m){switch(m.label){case 0:return(r=u.XK)?[4,l.L.getPlacement()]:[3,2];case 1:r=m.sent(),m.label=2;case 2:return n=r,e(g.setFinishStatus(!1,"")),c=null,n&&n.placement&&(c=n,console.log("calling placement"),console.log(c)),o=t(),i=o.app.domain,s=o.app.currentUser,o.departament.current,p=null,console.log(s),d={domain:i},[4,a.gT.service("bitrix/departament","post","departament",d)];case 3:return(p=m.sent())&&e(g.setFetchedDepartament(p,s,c,i)),e(h()),n&&n.options?e(b(n.options.ID)):e(g.setFullCompleteStatus(!0)),f=t(),console.log("initializedState"),console.log(f),[2]}}))}))}},v=function changeDeadline(e){return function(t,n){return __awaiter(void 0,void 0,void 0,(function(){var r,c,i,s,u,l,p;return __generator(this,(function(d){switch(d.label){case 0:return r=n(),c=r.app.domain,i=r.calling[o.RESPONSIBILITY].current,s=e.split("T"),u=s[0],l={domain:c,userId:i&&i.ID,date:u},[4,a.gT.service("bitrix/callingtasks","post","tasks",l)];case 1:return(p=d.sent())&&t(g.setPrimrtiveStateProp(o.PLAN,p)),t(g.setPrimrtiveStateProp(o.DATE,e)),[2]}}))}))}},h=function getCallingPlan(){return function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var n,r,c,i,s,u;return __generator(this,(function(l){switch(l.label){case 0:return n=t(),r=n.app.domain,c=n.calling[o.RESPONSIBILITY].current,i=n.calling.date,s={domain:r,userId:c&&c.ID,date:i},[4,a.gT.service("bitrix/callingtasks","post","tasks",s)];case 1:return(u=l.sent())&&e(g.setPrimrtiveStateProp(o.PLAN,u)),[2]}}))}))}},b=function getBitrixItems(e){return function(t,n){return __awaiter(void 0,void 0,void 0,(function(){var r,c,i,a,s,p,m,S;return __generator(this,(function(T){switch(T.label){case 0:return r=n(),c=null,i=r.app.domain,a=r.calling[o.RESPONSIBILITY].current,(p=u.XK)?[4,l.L.getCompany(e)]:[3,2];case 1:p=T.sent(),T.label=2;case 2:return s=p,console.log(s),s?(m={domain:i,companyId:e,userId:null==a?void 0:a.ID},[4,d.L.service("smart/item",f.F.POST,"data",m)]):[3,5];case 3:return c=T.sent(),console.log(c),c&&(c.ufCrm10_1709111529&&t(g.setPresentationCount(c.ufCrm10_1709111529,"smart")),c.ufCrm6_1709894507&&t(g.setPresentationCount(c.ufCrm6_1709894507,"smart")),t(g.setPrimrtiveStateProp(o.SMART,c)),c.stageId&&("DT162_26:SUCCESS"!==c.stageId&&"DT156_12:SUCCESS"!==c.stageId||t(g.setSaleComplete()))),s?(s.UF_CRM_1709807026&&t(g.setPresentationCount(s.UF_CRM_1709807026,"company")),[4,t(g.setPrimrtiveStateProp(o.COMPANY,s))]):[3,5];case 4:T.sent(),S=n().calling[o.COMPANY],t(g.setFullCompleteStatus(S)),T.label=5;case 5:return[2]}}))}))}},E=function setCurentCallingProp(e,t){return function(n,r){return __awaiter(void 0,void 0,void 0,(function(){var c,i,s,u,l,p,d,f,m;return __generator(this,(function(S){switch(S.label){case 0:switch(c=r(),i=c.app.domain,e){case o.RESPONSIBILITY:case o.CREATED_BY:return[3,1];case o.TYPE:return[3,3];case o.NAME:case o.DESCRIPTION:return[3,4];case o.IS_ONE_MORE:return[3,5]}return[3,6];case 1:return s=c.calling[e].items,u=s.find((function(e){return e.ID==t})),n(g.setPrimrtiveStateProp(e,u)),l=c.calling[o.DATE],p={domain:i,userId:u.ID,date:l},[4,a.gT.service("bitrix/callingtasks","post","tasks",p)];case 2:return(d=S.sent())&&n(g.setPrimrtiveStateProp(o.PLAN,d)),[3,7];case 3:return f=c.calling[e].items,m=f.find((function(e){return e.id==t})),n(g.setPrimrtiveStateProp(e,m)),[3,7];case 4:case 5:return n(g.setPrimrtiveStateProp(e,t)),[3,7];case 6:return[3,7];case 7:return[2]}}))}))}},y=function createTask(){return function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var n,r,i,a,u,l,f,m,S,T,v,h,b,E,y,_,C,O,I;return __generator(this,(function(w){switch(w.label){case 0:return n=t(),r=n.app.domain,n.app.company,i=n.calling,a=i[o.RESPONSIBILITY].current,u=i[o.CREATED_BY].current,l=i[o.TYPE].current,f=i[o.NAME],m=i[o.DESCRIPTION],S=i[o.DATE],l&&f&&a&&u&&S?[3,1]:(alert("Не заполнено обязательное поле"),[3,5]);case 1:return T=n.calling[o.SALE],v=T.questionStatus,!T.isSaleComplete||v?[3,2]:(e(g.setSaleQuestionStatus(!0)),[3,4]);case 2:return e((0,p.te)(!0)),e(g.setSaleQuestionStatus(!1)),h=(0,s.WU)(new Date(S),"dd.MM.yyyy HH:mm:ss"),b=i.placement,E=null,y=i[o.COMPANY],_=i[o.SMART],C=i[o.IS_ONE_MORE],b&&b.options&&(E=b.options.ID),[4,d.j.create(l.name,r,E,h,"user_".concat(a.ID),"user_".concat(u.ID),f,m,null,y,_,T,C)];case 3:O=w.sent(),console.log("created task"),console.log(O),I="Звонок запланирован",l.name===c.PRESENTATION&&(I="Презентация запланирована"),e(g.setFinishStatus(!0,I)),w.label=4;case 4:e((0,p.te)(!1)),w.label=5;case 5:return[2]}}))}))}},_=function fail(){return function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var n,r,c,i,a,s,u,l;return __generator(this,(function(f){switch(f.label){case 0:return e((0,p.te)(!0)),n=t(),r=n.app.domain,c=n.calling,i=c[o.SMART],a=c[o.RESPONSIBILITY].current,s=c.placement,u=null,s&&s.options&&(u=s.options.ID),[4,d.j.fail(r,u,s,"user_".concat(a.ID),i)];case 1:return l=f.sent(),console.log("fail task"),console.log(l),e((0,p.te)(!1)),[2]}}))}))}},C=function presentationDone(){return function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var n,r,c,i,a,s,u,l,f;return __generator(this,(function(m){switch(m.label){case 0:return e((0,p.te)(!0)),n=t(),r=n.app.domain,c=n.calling,i=c.placement,a=null,s=n.calling[o.COMPANY],u=n.calling[o.SMART],l=c[o.RESPONSIBILITY].current,i&&i.options&&(a=i.options.ID),[4,d.j.presentationDone(r,a,i,"user_".concat(l.ID),s,u)];case 1:return f=m.sent(),console.log("created task"),console.log(f),e((0,p.te)(!1)),[2]}}))}))}},O=function setSaleAnswer(){return function(e,t){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(t){return e(g.setSaleAnswerStatus(!0)),e(y()),[2]}))}))}};const I=function calling(e,t){var n,r,i;switch(void 0===e&&(e=S),t.type){case"callings/SET_FITCHED_CALLINGS":return __assign(__assign({},e),{calling:t.callings});case"callings/SET_FITCHED_DEPARTAMENT":var a=t.currentUser?t.currentUser:t.departament[0],s=107;return"alfacentr.bitrix24.ru"===t.domain&&(s=158),__assign(__assign({},e),{responsibility:__assign(__assign({},e.responsibility),{items:t.departament,current:a}),createdBy:__assign(__assign({},e.createdBy),{items:t.departament,current:{ID:s}}),placement:t.placement});case"callings/SET_STATE_PROP":switch(t.name){case o.RESPONSIBILITY:case o.CREATED_BY:case o.TYPE:return __assign(__assign({},e),((n={})[t.name]=__assign(__assign({},e[t.name]),{current:t.value}),n));default:return __assign(__assign({},e),((r={})[t.name]=t.value,r))}case"callings/SET_SALE_COMPLETE":return __assign(__assign({},e),{sale:__assign(__assign({},e.sale),{isSaleComplete:!0})});case"callings/SET_IS_NEW_SALE_STATUS":return __assign(__assign({},e),{sale:__assign(__assign({},e.sale),{isCreateNewSale:t.status})});case"callings/SET_SALE_ANSWER_STATUS":return __assign(__assign({},e),{sale:__assign(__assign({},e.sale),{questionStatus:t.status})});case"callings/SET_SALE_QUESTION_STATUS":return __assign(__assign({},e),{sale:__assign(__assign({},e.sale),{isActive:t.status})});case"callings/SET_PRESENTATION_COUNT":var u=__assign({},e.presentation);return"company"==t.entityType?u.companyCount=t.count:"smart"==t.entityType&&(u.smartCout=t.count),__assign(__assign({},e),{presentation:__assign(__assign({},e.presentation),u)});case"callings/SET_FULL_COMPLETE_STATUS":return __assign(__assign({},e),{isFullComplete:t.status});case"callings/SET_FINISH_STATUS":return console.log("callings/SET_FINISH_STATUS"),console.log({isFinish:t.status,result:t.result}),(i={})[o.RESPONSIBILITY]={items:[],current:null},i[o.CREATED_BY]={items:[],current:null},i.type={items:[{id:1,name:c.WARM,title:"Звонок"},{id:2,name:c.PRESENTATION,title:"Презентация"}],current:{id:1,name:c.WARM,title:"Звонок"}},i.name="",i[o.DESCRIPTION]="",i.date=m().current,i.time=null,i.plan=[],i.placement=null,i.groupId=28,i.company=null,i.smart=null,i[o.SALE]={isActive:!1,questionStatus:!1,isSaleComplete:!1,isCreateNewSale:!1,questions:{new:{id:0,title:"Уже сделана продажа этому клиенту",isActive:!0,value:!0,isAnswered:!1}}},i.presentation={companyCount:0,smartCout:0},i.isFullComplete=!1,i.isFinish=t.status,i.result=t.result,i;default:return e}}},2234:(e,t,n)=>{n.d(t,{p:()=>r});var r={setRememberRegions:function setRememberRegions(e){return{type:"regions/REMEMBER_REGIONS",regionsCurrent:e}},setCurrentRegion:function setCurrentRegion(e){return{type:"regions/SET_CURRENT_REGION",currentRegion:e}},setFetchedRegions:function setFetchedRegions(e,t){return{type:"regions/SET_FITCHED_REGIONS",regions:e,currentRegion:t}},setFetchedStatus:function setFetchedStatus(e){return{type:"regions/SET_FITCHED_STATUS",bool:e}},setModalStatus:function setModalStatus(e){return{type:"regions/SET_MODAL_STATUS",bool:e}},selectRegion:function selectRegion(e){return{type:"regions/SELECT_REGION",regionsCurrent:e}},cleanRegions:function cleanRegions(e){return{type:"regions/CLEAN_REGIONS",currentRegion:e}},cancelRegions:function cancelRegions(){return{type:"regions/CANCEL_REGIONS"}}}},4618:(e,t,n)=>{n.d(t,{Z:()=>c});var __assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},__assign.apply(this,arguments)},__spreadArray=function(e,t,n){if(n||2===arguments.length)for(var r,c=0,o=t.length;c<o;c++)!r&&c in t||(r||(r=Array.prototype.slice.call(t,0,c)),r[c]=t[c]);return e.concat(r||Array.prototype.slice.call(t))},r={modal:{isActive:!1,title:"Региональное законодательство"},regions:[],default:{inComplect:[],favorite:[],noWidth:[]},current:{inComplect:[],favorite:[],noWidth:[]},isAdd:!1,inComplect:{status:"inComplect"},isFetched:!1};const c=function region(e,t){switch(void 0===e&&(e=r),t.type){case"regions/SET_MODAL_STATUS":return t.bool!==e.modal.isActive?__assign(__assign({},e),{modal:__assign(__assign({},e.modal),{isActive:t.bool})}):e;case"regions/SET_CURRENT_REGION":return __assign(__assign({},e),{current:__assign(__assign({},e.current),{inComplect:[t.currentRegion]})});case"regions/SET_FITCHED_REGIONS":return __assign(__assign({},e),{regions:t.regions,default:__assign(__assign({},e.default),{favorite:__spreadArray([],e.current.favorite,!0),noWidth:__spreadArray([],e.current.noWidth,!0),inComplect:__spreadArray([],e.current.inComplect,!0)})});case"regions/SET_FITCHED_STATUS":return __assign(__assign({},e),{isFetched:t.bool});case"regions/SELECT_REGION":case"regions/REMEMBER_REGIONS":return __assign(__assign({},e),{current:__assign(__assign({},e.current),t.regionsCurrent)});case"regions/CLEAN_REGIONS":return __assign(__assign({},e),{default:__assign(__assign({},e.default),{favorite:[],noWidth:[],inComplect:[t.currentRegion]}),current:__assign(__assign({},e.current),{favorite:[],noWidth:[],inComplect:[t.currentRegion]})});case"regions/CANCEL_REGIONS":return __assign(__assign({},e),{current:__assign(__assign({},e.current),{favorite:__spreadArray([],e.default.favorite,!0),noWidth:__spreadArray([],e.default.noWidth,!0),inComplect:__spreadArray([],e.default.inComplect,!0)})});default:return e}}},2157:(e,t,n)=>{n.d(t,{Ef:()=>f,Ic:()=>m,Kd:()=>l,TY:()=>u,ez:()=>d,k9:()=>p});var r=n(8981),c=n(5729),o=n(2234),i=n(7975),a=n(3138),s=n(4806),__assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},__assign.apply(this,arguments)},__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(c,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?c(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},__generator=function(e,t){var n,r,c,o,i={label:0,sent:function sent(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(a){return function(s){return function step(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(c=2&a[0]?r.return:a[0]?r.throw||((c=r.return)&&c.call(r),0):r.next)&&!(c=c.call(r,a[1])).done)return c;switch(r=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(c=i.trys,(c=c.length>0&&c[c.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3])){i.label=a[1];break}if(6===a[0]&&i.label<c[1]){i.label=c[1],c=a;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(a);break}c[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},__spreadArray=function(e,t,n){if(n||2===arguments.length)for(var r,c=0,o=t.length;c<o;c++)!r&&c in t||(r||(r=Array.prototype.slice.call(t,0,c)),r[c]=t[c]);return e.concat(r||Array.prototype.slice.call(t))},u=function initialRegion(){return function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var n,i,a;return __generator(this,(function(s){switch(s.label){case 0:return e((0,r._3)(!0)),n=t(),i=n.global.currentRegion,[4,c.I4.getCollection("regions")];case 1:return(a=s.sent())&&a.length&&e(o.p.setFetchedRegions(a,i)),e(o.p.setFetchedStatus(!0)),e((0,r._3)(!1)),[2]}}))}))}},l=function selectRegion(e){return function(t,n){return __awaiter(void 0,void 0,void 0,(function(){var r,c,i,a,s,u,l,p,d,f,m;return __generator(this,(function(S){return r=n(),c=r.region.regions,i=r.region.current,a=__assign({},r.region.current),s=__spreadArray([],i.inComplect,!0),u=__spreadArray([],i.favorite,!0),l=__spreadArray([],i.noWidth,!0),p=s.find((function(t){return t.number===e})),d=u.find((function(t){return t.number===e})),f=l.find((function(t){return t.number===e})),p||d||f?(a.inComplect=s.filter((function(t){return t.number!==e})),a.favorite=u.filter((function(t){return t.number!==e})),a.noWidth=l.filter((function(t){return t.number!==e}))):(m=c.find((function(t){return t.number===e})))&&(l.push(m),a.inComplect=s,a.favorite=u,a.noWidth=l),t(o.p.selectRegion(a)),[2]}))}))}},p=function selectWeightTypeRegion(e,t){return function(t,n){return __awaiter(void 0,void 0,void 0,(function(){var r,c,i,a,s,u,l,p,d,f,m,S;return __generator(this,(function(g){return r=n(),c=r.region.regions,i=r.region.current,a=__assign({},r.region.current),s=c.find((function(t){return t.number===e})),u=__spreadArray([],i.inComplect,!0),l=__spreadArray([],i.favorite,!0),p=__spreadArray([],i.noWidth,!0),d=u.find((function(t){return t.number===e})),f=l.find((function(t){return t.number===e})),m=p.find((function(t){return t.number===e})),S=d||f||m,s&&S&&(m?(a.noWidth=p.filter((function(t){return t.number!==e})),a.inComplect.push(s)):d&&(a.inComplect=u.filter((function(t){return t.number!==e})),a.noWidth.push(s))),t(o.p.selectRegion(a)),[2]}))}))}},d=function saveRegions(){return function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var n,c,u,l,p,d,f;return __generator(this,(function(m){return n=t(),n.currentComplect,c=n.global.currentComplectsType,u=n.infoblocks,l=n.encyclopedias,p=n.region.current.inComplect,0===c.id&&(d=n.universals.complects,f=(0,s.l)(u,p,l,c),e((0,a.ur)(f,c,d))),e(o.p.setFetchedStatus(!1)),e((0,i.Sg)(!1)),e(o.p.setModalStatus(!1)),e((0,r._3)(!1)),[2]}))}))}},f=function cancelRegion(){return function(e,t){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(t){return e(o.p.cancelRegions()),e(o.p.setModalStatus(!1)),e(o.p.setFetchedStatus(!1)),e((0,i.Sg)(!1)),e((0,r._3)(!1)),[2]}))}))}},m=function cleanRegion(){return function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var n,c;return __generator(this,(function(i){return e((0,r._3)(!0)),e(o.p.setModalStatus(!0)),n=t(),c=n.global.currentRegion,e(o.p.cleanRegions(c)),e((0,r._3)(!1)),[2]}))}))}}},9407:(e,t,n)=>{n.d(t,{f:()=>r});var r={setCurrentContract:function setCurrentContract(e){return{type:"contract/SET_CURRENT_CONTRACT",contractNumber:e}},setGlobal:function setGlobal(e,t,n){return{type:"SET_GLOBAL",currentSupply:e,currentComplectsType:t,currentRegion:n}},setFetchedContracts:function setFetchedContracts(e){return{type:"contract/SET_FETCHED_CONTRACTS",contracts:e}},setContractInBlocks:function setContractInBlocks(e){return{type:"contract/SET_CONTRACT_IN_BLOCKS",currentContract:e}},setContractsSelect:function setContractsSelect(e){return{type:"contract/SET_CONTRACTS",contracts:e}},setRememberContracts:function setRememberContracts(e){return{type:"contract/SET_REMEMBER_CONTRACT",contracts:e}}}},2187:(e,t,n)=>{n.d(t,{L:()=>i});var r=n(3095),c=n(4974),__assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},__assign.apply(this,arguments)},o={universal:{internet:[],proxima:[]},prof:{internet:[],proxima:[]},select:[],current:null,isFetched:!1},i=function contract(e,t){var n;switch(void 0===e&&(e=o),t.type){case"contract/SET_FETCHED_CONTRACTS":var i=t.contracts,a=__assign({},e);return i.forEach((function(e){e.shortName===c.z.INTERNET&&(a.universal.internet.push(__assign({},e)),a.prof.internet.push(__assign({},e))),e.shortName!==c.z.ABON6&&e.shortName!==c.z.ABON12&&e.shortName!==c.z.ABON24||a.prof.internet.push(__assign({},e)),e.shortName===c.z.PROXIMA&&(a.universal.proxima.push(__assign({},e)),a.prof.proxima.push(__assign({},e))),e.shortName!==c.z.LIC&&e.shortName!==c.z.LIC6&&e.shortName!==c.z.LIC12&&e.shortName!==c.z.LIC24||(a.universal.proxima.push(__assign({},e)),a.universal.internet.push(__assign({},e)),a.prof.proxima.push(__assign({},e)),a.prof.internet.push(__assign({},e)))})),a;case"SET_GLOBAL":if(t.currentComplectsType&&t.currentSupply){var s=void 0,u=void 0;return t.currentComplectsType.title===r.D7?(t.currentSupply.title===r.rS&&(s=e.universal.internet),t.currentSupply.title===r.Z$&&(s=e.universal.proxima)):t.currentComplectsType.title===r.bD&&(t.currentSupply.title===r.rS&&(s=e.prof.internet),t.currentSupply.title===r.Z$&&(s=e.prof.proxima)),s&&(u=s[0]),__assign(__assign({},e),{select:s,current:u})}return e;case"contract/SET_CONTRACTS":return __assign(__assign({},e),{select:t.contracts});case"contract/SET_CURRENT_CONTRACT":var l=e.select.find((function(e){return e.number===t.contractNumber}));if(l&&(null===(n=e.current)||void 0===n?void 0:n.number)!==t.contractNumber){u=l;return __assign(__assign({},e),{current:u})}return e;case"contract/SET_REMEMBER_CONTRACT":return __assign(__assign({},e),{current:t.contracts.current});default:return e}}},5549:(e,t,n)=>{n.d(t,{Ck:()=>p,Kf:()=>l,n8:()=>u,sc:()=>d});var r=n(1132),c=n(826),o=n(6457),i=n(7413),a=n(6375),s=n(9407),__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(c,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?c(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},__generator=function(e,t){var n,r,c,o,i={label:0,sent:function sent(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(a){return function(s){return function step(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(c=2&a[0]?r.return:a[0]?r.throw||((c=r.return)&&c.call(r),0):r.next)&&!(c=c.call(r,a[1])).done)return c;switch(r=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(c=i.trys,(c=c.length>0&&c[c.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3])){i.label=a[1];break}if(6===a[0]&&i.label<c[1]){i.label=c[1],c=a;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(a);break}c[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},u=function rememberContracts(e){return function(t,n){t(s.f.setRememberContracts(e)),e.current&&e.current.number&&t(p(e.current.number,!0))}},l=function getContracts(e){return function(t,n){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(n){return t(s.f.setFetchedContracts(e)),[2]}))}))}},p=function changeContract(e,t){return void 0===t&&(t=!1),function(n,a){var u=a().currentComplect;if(u){n(s.f.setCurrentContract(e));var l=a().contract.current;l&&(n((0,o._m)(!0,t)),u.ltInPacket.length>0&&n((0,c.xl)(u,l)),u.consaltingProduct.length>0&&n((0,r.eR)(u,l)),u.star&&u.star.length>0&&n((0,i._B)(u,l)))}}},d=function filterContractsFromOd(){return function(e,t){var n=t(),r=n.currentComplect,c=n.contract;if(r){var o=c.prof,i=c.universal,u=n.od.currentOd,l=r.type,p=(0,a.eY)(o,i,u,l);e(s.f.setContractsSelect(p))}}}},3780:(e,t,n)=>{n.d(t,{Dw:()=>E,Ji:()=>f,Tm:()=>v,UA:()=>S,VO:()=>m,_B:()=>b,ng:()=>g,qP:()=>h,v$:()=>T,zq:()=>d});var r=n(2447),c=n(8816),o=n(1965),i=n(1103),a=n(6375),s=n(8075),u=n(9978),l=n(2766),__assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},__assign.apply(this,arguments)},__spreadArray=function(e,t,n){if(n||2===arguments.length)for(var r,c=0,o=t.length;c<o;c++)!r&&c in t||(r||(r=Array.prototype.slice.call(t,0,c)),r[c]=t[c]);return e.concat(r||Array.prototype.slice.call(t))},p={general:[],alternative:[],current:{complects:{name:"Комплект",current:null,items:[],order:0},supplies:{name:"Вид поставки",current:null,items:[],filtred:[],order:1},contracts:{name:"Тип договора",current:null,items:[],filtred:[],order:2},lt:{name:"Legal Tech",current:null,items:[],order:4},consalting:{name:"Консалтинг",current:null,items:[],order:3},star:{name:"Дополнительно",current:null,items:[],order:5},row:null,region:null,target:o.zt.GENRAL,isActive:!1,set:null},show:o.Cs.ROWS,isGeneralSet:!1,isSomeUpdating:!1,sets:{general:[],alternative:[]},count:{general:0,alternative:0}},d={setRows:function setRows(e){return{type:"rows/SET_ROW",row:e}},setInitialProductRow:function setInitialProductRow(e){return{type:"rows/SET_INITIAL_ROW",addProductRowData:e}},setFiltrdContracts:function setFiltrdContracts(){return{type:"rows/SET_FILTRED_CONTRACTS"}},setSelect:function setSelect(e){return{type:"rows/SET_ROWS_PROP",current:e}},setNewProductRow:function setNewProductRow(e){return{type:"rows/SET_NEW_ALTERNATIVE_ROW",row:e}},stopAddingRows:function stopAddingRows(){return{type:"rows/STOP_ADDING_ROWS"}},setCommercialProps:function setCommercialProps(e){return{type:"rows/SET_COMMERCIALS_PROPS",set:e}},setRememberRows:function setRememberRows(e){return{type:"rows/SET_REMEMBER_ROWS",state:e}},changeMeasureOrDiscountType:function changeMeasureOrDiscountType(e,t,n){return{type:"rows/CHANGE_OPTIONS_TYPE",changingOptionType:e,rowType:t,index:n}},setRowsSet:function setRowsSet(e,t){return{type:"rows/SET_ROWS_SET",set:e,isCreate:t}},setShowStatus:function setShowStatus(e){return{type:"rows/SET_SHOW_STATUS",status:e}},deleteSet:function deleteSet(e,t){return{type:"rows/DELETE_SET",target:e,setId:t}},updatingSetStatus:function updatingSetStatus(e,t,n){return{type:"rows/SET_UPDATING_SET_STATUS",target:e,setId:t,status:n}}},f=function setGeneralProductRows(e,t){return function(n,r){var c=r(),a=c.global,l=a.currentComplectsType&&a.currentComplectsType.title,p=c.products.current,f=c.legalTech.product,m=c.consalting.product,S=c.star&&c.star.product,g=c.od.currentOd,T=c.global.currentRegion,v={prof:c.price.prof,universal:c.price.universal},b=(__spreadArray(__spreadArray([],c.products.prof,!0),c.products.universal,!0),c.rows.show!==o.Cs.ROWS),E=null,y=void 0,_=c.rows.sets[o.zt.GENRAL][0],C=_&&_.rows[i.p.GARANT],O=null,I=c.contract.current&&c.contract.current.shortName;if(e===i.p.GARANT&&I&&g?(E=p,C&&C.length>0&&(y=C.find((function(e){return 0!==e.id})))&&(O=(0,s.PJ)(c.products.prof,c.products.universal,y.complect.number,g.number,I,l))):e===i.p.LT?E=f:e===i.p.CONSALTING?E=m:e===i.p.STAR&&(E=S),E){var w=(0,u.Gv)(o.zt.GENRAL,E,T,g,v),P=O&&(0,u.Gv)(o.zt.GENRAL,O,T,g,v);if(w){var R=c.rows.sets[o.zt.GENRAL].length>0?__assign({},c.rows.sets[o.zt.GENRAL][0]):null,A=R?R.id:c.rows.count.general;(R=(0,s.lJ)(A,w,R,b,!0,!1,o.zt.GENRAL,t,P))&&n(d.setRowsSet(R,!0))}}else n(h(0,0,o.zt.GENRAL,e))}},m=function initializeProductRow(e){return function(t,n){var r=n();if(r.currentComplect){r.currentComplect.number;r.rows;var c=(0,u.GB)(r,e);t(d.setInitialProductRow(c))}}},S=function selectCreatingRowsProp(e,t,n,l,p,f){return void 0===p&&(p=!1),function(m,S){var g=S(),T=g.rows,v=T.current,h=g.global.currentRegion,b=g.global.currentComplectsType,E=g.price,y=__assign({},v.contracts),_=__assign({},v.supplies),C=__assign({},v.complects),O=__assign({},v.lt),I=__assign({},v.consalting),w=__assign({},v.star),P=__assign({},v),R=C.current&&C.current.type,A=T.count[n],N=T.show===o.Cs.SET;if(t===_.name){var k=(0,u.n1)(_.items,e);(M=R&&(0,a.I_)(k,R,y.items))&&(P=__assign(__assign({},P),{supplies:__assign(__assign({},P.supplies),{current:k}),contracts:__assign(__assign({},P.contracts),{filtred:M,current:M[0]})}))}if(t===y.name){var D=y.items.find((function(t){return t.number===e}));D&&(P=__assign(__assign({},P),{contracts:__assign(__assign({},P.contracts),{current:D})}))}if(t===C.name){var j=C.items.find((function(t){return t.number===e}));if(j)if(l)P=__assign(__assign({},P),{complects:__assign(__assign({},P.complects),{current:j})});else{var L=(0,u.k0)(j.type,P.supplies.items),M=(0,a.I_)(L[0],j.type,y.items);P=__assign(__assign({},P),{complects:__assign(__assign({},P.complects),{current:j}),contracts:__assign(__assign({},P.contracts),{filtred:M,current:M[0]}),supplies:__assign(__assign({},P.supplies),{current:L[0],filtred:L})})}}if(t===O.name)if(p){var x=P.lt.items.find((function(e){return e.isNoService}));P=__assign(__assign({},P),{lt:__assign(__assign({},P.lt),{current:x||null})})}else{var U=O.items.find((function(t){return t.number===e}));U&&(P=__assign(__assign({},P),{lt:__assign(__assign({},P.lt),{current:U})}))}if(t===I.name)if(p){x=P.consalting.items.find((function(e){return e.isNoService}));P=__assign(__assign({},P),{consalting:__assign(__assign({},P.consalting),{current:x||null})})}else{var F=I.items.find((function(t){return t.number===e}));F&&(P=__assign(__assign({},P),{consalting:__assign(__assign({},P.consalting),{current:F})}))}if(t===w.name)if(p){x=P.star.items.find((function(e){return e.isNoService}));P=__assign(__assign({},P),{star:__assign(__assign({},P.star),{current:x||null})})}else{var W=w.items.find((function(t){return t.number===e}));W&&(P=__assign(__assign({},P),{star:__assign(__assign({},P.star),{current:W})}))}var G=g.products;if(P.complects.current&&P.supplies.current&&P.contracts.current&&b){var H=b.title;H=P.complects.current.type===r.B5.PROF?c.p.PROF:c.p.UNIVERSAL;var B=(0,s.PJ)(G.prof,G.universal,P.complects.current.number,P.supplies.current.number,P.contracts.current.shortName,H);B&&(P.row=(0,u.Gv)(n,B,h,P.supplies.current,E),P.row.id=!1,P.set=(0,s.lJ)(A,P.row,P.set,N,!1,!1,n))}if(P.supplies.current&&P.contracts.current&&b){if(f===i.p.LT&&P.lt.current&&!p){var Y=g.products.legalTech,Z=(0,s.vG)(P.lt.current,P.contracts.current,h,Y),K=Z&&(0,u.Gv)(n,Z,h,P.supplies.current,E);K&&(K.id=!1,P.set=(0,s.lJ)(A,K,P.set,N,!1,!1,n))}else f===i.p.LT&&P.lt.current&&p&&P.set&&(P.set=(0,s.Jg)(P.set,0,i.p.LT));if(f===i.p.CONSALTING&&P.consalting.current&&!p){var z=g.products.consalting,X=(0,s.vG)(P.consalting.current,P.contracts.current,h,z),J=X&&(0,u.Gv)(n,X,h,P.supplies.current,E);J&&(J.id=!1,P.set=(0,s.lJ)(A,J,P.set,N,!1,!1,n))}else f===i.p.CONSALTING&&P.consalting.current&&p&&P.set&&(P.set=(0,s.Jg)(P.set,0,i.p.CONSALTING));if(f===i.p.STAR&&P.star.current&&1!==P.star.current.number){var V=g.products.star,q=(0,s.vG)(P.star.current,P.contracts.current,h,V),Q=q&&(0,u.Gv)(n,q,h,P.supplies.current,E);Q&&(Q.id=!1,P.set=(0,s.lJ)(A,Q,P.set,N,!1,!1,n))}else f===i.p.STAR&&P.star.current&&1===P.star.current.number&&P.set&&(P.set=(0,s.Jg)(P.set,0,i.p.STAR))}m(d.setSelect(P))}},g=function pushCreatedRow(e){return function(t,n){var r=n().rows,c=r.show===o.Cs.SET,i=r.count[e],a=r.current.row;if(e===o.zt.GENRAL){if(a){var u=r.sets[e][0];(l=(0,s.lJ)(i,a,u,c,!1,!1,e)).total[0].type=e,t(d.setRowsSet(l,!0))}}else if(e===o.zt.ALTERNATIVE){var l,p=r.current.set,f=r.count[o.zt.ALTERNATIVE];if(p&&(p.id=f),a)(l=(0,s.lJ)(i,a,p,c,!1,!1,e))&&t(d.setRowsSet(l,!0))}}},T=function cancelCreatedRow(){return function(e,t){var n=(0,u.Vi)();e(d.setInitialProductRow(n))}},v=function changeCommercial(e,t,n,r,c,i,a){return function(p,f){var m=f(),S=m.rows.sets,g="rows"!==m.rows.show;if(console.log("state"),console.log(m),console.log("sets"),console.log(S),console.log("isSetStrict"),console.log(g),console.log("isUpdating"),console.log(e),m&&S){var T=S[r].find((function(e){return e.id===t}));if(S[r]&&void 0!==T){var v=T.rows["".concat(c)].find((function(e){return e.id===n})),h=g&&!e||!v?T.total[0]:v,b=(0,u.wC)(h),E=m.rows.count[r];if(g&&i===o.bV.QUANTITY&&(b=(0,u.wC)(T.rows.garant[0])),!g||g&&(i===o.bV.QUANTITY||e)){b.price=(0,l.uT)(i,a,b.price);var y=m.rows.show===o.Cs.ROWS;T=(0,s.lJ)(E,b,T,y,!1,!0,r)}p(d.setCommercialProps(T))}}}},h=function deleteRowOrSet(e,t,n,r){return function(c,o){var i=o().rows.sets[n].find((function(t){return t.id===e}));if(i){var a=(0,s.Jg)(i,t,r);c(a?d.setRowsSet(a,!1):d.deleteSet(n,e))}}},b=function rememberRows(e){return function(t,n){var r=n();r.global.currentRegion,r.od.currentOd,r.price;e[o.zt.GENRAL]&&e[o.zt.GENRAL].length>0&&e[o.zt.GENRAL][0]||e.sets.general&&e.sets.general.length&&t(d.setRememberRows(e))}},E=function productRows(e,t){var n,r,c,i;switch(void 0===e&&(e=p),t.type){case"rows/SET_ROW":var a=__assign({},e),s=t.row.type;t.row.productType;return a[s]=__spreadArray([],a[s],!0),a[s]=a[s].map((function(e){return e.productType===t.row.productType?t.row:e})),a[s].length<1&&a[s].push(t.row),a;case"rows/SET_ROWS_SET":var d=__assign({},e),f=d.isGeneralSet,m=t.set.total[0].type,S=m===o.zt.GENRAL,g=(0,u.qw)(t.set);g&&g.total.length>0&&(S?(d.sets["".concat(g.total[0].type)]=[g],f=(0,u.tx)([g],!1).length>1):t.isCreate?d.sets["".concat(g.total[0].type)].length<7?(d.sets["".concat(g.total[0].type)]=d.sets["".concat(g.total[0].type)].map((function(e){return e})),d.sets["".concat(g.total[0].type)].push(g)):alert("слишком много комплектов для сравнения"):d.sets[m]=d.sets[m].map((function(e){return e.id===t.set.id?t.set:e})));var T=t.isCreate?__assign(__assign({},d.count),((n={})["".concat(g.total[0].type)]=g.id+1,n)):d.count,v=(0,u.Vi)();return __assign(__assign({},d),{count:T,current:v,isGeneralSet:f});case"rows/SET_INITIAL_ROW":return __assign(__assign({},e),{current:t.addProductRowData});case"rows/SET_ROWS_PROP":return __assign(__assign({},e),{current:t.current});case"rows/SET_COMMERCIALS_PROPS":var h=t.set,b=(e.show,o.Cs.ROWS,h.total[0].type),E=e.sets["".concat(b)].map((function(e){return e.id===h.id?h:e}));return __assign(__assign({},e),{sets:__assign(__assign({},e.sets),(r={},r["".concat(b)]=E,r))});case"rows/SET_SHOW_STATUS":var y=e.show===o.Cs.ROWS?o.Cs.SET:o.Cs.ROWS;return __assign(__assign({},e),{show:y});case"rows/CHANGE_OPTIONS_TYPE":var _=e[t.rowType].find((function(e,n){return n===t.index}));if(_){var C=(0,l.PJ)(t.changingOptionType,_),O=e[t.rowType].map((function(e,n){return n===t.index?C:e}));return __assign(__assign({},e),((c={})[t.rowType]=O,c))}return e;case"rows/DELETE_SET":var I=e.sets[t.target].filter((function(e){return e.id!==t.setId}));return __assign(__assign({},e),{sets:__assign(__assign({},e.sets),(i={},i[t.target]=I,i))});case"rows/SET_UPDATING_SET_STATUS":var w=t.target,P=__assign({},e);return P.sets=(0,u.TB)(P.sets),P.sets[w]=P.sets[t.target].map((function(e){if(e.id===t.setId){var n=(0,u.kK)(e,"isUpdating",t.status);return n.show=t.status,n}return e})),P.isSomeUpdating=t.status,P;case"rows/SET_REMEMBER_ROWS":t.state;return __assign(__assign({},e),t.state);default:return e}}},1324:(e,t,n)=>{n.d(t,{YH:()=>o,ZP:()=>i,_D:()=>c});n(6097),n(3641);var __assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},__assign.apply(this,arguments)},__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(c,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?c(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},__generator=function(e,t){var n,r,c,o,i={label:0,sent:function sent(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(a){return function(s){return function step(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(c=2&a[0]?r.return:a[0]?r.throw||((c=r.return)&&c.call(r),0):r.next)&&!(c=c.call(r,a[1])).done)return c;switch(r=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(c=i.trys,(c=c.length>0&&c[c.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3])){i.label=a[1];break}if(6===a[0]&&i.label<c[1]){i.label=c[1],c=a;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(a);break}c[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},__spreadArray=function(e,t,n){if(n||2===arguments.length)for(var r,c=0,o=t.length;c<o;c++)!r&&c in t||(r||(r=Array.prototype.slice.call(t,0,c)),r[c]=t[c]);return e.concat(r||Array.prototype.slice.call(t))},r={items:[],current:[],detalization:null},c={setFetchedDepartament:function setFetchedDepartament(e){return{type:"departament/SET_FITCHED_DEPARTAMENT",departament:e}},setDepartamentCurrent:function setDepartamentCurrent(e){return{type:"departament/SET_DEPARTAMENT_CURRENT",departament:e}},setDepartamentDetalizationCurrent:function setDepartamentDetalizationCurrent(e){return{type:"departament/SET_DETALIZATION_DEPARTAMENT_CURRENT",user:e}}},o=function setCurentDepartamentItem(e){return function(t,n){return __awaiter(void 0,void 0,void 0,(function(){var r,o,i,a,s,u;return __generator(this,(function(l){return r=n().departament,o=r.items,i=r.current,a=i.find((function(t){return t.ID===e})),s=__spreadArray([],r.current,!0),a?s=s.filter((function(t){return t.ID!==e})):(u=o.find((function(t){return t.ID===e})))&&s.push(u),t(c.setDepartamentCurrent(s)),[2]}))}))}};const i=function departament(e,t){switch(void 0===e&&(e=r),t.type){case"departament/SET_FITCHED_DEPARTAMENT":return __assign(__assign({},e),{items:t.departament,current:t.departament,detalization:t.departament.length?t.departament[0]:null});case"departament/SET_DEPARTAMENT_CURRENT":return __assign(__assign({},e),{current:t.departament});case"departament/SET_DETALIZATION_DEPARTAMENT_CURRENT":return __assign(__assign({},e),{detalization:t.user});default:return e}}},9159:(e,t,n)=>{n.d(t,{e:()=>r});var r={setInit:function setInit(e,t){return{type:"documentContractBase/SET_INIT",baserqs:e,prepaymentQuantity:t}},setCurrent:function setCurrent(e,t){return{type:"documentContractBase/SET_CURRENT",code:e,value:t}}}},7004:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(7874),__assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},__assign.apply(this,arguments)},c={isActive:!1,isFetched:!1,items:[]};const o=function documentContractBase(e,t){switch(void 0===e&&(e=c),t.type){case"documentContractBase/SET_INIT":var n=function getInitialDate(e){void 0===e&&(e=0);var t=new Date,n=new Date(t.getFullYear(),t.getMonth()+1,1),c=new Date(n.getFullYear()+1,n.getMonth(),1),o=new Date(n.getFullYear(),n.getMonth()+e,1),i=new Date(n.getFullYear(),n.getMonth()+1,1);return{first:(0,r.WU)(new Date(t.getFullYear(),t.getMonth(),1),"yyyy-MM-dd"),current:(0,r.WU)(t,"yyyy-MM-dd HH:mm"),nextFirst:(0,r.WU)(n,"yyyy-MM-dd"),oneYearNext:(0,r.WU)(c,"yyyy-MM-dd"),nMonthsNext:(0,r.WU)(o,"yyyy-MM-dd"),presentMonthsNext:(0,r.WU)(i,"yyyy-MM-dd")}}(t.prepaymentQuantity);return __assign(__assign({},e),{items:t.baserqs.map((function(e){var t=e.value;return"contract_create_date"===e.code?t=n.first:"contract_start"===e.code?t=n.nextFirst:"contract_finish"===e.code?t=n.oneYearNext:"prepayment_start"===e.code?t=n.first:"prepayment_finish"===e.code?t=n.nMonthsNext:"present_start"===e.code?t=n.first:"present_finish"===e.code&&(t=n.presentMonthsNext),__assign(__assign({},e),{value:t})})),isFetched:!0});case"documentContractBase/SET_CURRENT":return __assign(__assign({},e),{items:e.items.map((function(e){return e.code===t.code?__assign(__assign({},e),{value:t.value}):e}))});default:return e}}},2961:(e,t,n)=>{n.d(t,{p:()=>r});var r={setInit:function setInit(e,t){return{type:"documentContractSpecification/SET_INIT",specrqs:e,prepaymentQuantity:t}},setCurrent:function setCurrent(e,t){return{type:"documentContractSpecification/SET_CURRENT",code:e,value:t}}}},8080:(e,t,n)=>{n.d(t,{Z:()=>c});var __assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},__assign.apply(this,arguments)},r={isActive:!1,isFetched:!1,items:[]};const c=function documentContractSpecification(e,t){switch(void 0===e&&(e=r),t.type){case"documentContractSpecification/SET_INIT":return __assign(__assign({},e),{items:t.specrqs,isFetched:!0});case"documentContractSpecification/SET_CURRENT":return __assign(__assign({},e),{items:e.items.map((function(e){return e.code===t.code?__assign(__assign({},e),{value:t.value}):e}))});default:return e}}},3744:(e,t,n)=>{n.d(t,{d:()=>r});var r={activate:function activate(e){return{type:"documentContract/SET_ACTIVATE_STATUS",status:e}},disactivate:function disactivate(){return{type:"documentContract/SET_DISACTIVATE_STATUS"}},setIsLoading:function setIsLoading(e){return{type:"documentContract/SET_IS_LOADING",status:e}},setInit:function setInit(e,t){return{type:"documentContract/SET_INIT",rq:e,conractType:t}},setCurrentRQType:function setCurrentRQType(e){return{type:"documentContract/SET_CURRENT_RQ_TYPE",code:e}},setCurrentPropValue:function setCurrentPropValue(e,t,n,r){return{type:"documentContract/SET_CURRENT_PROP_VALUE",agent:e,infoType:t,code:n,value:r}}}},4267:(e,t,n)=>{n.d(t,{W6:()=>s,ZP:()=>p,fn:()=>i});var r,c,o,i,a,s,u=n(4974),__assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},__assign.apply(this,arguments)};!function(e){e.RQ="rq",e.BANK="bank",e.ADDRESS="address",e.CONTRACT="contract",e.SPECIFICATION="specification"}(i||(i={})),function(e){e.ORGANIZATION="org",e.BUDGET="org_state",e.IP="ip",e.FIZ="fiz"}(a||(a={})),function(e){e.PROVIDER="provider",e.CLIENT="client"}(s||(s={}));var l=((r={isActive:!1,isFetched:!1,isLoading:!1,quantityType:"single",conractType:u.R.SERVICE})[s.CLIENT]={type:"org",role:"",rqs:(c={},c[i.RQ]=null,c[i.ADDRESS]=null,c[i.BANK]=null,c)},r[s.PROVIDER]={type:"org",role:"",rqs:(o={},o[i.RQ]=null,o[i.ADDRESS]=null,o[i.BANK]=null,o)},r);const p=function documentContract(e,t){var n,r,c,o;switch(void 0===e&&(e=l),t.type){case"documentContract/SET_ACTIVATE_STATUS":return __assign(__assign({},e),{isActive:!0});case"documentContract/SET_DISACTIVATE_STATUS":return __assign(__assign({},e),{isActive:!1,isFetched:!1});case"documentContract/SET_IS_LOADING":return __assign(__assign({},e),{isLoading:t.status});case"documentContract/SET_INIT":var a=__assign(__assign({},e),((n={})[s.CLIENT]=__assign(__assign({},e[s.CLIENT]),{rqs:__assign(__assign({},e[s.CLIENT].rqs),(r={},r[i.RQ]=t.rq.client.rq,r[i.ADDRESS]=t.rq.client.address,r[i.BANK]=t.rq.client.bank,r))}),n.isFetched=!0,n.isLoading=!1,n.conractType=t.conractType,n));return __assign({},a);case"documentContract/SET_CURRENT_PROP_VALUE":if(t.infoType!==i.CONTRACT&&t.infoType!==i.SPECIFICATION){var u=e[t.agent].rqs[t.infoType].map((function(e){return e.code===t.code?__assign(__assign({},e),{value:t.value}):e})),p=__assign(__assign({},e),((c={})[t.agent]=__assign(__assign({},e[t.agent]),{rqs:__assign(__assign({},e[t.agent].rqs),(o={},o[t.infoType]=u,o))}),c));return __assign({},p)}return e;default:return e}}},3169:(e,t,n)=>{n.d(t,{mq:()=>h,tg:()=>b,uN:()=>E});var r=n(6097),c=n(4353),o=n(1965),i=n(3594),a=n(9978),s=n(3744),u=n(4004),l=n(9159),p=n(8981),d=n(3129),f=n(2823),m=n(4974),S=n(8075),g=n(2961),T=n(9727),v=n(1103),__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(c,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?c(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},__generator=function(e,t){var n,r,c,o,i={label:0,sent:function sent(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(a){return function(s){return function step(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(c=2&a[0]?r.return:a[0]?r.throw||((c=r.return)&&c.call(r),0):r.next)&&!(c=c.call(r,a[1])).done)return c;switch(r=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(c=i.trys,(c=c.length>0&&c[c.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3])){i.label=a[1];break}if(6===a[0]&&i.label<c[1]){i.label=c[1],c=a;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(a);break}c[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},h=function getInitialContract(){return function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var n,o,p,d,f,h,b,E,y,_,C,O,I,w,P,R,A,N,k,D,j,L,M,x,U,F,W,G,H,B,Y;return __generator(this,(function(Z){switch(Z.label){case 0:return n=t(),o=n.documentContract,p=o.isLoading,d=o.isFetched,p||d?[3,2]:(e(s.d.setIsLoading(!0)),f=n.app,h=f.domain,n.contract.current,n.contract.items,n.currentComplect,n.od.currentOd,n.global.currentRegion,n.region.current,n.app.dealId,b=n.app.company,n.app.bitrix.placement,E=n.products,y=n.rows.sets.general,_=(0,a.tx)(y,!1),C=n.infoblocks,O=n.freeBlocks,I=n.encyclopedias,w=n.consalting,P=n.legalTech,R=n.star,(0,i.y)(C,O,I,w,P,R),A=n.contract,N=A.current,0==(null==N?void 0:N.number)||1==(null==N?void 0:N.number),k=2==(null==N?void 0:N.number)||3==(null==N?void 0:N.number)||6==(null==N?void 0:N.number)||8==(null==N?void 0:N.number),D=4==(null==N?void 0:N.number)||5==(null==N?void 0:N.number)||7==(null==N?void 0:N.number)||9==(null==N?void 0:N.number),j=10==(null==N?void 0:N.number),L=m.R.SERVICE,k&&(L=m.R.ABON),D&&(L=m.R.LIC),j&&(L=m.R.KEY),M=n.rows.sets.general[0],x=n.currentComplect,n.od.currentOdIndex,U=n.global.currentComplectsType.title,F=n.legalTech,W=n.consalting,G=n.star,N?(H=[],_.map((function(e){if(e.productType===v.p.GARANT){var t=(0,S.PJ)(E.prof,E.universal,e.complect.number,e.supply.number,null==N?void 0:N.shortName,U);H.push(t)}})),B={companyId:b,domain:h,contractType:L,contract:N,productSet:M,arows:_,products:H,legalTech:F,consalting:W,star:G,complect:x},[4,r.gT.service("konstruct/contract/init",c.F.POST,"init",B)]):[3,2]);case 1:Y=Z.sent(),console.log("contract/init"),console.log(Y),Y&&(e(s.d.setInit(Y,L)),e(u.V.setInit(Y.providers)),e(l.e.setInit(Y.contract,4)),e(g.p.setInit(Y.specification,4)),e(T.B.setInit(Y.clientType))),Z.label=2;case 2:return[2]}}))}))}},b=function setProp(e,t,n,r){return function(c,o){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(o){return c(s.d.setCurrentPropValue(e,t,n,r)),[2]}))}))}},E=function getContract(){return function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var n,s,u,l,g,T,v,h,b,E,y,_,C,O,I,w,P,R,A,N,k,D,j,L,M,x,U,F,W,G,H,B,Y,Z,K,z,X,J,V,q,Q,$,ee;return __generator(this,(function(te){switch(te.label){case 0:return e((0,p.te)(!0)),n=t(),s=n.app.domain,u="gsr.bitrix24.ru"===s||"april-dev.bitrix24.ru"===s,l=n.app.user,g=n.documentContract,T=n.documentContractBase,v=n.documentProvider,h=n.rows.sets.general,b=n.app.dealId,E=n.app.company,y=n.app.bitrix.placement,_=n.currentComplect,C=n.od.currentOd,O=n.global.currentRegion,I=n.region.current,w=n.infoblocks,P=n.freeBlocks,R=n.encyclopedias,A=n.consalting,N=n.legalTech,k=n.star,D=(0,i.y)(w,P,R,A,N,k),j=n.documentInvoice.menu.questions,n.documentInvoice.date,L=n.event,M=L.presDeals.current,n.documentInvoice.menu.questions.presentation.value,x=n.rows.show!==o.Cs.ROWS,U=n.currentComplect,F=n.products,W=n.rows.sets.general[0],G=n.contract,H=G.current,0==(null==H?void 0:H.number)||1==(null==H?void 0:H.number),B=2==(null==H?void 0:H.number)||3==(null==H?void 0:H.number)||6==(null==H?void 0:H.number)||8==(null==H?void 0:H.number),Y=4==(null==H?void 0:H.number)||5==(null==H?void 0:H.number)||7==(null==H?void 0:H.number)||9==(null==H?void 0:H.number),Z=10==(null==H?void 0:H.number),K=m.R.SERVICE,B&&(K=m.R.ABON),Y&&(K=m.R.LIC),Z&&(K=m.R.KEY),n.od.currentOdIndex,z=n.global.currentComplectsType.title,X=n.legalTech,J=n.consalting,V=(0,a.tx)(h,!1),q=null,H&&(q=V.map((function(e){return(0,S.PJ)(F.prof,F.universal,e.complect.number,e.supply.number,null==H?void 0:H.shortName,z)}))),Q={domain:s,companyId:E,placement:y,isProd:d.XK,dealId:b,contractClientState:g,complect:D,supply:C,region:O,contract:H,contractBaseState:T,contractProviderState:v,productSet:W,isSetShow:x,userId:l,manager:n.document.manager,invoice:j,isPublic:!1,regions:I,withHook:u,presentation:M,contractType:K,arows:V,products:q,legalTech:X,consalting:J,currentComplect:U},g&&_?(u&&($=Q,f.L.service("full/contract/flow",c.F.POST,"result",$)),ee="",[4,r.gT.service("konstruct/contract","post","link",Q)]):[3,2];case 1:return(ee=te.sent())&&window.open(ee,"_blank"),[3,3];case 2:alert("something wrong: document or complect was not found"),te.label=3;case 3:return e((0,p.te)(!1)),[2]}}))}))}}},9727:(e,t,n)=>{n.d(t,{B:()=>r});var r={setInit:function setInit(e){return{type:"documentClientType/SET_INIT",clientType:e}},setCurrent:function setCurrent(e){return{type:"documentClientType/SET_CURRENT",id:e}}}},534:(e,t,n)=>{n.d(t,{Z:()=>c});var __assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},__assign.apply(this,arguments)},r={isActive:!1,isFetched:!1,items:null,current:null};const c=function documentClientType(e,t){switch(void 0===e&&(e=r),t.type){case"documentClientType/SET_INIT":return __assign(__assign({},e),{items:t.clientType,current:t.clientType.items[0],isFetched:!0});case"documentClientType/SET_CURRENT":var n=e.items;if(n&&n.items.length){var c=n.items.find((function(e){return e.id===t.id}));return __assign(__assign({},e),{current:c})}return e;default:return e}}},6814:(e,t,n)=>{n.d(t,{E9:()=>f,En:()=>c,Gw:()=>p,_j:()=>d,s7:()=>l});var r,c,o=n(1002),i=n(7470),a=n(8981),s=n(3641),__assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},__assign.apply(this,arguments)},__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(c,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?c(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},__generator=function(e,t){var n,r,c,o,i={label:0,sent:function sent(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(a){return function(s){return function step(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(c=2&a[0]?r.return:a[0]?r.throw||((c=r.return)&&c.call(r),0):r.next)&&!(c=c.call(r,a[1])).done)return c;switch(r=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(c=i.trys,(c=c.length>0&&c[c.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3])){i.label=a[1];break}if(6===a[0]&&i.label<c[1]){i.label=c[1],c=a;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(a);break}c[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};!function(e){e.STYLE="style",e.DESCRIPTION="description",e.SALE_PHRASE="salePhrase",e.WITH_STAMP="withStamps",e.WITH_MANAGER="withManager",e.IS_PRICE_FIRST="isPriceFirst"}(c||(c={}));var u=((r={})[c.STYLE]={name:i.fB.STYLE,items:[{id:0,value:i.sz.LIST,code:i.CN.LIST},{id:1,value:i.sz.TABLE,code:i.CN.TABLE},{id:2,value:i.sz.TABLE_WITH_GROUP,code:i.CN.TABLE_WITH_GROUP}],current:{id:0,value:i.sz.LIST,code:i.CN.LIST},previous:null,isRemembed:!0,isChanged:!1,type:i.Md.STYLE},r[c.DESCRIPTION]={name:i.fB.DESCRIPTION,items:[{id:0,value:i.N1.NO,code:i.B.NO},{id:1,value:i.N1.SMALL,code:i.B.SMALL},{id:2,value:i.N1.MEDIUM,code:i.B.MEDIUM}],current:{id:0,value:i.N1.NO,code:i.B.NO},previous:null,isRemembed:!0,isChanged:!1,type:i.Md.DESCRIPTION},r[c.SALE_PHRASE]={type:c.SALE_PHRASE,isRemembed:!0,isChanged:!1,value:"",previous:"",error:!1},r[c.WITH_STAMP]={name:i.fB.WITH_STAMP,type:i.Md.WITH_STAMP,isRemembed:!0,isChanged:!1,items:[{id:0,value:i.Dv.NO,code:i.hk.NO},{id:1,value:i.Dv.YES,code:i.hk.YES}],current:{id:1,value:i.Dv.YES,code:i.hk.YES},previous:null},r[c.WITH_MANAGER]={name:i.fB.WITH_MANAGER,type:i.Md.WITH_MANAGER,isRemembed:!0,isChanged:!1,items:[{id:0,value:i.Dv.NO,code:i.hk.NO},{id:1,value:i.Dv.YES,code:i.hk.YES}],current:{id:1,value:i.Dv.YES,code:i.hk.YES},previous:null},r[c.IS_PRICE_FIRST]={name:i.fB.IS_PRICE_FIRST,type:i.Md.IS_PRICE_FIRST,isRemembed:!0,isChanged:!1,items:[{id:0,value:i.Dv.NO,code:i.hk.NO},{id:1,value:i.Dv.YES,code:i.hk.YES}],current:{id:0,value:i.Dv.NO,code:i.hk.NO},previous:null},r.settings={status:!1},r),l={setCurrentItem:function setCurrentItem(e,t){return{type:"document/SET_CURRENT_DOCUMENT_SETTINGS_ITEM",id:t,infoblockOptionName:e}},setRemembedItemStatus:function setRemembedItemStatus(e,t){return{type:"document/SET_DOCUMENT_SETTINGS_REMEMBED_ITEM_STATUS",status:t,infoblockOptionName:e}},setSalePhraseValue:function setSalePhraseValue(e){return{type:"document/SET_SALE_PHRASE",value:e}},setWithStamps:function setWithStamps(e){return{type:"document/SET_WITH_STAMPS_STATUS",value:e}},setSettingsStatus:function setSettingsStatus(e){return{type:"document/SET_SETTINGS_STATUS",status:e}},cancelSettings:function cancelSettings(){return{type:"document/SET_CANCEL_SETTINGS"}},setRememberState:function setRememberState(e,t,n,r,c,o){return{type:"document/SET_DOCUMENT_REMEMBER_INFOBLOCKS_STYLE",rememberStateStyle:e,rememberStateDescription:t,rememberStateWithStamp:n,rememberStateWithManager:r,rememberStateIsPriceFirst:c,rememberSalePhrase:o}}},p=function getSettings(){return function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var t,n,r,i,u,p,d;return __generator(this,(function(f){switch(f.label){case 0:return e((0,a.te)(!0)),[4,s.j.getParsedData("infoblocksStyle")];case 1:return t=f.sent(),n=null,r=null,i=null,u=null,p=null,d={value:""}||"",t?(n=t.style.current,r=t[c.DESCRIPTION].current,[4,s.j.removeData("infoblocksStyle")]):[3,3];case 2:f.sent(),f.label=3;case 3:return n?[3,5]:[4,s.j.getParsedData("iblocksStyle")];case 4:n=f.sent(),f.label=5;case 5:return r?[3,7]:[4,s.j.getParsedData("describStyle")];case 6:r=f.sent(),f.label=7;case 7:return[4,s.j.getParsedData("withStamp")];case 8:return i=f.sent(),[4,s.j.getParsedData("withManager")];case 9:return u=f.sent(),[4,s.j.getParsedData("salePhrase")];case 10:return(d=f.sent())&&"object"===(0,o.Z)(d)&&"value"in d&&(d=d.value),[4,s.j.getParsedData("isPriceFirst")];case 11:return p=f.sent(),e(l.setRememberState(n,r,i,u,p,d)),[2]}}))}))}},d=function saveCurrentSettings(){return function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var n,r,o;return __generator(this,(function(u){switch(u.label){case 0:return e((0,a.te)(!0)),n=t(),n.documentInfoblocks,(r=n.documentInfoblocks)[c.STYLE].isRemembed?[4,s.j.setData(r[c.STYLE].current,"iblocksStyle")]:[3,2];case 1:u.sent(),u.label=2;case 2:return r[c.DESCRIPTION].isRemembed?[4,s.j.setData(r[c.DESCRIPTION].current,"describStyle")]:[3,4];case 3:u.sent(),u.label=4;case 4:return r[c.WITH_STAMP].isRemembed?[4,s.j.setData(r[c.WITH_STAMP].current,"withStamp")]:[3,6];case 5:u.sent(),u.label=6;case 6:return r[c.WITH_MANAGER].isRemembed?[4,s.j.setData(r[c.WITH_MANAGER].current,"withManager")]:[3,8];case 7:u.sent(),u.label=8;case 8:return r[c.IS_PRICE_FIRST].isRemembed?[4,s.j.setData(r[c.IS_PRICE_FIRST].current,i.Md.IS_PRICE_FIRST)]:[3,10];case 9:u.sent(),u.label=10;case 10:return r[c.SALE_PHRASE].isRemembed?("value"in(o=r[c.SALE_PHRASE])&&(o=o.value),[4,s.j.setData({value:o},"salePhrase")]):[3,12];case 11:u.sent(),u.label=12;case 12:return e(l.setSettingsStatus(!1)),e((0,a.te)(!1)),[2]}}))}))}},f=function documentInfoblocks(e,t){var n,r,o,i;switch(void 0===e&&(e=u),t.type){case"document/SET_CURRENT_DOCUMENT_SETTINGS_ITEM":var a=e[t.infoblockOptionName].current,s=e[t.infoblockOptionName].isChanged,l=e[t.infoblockOptionName].items.find((function(e){return e.id===t.id}));return l?__assign(__assign({},e),((n={})[t.infoblockOptionName]=__assign(__assign({},e[t.infoblockOptionName]),{isChanged:!0,current:l,previous:s?e[t.infoblockOptionName].previous:a,isRemembed:!1}),n)):e;case"document/SET_DOCUMENT_SETTINGS_REMEMBED_ITEM_STATUS":return __assign(__assign({},e),((r={})[t.infoblockOptionName]=__assign(__assign({},e[t.infoblockOptionName]),{isRemembed:t.status}),r));case"document/SET_DOCUMENT_REMEMBER_INFOBLOCKS_STYLE":var p=t.rememberStateStyle,d=t.rememberStateDescription,f=t.rememberStateWithStamp,m=t.rememberStateWithManager,S=t.rememberSalePhrase,g=t.rememberStateIsPriceFirst,T=__assign({},e);return p&&(T[c.STYLE].current=p,T[c.STYLE].previous=p),d&&(T[c.DESCRIPTION].current=d,T[c.DESCRIPTION].previous=d),f&&(T[c.WITH_STAMP].current=f,T[c.WITH_STAMP].previous=f),m&&(T[c.WITH_MANAGER].current=m,T[c.WITH_MANAGER].previous=m),g&&(T[c.IS_PRICE_FIRST].current=g,T[c.IS_PRICE_FIRST].previous=g),T[c.SALE_PHRASE].value=S,T[c.SALE_PHRASE].previous=S,T;case"document/SET_SALE_PHRASE":var v=t.value.split("\n").length-1,h=e[c.SALE_PHRASE].value,b=e[c.SALE_PHRASE].isChanged;return t.value.length<500&&v<=5?__assign(__assign({},e),{salePhrase:__assign(__assign({},e.salePhrase),{value:t.value,isChanged:!0,error:!1,previous:b?e[c.SALE_PHRASE].previous:h,isRemembed:!1})}):__assign(__assign({},e),{salePhrase:__assign(__assign({},e.salePhrase),{isChanged:!0,error:!0})});case"document/SET_SETTINGS_STATUS":var E=((o={})[c.STYLE]=__assign(__assign({},e[c.STYLE]),{previous:e[c.STYLE].current}),o[c.DESCRIPTION]=__assign(__assign({},e[c.DESCRIPTION]),{previous:e[c.DESCRIPTION].current}),o[c.SALE_PHRASE]=__assign(__assign({},e[c.SALE_PHRASE]),{previous:e[c.SALE_PHRASE].value}),o[c.WITH_STAMP]=__assign(__assign({},e[c.WITH_STAMP]),{previous:e[c.WITH_STAMP].current}),o[c.WITH_MANAGER]=__assign(__assign({},e[c.WITH_MANAGER]),{previous:e[c.WITH_MANAGER].current}),o[c.IS_PRICE_FIRST]=__assign(__assign({},e[c.IS_PRICE_FIRST]),{previous:e[c.IS_PRICE_FIRST].current}),o);return __assign(__assign(__assign({},e),E),{settings:__assign(__assign({},e.settings),{status:t.status})});case"document/SET_CANCEL_SETTINGS":var y=((i={})[c.STYLE]=__assign(__assign({},e[c.STYLE]),{current:e[c.STYLE].previous||e[c.STYLE].current}),i[c.DESCRIPTION]=__assign(__assign({},e[c.DESCRIPTION]),{current:e[c.DESCRIPTION].previous||e[c.DESCRIPTION].current}),i[c.SALE_PHRASE]=__assign(__assign({},e[c.SALE_PHRASE]),{value:e[c.SALE_PHRASE].previous}),i[c.WITH_STAMP]=__assign(__assign({},e[c.WITH_STAMP]),{current:e[c.WITH_STAMP].previous||e[c.WITH_STAMP].current}),i[c.WITH_MANAGER]=__assign(__assign({},e[c.WITH_MANAGER]),{current:e[c.WITH_MANAGER].previous||e[c.WITH_MANAGER].current}),i[c.IS_PRICE_FIRST]=__assign(__assign({},e[c.IS_PRICE_FIRST]),{current:e[c.IS_PRICE_FIRST].previous||e[c.IS_PRICE_FIRST].current}),i);return __assign(__assign(__assign({},e),y),{settings:__assign(__assign({},e.settings),{status:!1})});default:return e}}},9163:(e,t,n)=>{n.d(t,{_l:()=>i,mi:()=>a,wQ:()=>c});var r,c,__assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},__assign.apply(this,arguments)};!function(e){e.ONE="one",e.MANY="many",e.PRESENTATION="presentation"}(c||(c={}));var o={menu:{status:!1,questions:(r={},r[c.ONE]={id:0,title:"Сделать счет ?",isActive:!0,value:!0,isAnswered:!0},r[c.MANY]={id:1,title:"Сделать счета для всех товаров ?",isActive:!0,value:!0,isAnswered:!0},r[c.PRESENTATION]={id:2,title:"Документы в продолжение презентации ?",isActive:!0,value:!1,isAnswered:!0},r)},date:""},i={setInitial:function setInitial(e){return{type:"document/invoice/SET_INITIAL",questions:e}},setMenuStatus:function setMenuStatus(e){return{type:"document/invoice/SET_MENU_STATUS",status:e}},setAnswer:function setAnswer(e,t){return{type:"document/invoice/SET_ANSWER",questionType:e,value:t}},setDate:function setDate(e){return{type:"document/invoice/SET_DATE",value:e}}},a=function documentInvoice(e,t){var n;switch(void 0===e&&(e=o),t.type){case"document/invoice/SET_INITIAL":return __assign(__assign({},e),{menu:__assign(__assign({},e.menu),{questions:t.questions})});case"document/invoice/SET_MENU_STATUS":return __assign(__assign({},e),{menu:__assign(__assign({},e.menu),{status:t.status})});case"document/invoice/SET_ANSWER":return e.menu.questions[t.questionType].value!==t.value?__assign(__assign({},e),{menu:__assign(__assign({},e.menu),{questions:__assign(__assign({},e.menu.questions),(n={},n[t.questionType]=__assign(__assign({},e.menu.questions[t.questionType]),{value:t.value,isAnswered:!0}),n))})}):e;case"document/invoice/SET_DATE":return __assign(__assign({},e),{date:t.value});default:return e}}},4470:(e,t,n)=>{n.d(t,{Q6:()=>_,Xy:()=>y,aM:()=>h,iU:()=>b,mv:()=>v});var r,c=n(7470),o=n(1965),i=n(9978),a=n(3710),s=n(1423),u=n(4194),l=n(9163),p=n(3641),__assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},__assign.apply(this,arguments)},__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(c,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?c(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},__generator=function(e,t){var n,r,c,o,i={label:0,sent:function sent(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(a){return function(s){return function step(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(c=2&a[0]?r.return:a[0]?r.throw||((c=r.return)&&c.call(r),0):r.next)&&!(c=c.call(r,a[1])).done)return c;switch(r=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(c=i.trys,(c=c.length>0&&c[c.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3])){i.label=a[1];break}if(6===a[0]&&i.label<c[1]){i.label=c[1],c=a;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(a);break}c[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};!function(e){e.TABLE="isTable",e.MEASURE="isOneMeasure",e.DISCOUNT="isDiscountShow",e.DEFAULT="isDefaultShow",e.SUPPLY_LONG="isSupplyLong",e.IS_INVOICE_SHOW="isInvoice"}(r||(r={}));var d={cells:{general:[],alternative:[],total:[]},options:{},isInvoice:!0,isDefaultShow:!0,isTable:!0,isOneMeasure:!1,isDiscountShow:!0,isSupplyLong:!1,prepaymentStyle:c.H3.INVOICE},f=function setInitialState(e){return{type:"documentPrice/SET_INITIAL_STATE",initialData:e}},m=function setCells(e){return{type:"documentPrice/SET_PRICE_CELLS",pricecells:e}},S=function changeOptionStatus(e,t){return{type:"documentPrice/CHANGE_OPTION",name:e,status:t}},g=function setOptions(e){return{type:"documentPrice/SET_OPTIONS",options:e}},T=function setOptionItemStatus(e,t){return{type:"documentPrice/SET_OPTION_ITEM_STATUS",status:e,name:t}},v=function getDocumentPrice(){return function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var n,r,p,d,S,T,v,h,b,y,_,C,O,I,w,P,R,A;return __generator(this,(function(N){switch(N.label){case 0:return n=t(),r=n.rows.show===o.Cs.SET,p=(0,i.tx)(n.rows.sets.general,r),d=(0,i.tx)(n.rows.sets.alternative,r),S=(0,i.tx)(n.rows.sets.general,!0),T=n.contract,v=n.od.all,h=d.length>0,b=(0,u.v)(!0,h),y=(0,a.Gr)(p,d,S,T,v),_=(0,s.vv)(y),C=(0,s.a4)(y),O=(0,s.An)(y),[4,E()];case 1:return I=N.sent(),w=(0,s.Jd)(_,O,C,I),P=(0,s.Kk)(O,_,I.priceOptions),w&&P&&(R=P.isDefaultShow,y=(0,a.y$)(y,R,!0,w.year.status),y=(0,a.aF)(y,w.price.status===c.H3.SHOW,P.isOneMeasure,_),y=(0,a.ey)(y,w.discount.status===c.H3.SHOW),A=w.supply.status==c.H3.SHOW?c.H3.UNSHOW:w.supply.status==c.H3.UNSHOW?c.H3.SHOW:c.H3.INVOICE,y=(0,a.AC)(y,A,!0,P.isOneMeasure,P.isDefaultShow,P.isDiscountShow,P.prepaymentStyle,_)),e(f(P)),e(g(w)),e(m(y)),e(l._l.setInitial(b)),[2]}}))}))}},h=function changeOptionsStatus(e,t){return function(n,o){return __awaiter(void 0,void 0,void 0,(function(){var i,u,l,p,d,f,v,h,b,E,_,C,O,I,w,P,R;return __generator(this,(function(A){switch(i=o().documentPrice,u=i.cells,l=i.options,p=i.isTable,i.isInvoice,d=i.isOneMeasure,f=i.isDiscountShow,v=i.isDefaultShow,h=i.prepaymentStyle,b=(0,s.vv)(u),E=t!==c.H3.SHOW,_=E?c.H3.SHOW:c.H3.UNSHOW,e){case c.Pn.MEASURE:C=(0,a.Rb)(u,E,d,b),n(T(!E,r.MEASURE));break;case c.Pn.PRICE:n(T(!E,r.DEFAULT)),C=(0,a.aF)(u,E,d,b);break;case c.Pn.DISCOUNT:C=(0,a.ey)(u,E),n(T(!E,r.DISCOUNT));break;case c.Pn.YEAR:I=t==c.H3.INVOICE,C=(0,a.y$)(u,v,p,t),n(T(I,r.IS_INVOICE_SHOW));break;case c.Pn.SUPPLY:C=(0,a.AC)(u,t,p,d,v,f,h,b),n(T(t===c.H3.SHOW,r.SUPPLY_LONG)),n(S(e,_))}return C&&(n(m(C)),w=o().documentPrice,P=w.isTable,w.isOneMeasure,R=w.isDiscountShow,e===c.Pn.YEAR?(c.H3.UNSHOW,(O=(0,s.Xy)(C,l,e,_,t,P,!b,R))&&n(g(O))):(O=(0,s.Xy)(C,l,e,_,t,P,!b,R))&&n(g(O)),n(y())),[2]}))}))}},b=function changeProductRowName(e,t,n){return function(r,i){return __awaiter(void 0,void 0,void 0,(function(){var a,s,u,l,p;return __generator(this,(function(d){return a=i().documentPrice,s=a.cells,u="",l=__assign({},s),n&&(l[n]=l[n].map((function(r,i){return i===e?__assign(__assign({},r),{cells:r.cells.map((function(e){return e.name===c.G9.NAME?(n===o.zt.GENRAL&&(u=i?u+" "+t:t),__assign(__assign({},e),{value:t})):e}))}):r}))),u&&((p=__assign({},s.total[0])).cells=p.cells.map((function(e){return e.name===c.G9.NAME?__assign(__assign({},e),{value:u}):e})),l.total=[p]),r(m(l)),[2]}))}))}},E=function getRememberPriceOptions(){return __awaiter(void 0,void 0,void 0,(function(){var e,t,n,r,c,o;return __generator(this,(function(i){switch(i.label){case 0:return t=e={priceSupply:null,priceDefault:null,priceDiscount:null,priceYear:null,priceOptions:null},[4,p.j.getParsedData("priceSupply")];case 1:return t.priceSupply=i.sent(),n=e,[4,p.j.getParsedData("priceDefault")];case 2:return n.priceDefault=i.sent(),r=e,[4,p.j.getParsedData("priceDiscount")];case 3:return r.priceDiscount=i.sent(),c=e,[4,p.j.getParsedData("priceYear")];case 4:return c.priceYear=i.sent(),o=e,[4,p.j.getParsedData("priceOptions")];case 5:return o.priceOptions=i.sent(),[2,e]}}))}))},y=function savePriceOptions(){return function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var e,n,r,c,o,i,a;return __generator(this,(function(s){switch(s.label){case 0:return e=t(),n=e.documentPrice,r=n.options.year,c=n.options.price,o=n.options.discount,i=n.options.supply,a={isInvoice:n.isInvoice,isDefaultShow:n.isDefaultShow,isTable:n.isTable,isOneMeasure:n.isOneMeasure,isDiscountShow:n.isDiscountShow,isSupplyLong:n.isSupplyLong,prepaymentStyle:n.prepaymentStyle},i?[4,p.j.setData(i,"priceSupply")]:[3,2];case 1:s.sent(),s.label=2;case 2:return c?[4,p.j.setData(c,"priceDefault")]:[3,4];case 3:s.sent(),s.label=4;case 4:return o?[4,p.j.setData(o,"priceDiscount")]:[3,6];case 5:s.sent(),s.label=6;case 6:return r?[4,p.j.setData(r,"priceYear")]:[3,8];case 7:s.sent(),s.label=8;case 8:return[4,p.j.setData(a,"priceOptions")];case 9:return s.sent(),[2]}}))}))}},_=function documentPrice(e,t){var n;switch(void 0===e&&(e=d),t.type){case"documentPrice/SET_INITIAL_STATE":return __assign(__assign({},e),t.initialData);case"documentPrice/SET_PRICE_CELLS":var r=t.pricecells;return __assign(__assign({},e),{cells:r});case"documentPrice/CHANGE_OPTION":var c=__assign({},e.options);return c[t.name].status!==t.status?(c[t.name]=__assign({},c[t.name]),c[t.name].status=t.status,__assign(__assign({},e),{options:c})):e;case"documentPrice/SET_OPTION_ITEM_STATUS":return t.status!==e[t.name]?__assign(__assign({},e),((n={})["".concat(t.name)]=t.status,n)):e;case"documentPrice/SET_OPTIONS":return __assign(__assign({},e),{options:t.options});default:return e}}},2658:(e,t,n)=>{n.d(t,{t:()=>l});var r,c,o=n(7470),i=n(9516),a=n(630),s=n(3129),__assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},__assign.apply(this,arguments)},u={isActive:s.MM,templates:[],current:(r={},r[o.Ap.TEMPLATE]=null,r[o.Ap.PROVIDER]=null,r[o.Ap.RECIPIENT]=(c={},c[i.fu.COMPANY_NAME]="",c[i.fu.INN]="",c[i.fu.POSITION]="",c[i.fu.POSITION_CASE]="",c[i.fu.RECIPIENT]="",c[i.fu.RECIPIENT_CASE]="",c[i.fu.ADRESS]="",c.code=i.WL.RECIPIENT,c.type="",c),r),isRecipientChanging:!1,isTemplateSelected:!1,isTemplatesFetched:!1,manager:null,clientType:"commercial",haveLetter:!1,withLetter:!0,date:"",isWord:!1,select:{templateType:{defaultItems:[{id:0,number:0,name:"Коммерческое предложение",title:"Коммерческое предложение",code:"offer"},{id:1,number:1,name:"Договор",title:"Договор",code:"contract"},{id:2,number:2,name:"Счет",title:"Счет",code:"invoice"},{id:3,number:3,name:"Отчет о поставке",title:"Отчет о поставке",code:"supply"}],items:[],current:{},isFetched:!1,isDone:!1}}},l=function document(e,t){var n,r,c;switch(void 0===e&&(e=u),t.type){case"document/SET_TEMPLATES":var i=t.templates.map((function(e){return __assign(__assign({},e),{number:e.id})}));return __assign(__assign({},e),{templates:i,manager:t.currentUser});case"document/SET_INIT_TEMPLATE_SELECT":var s=[];return e.select.templateType.defaultItems.map((function(e){t.types.includes(e.code)&&s.push(e)})),__assign(__assign({},e),{select:__assign(__assign({},e.select),{templateType:__assign(__assign({},e.select.templateType),{items:s,current:s[0],isFetched:!0})})});case"document/SET_CURRENT_TEMPLATE_SELECT":var l=e.select.templateType.items.find((function(e){return e.id===t.selectId}));return l?__assign(__assign({},e),{select:__assign(__assign({},e.select),{templateType:__assign(__assign({},e.select.templateType),{current:l})})}):e;case"document/SET_CURRENT_TEMPLATE":var p=(0,a.ad)(t.currentTemplate),d=(0,a.di)(t.currentTemplate);if(t.currentTemplate){var f=t.currentTemplate.providers[0];if(f)return __assign(__assign({},e),{current:__assign(__assign({},e.current),{template:t.currentTemplate,provider:f,recipient:t.recipient}),date:t.date,withLetter:p,haveLetter:d,isTemplatesFetched:!0,isTemplateSelected:!0})}return __assign(__assign({},e),{current:__assign(__assign({},e.current),{template:t.currentTemplate,recipient:t.recipient}),date:t.date,withLetter:p});case"document/SET_CURRENT_CLEAR_TEMPLATE":return __assign(__assign({},e),{current:t.current,isActive:!1,isRecipientChanging:!1,isTemplateSelected:!1,isTemplatesFetched:!1,manager:null,clientType:"commercial",haveLetter:!1,withLetter:!0,date:"",isWord:!1,select:__assign(__assign({},e.select),{templateType:__assign(__assign({},e.select.templateType),{isDone:!1})})});case"document/SET_ACTIVATE_STATUS":return __assign(__assign({},e),{isActive:t.status});case"document/SET_TEMPLATE_SELECTED_STATUS":return __assign(__assign({},e),{isTemplateSelected:t.status});case"document/SET_CURRENT_PARAMETER":var m=e.withLetter;if(t.name==o.Ap.TEMPLATE){var S=t.value;m=(0,a.ad)(S)}return __assign(__assign({},e),{current:__assign(__assign({},e.current),(n={},n[t.name]=t.value,n)),withLetter:m});case"document/SET_IS_WORD_STATUS":return __assign(__assign({},e),{isWord:t.value});case"document/SET_FIELDS_ITEM":var g=null===(c=e.current.template)||void 0===c?void 0:c.fields.map((function(e){return e.code===t.name?(e.current=t.value,e):e})),T=__assign(__assign({},e.current.template),{fields:g}),v=(0,a.ad)(T);return __assign(__assign({},e),{current:__assign(__assign({},e.current),(r={},r[o.Ap.TEMPLATE]=T,r)),withLetter:v});case"document/SET_RECIPIENT_CHANGING_STATUS":return e.isRecipientChanging!==t.status?__assign(__assign({},e),{isRecipientChanging:t.status}):e;default:return e}}},4223:(e,t,n)=>{n.d(t,{X:()=>r});var r={activate:function activate(e){return{type:"document/SET_ACTIVATE_STATUS",status:e}},setTemplates:function setTemplates(e,t){return{type:"document/SET_TEMPLATES",templates:e,currentUser:t}},setCurrentTemplate:function setCurrentTemplate(e,t,n){return{type:"document/SET_CURRENT_TEMPLATE",currentTemplate:e,recipient:t,date:n}},setClearCurrentTemplate:function setClearCurrentTemplate(e){return{type:"document/SET_CURRENT_CLEAR_TEMPLATE",current:e}},setTemplateSelectedStatus:function setTemplateSelectedStatus(e){return{type:"document/SET_TEMPLATE_SELECTED_STATUS",status:e}},setInitTemplateSelect:function setInitTemplateSelect(e){return{type:"document/SET_INIT_TEMPLATE_SELECT",types:e}},setCurrentTemplateSelect:function setCurrentTemplateSelect(e){return{type:"document/SET_CURRENT_TEMPLATE_SELECT",selectId:e}},setIsWord:function setIsWord(e){return{type:"document/SET_IS_WORD_STATUS",value:e}},setCurrentParameter:function setCurrentParameter(e,t){return{type:"document/SET_CURRENT_PARAMETER",value:t,name:e}},setCurrentFieldsItem:function setCurrentFieldsItem(e,t){return{type:"document/SET_FIELDS_ITEM",value:t,name:e}},setRecipientChangingStatus:function setRecipientChangingStatus(e){return{type:"document/SET_RECIPIENT_CHANGING_STATUS",status:e}},setInfoblocks:function setInfoblocks(e){return{type:"document/SET_INFOBLOCKS",infoblocks:e}},setwithLetterStatus:function setwithLetterStatus(){return{type:"document/SET_WITH_LATTER"}},setCurrentSalePhrase:function setCurrentSalePhrase(e){return{type:"document/SET_SALE_PHRASE",value:e}}}},882:(e,t,n)=>{n.d(t,{Me:()=>j,QZ:()=>R,Qy:()=>k,VH:()=>D,XH:()=>P,l1:()=>O,lu:()=>A,mM:()=>N,sP:()=>w,uR:()=>C});var r=n(4223),c=n(8981),o=n(6097),i=n(7470),a=n(1596),s=n(3129),u=n(4470),l=n(8286),p=n(6814),d=n(5063),f=n(630),m=n(1965),S=n(9516),g=n(7585),T=n(4650),v=n(3594),h=n(2823),b=n(4353),E=n(9978),y=n(3169),_=n(3744),__assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},__assign.apply(this,arguments)},__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(c,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?c(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},__generator=function(e,t){var n,r,c,o,i={label:0,sent:function sent(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(a){return function(s){return function step(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(c=2&a[0]?r.return:a[0]?r.throw||((c=r.return)&&c.call(r),0):r.next)&&!(c=c.call(r,a[1])).done)return c;switch(r=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(c=i.trys,(c=c.length>0&&c[c.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3])){i.label=a[1];break}if(6===a[0]&&i.label<c[1]){i.label=c[1],c=a;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(a);break}c[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},C=function getTemplates(e){return function(t,n){return __awaiter(void 0,void 0,void 0,(function(){var p,d,f,m,S,g,T,v,h;return __generator(this,(function(b){switch(b.label){case 0:return t((0,c.te)(!0)),p=n(),[4,o.gT.service("templates/".concat(e),"get","templates")];case 1:return d=b.sent(),f=d.map((function(e){return __assign(__assign({},e),{number:e.id})})),m=[],S=p.app.withContracts,f&&f.length&&f.forEach((function(e){"offer"==e.type&&m.push(e.type)})),S&&m.push(i.tE.CONTRACT),t(r.X.setInitTemplateSelect(m)),(g=p.app.currentUser)?[3,4]:(T=s.XK)?[4,a.L.getCurrentUser()]:[3,3];case 2:T=b.sent(),b.label=3;case 3:g=T,b.label=4;case 4:return t((0,u.mv)()),t((0,l.r)()),p=n(),t(r.X.setTemplates(f,g)),f&&f.length&&(v=f[0],(h=f.find((function(e){return e.type===i.tE.OFFER})))&&(v=h),t(I(v))),t((0,c.te)(!1)),s.XK?[4,a.L.getResize()]:[3,6];case 5:b.sent(),b.label=6;case 6:return[2]}}))}))}},O=function setCurrentTemplate(e){return function(t,n){return __awaiter(void 0,void 0,void 0,(function(){var o,a,s,g,T,v,h,b,E,_,C,O,I;return __generator(this,(function(w){return t((0,c.te)(!0)),o=n(),a=o.document.select.templateType.items,s=a.find((function(t){return t.id==e})),t(r.X.setCurrentTemplateSelect(e)),s&&(s.code==i.tE.OFFER?(t((0,p.Gw)()),g=o.document.templates,T=g.find((function(e){return e.type===s.code})),v=(0,d.Ux)(),o.app.company,o.app.dealId,h=o.app.bitrix.company,b=o.app.bitrix.deal,E="",_="",C="",O="",b&&h?(E=b.UF_CRM_1695372881,_=b.UF_CRM_1695373462,C=b.UF_CRM_1695373326,O=h.TITLE):!b&&h&&(E=h.UF_CRM_1706007840,_=h.UF_CRM_1706007882,C=h.UF_CRM_1706007856,O=h.TITLE),T&&(I=(0,f.CI)(E,_,C,O),o.rows.show===m.Cs.SET,t((0,u.mv)()),t((0,l.r)()),o=n(),t(r.X.setCurrentTemplate(T,I,v)),t(r.X.setTemplateSelectedStatus(!0)),_&&t(D(_,S.X.NAME)),C&&t(D(C,S.X.POSITION)))):s.code==i.tE.CONTRACT&&t((0,y.mq)())),t((0,c.te)(!1)),[2]}))}))}},I=function setInitCurrentTemplate(e){return function(t,n){return __awaiter(void 0,void 0,void 0,(function(){var c,o,i,a,s,p,g,T,v,h;return __generator(this,(function(b){return c=n(),o=e,i=(0,d.Ux)(),c.app.company,c.app.dealId,a=c.app.bitrix.company,s=c.app.bitrix.deal,p="",g="",T="",v="",s&&a?(p=s.UF_CRM_1695372881,g=s.UF_CRM_1695373462,T=s.UF_CRM_1695373326,v=a.TITLE):!s&&a&&(p=a.UF_CRM_1706007840,g=a.UF_CRM_1706007882,T=a.UF_CRM_1706007856,v=a.TITLE),o&&(h=(0,f.CI)(p,g,T,v),c.rows.show===m.Cs.SET,t((0,u.mv)()),t((0,l.r)()),c=n(),t(r.X.setCurrentTemplate(o,h,i)),t(r.X.setTemplateSelectedStatus(!0)),g&&t(D(g,S.X.NAME)),T&&t(D(T,S.X.POSITION))),[2]}))}))}},w=function sendCurrentTemplate(e){return function(t,n){return __awaiter(void 0,void 0,void 0,(function(){var c,o,a;return __generator(this,(function(s){return t(O(e)),c=n(),o=c.document.select.templateType.items,(a=o.find((function(t){return t.id==e})))&&(a.code==i.tE.OFFER?t(r.X.activate(!0)):a.code==i.tE.CONTRACT&&t(_.d.activate(!0))),[2]}))}))}},P=function clearCurrentTemplate(){return function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var n,o,a;return __generator(this,(function(s){return e((0,c.te)(!0)),t(),(o={})[i.Ap.TEMPLATE]=null,o[i.Ap.PROVIDER]=null,o[i.Ap.RECIPIENT]=((a={})[S.fu.COMPANY_NAME]="",a[S.fu.INN]="",a[S.fu.POSITION]="",a[S.fu.RECIPIENT]="",a[S.fu.RECIPIENT_CASE]="",a[S.fu.POSITION_CASE]="",a[S.fu.ADRESS]="",a.code=S.WL.RECIPIENT,a.type="",a),n=o,e(r.X.setClearCurrentTemplate(n)),e(_.d.disactivate()),e((0,c.te)(!1)),[2]}))}))}},R=function activate(e){return function(t,n){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(n){return e&&t((0,g.c4)(g.ln.DOCUMENT)),[2]}))}))}},A=function setFieldChange(e,t){return function(n,c){return __awaiter(void 0,void 0,void 0,(function(){var o,a,s,u,l,p;return __generator(this,(function(d){return n(r.X.setRecipientChangingStatus(e)),o=c().document.current,a=o[i.Ap.TEMPLATE],s=null==a?void 0:a.fields,(u=(u=s&&s.find((function(t){return t.code===e})))&&__assign(__assign({},u),{value:t}))&&(l=null==s?void 0:s.map((function(t){return t.code===e?u:t})))&&(p=__assign(__assign({},a),{fields:l}),n(r.X.setCurrentParameter(i.Ap.TEMPLATE,p))),[2]}))}))}},N=function setRecipientItemChange(e,t){return function(n,c){return __awaiter(void 0,void 0,void 0,(function(){var o,a;return __generator(this,(function(s){return n(r.X.setRecipientChangingStatus(e)),o=c().document.current,a=__assign({},o.recipient),e!=S.fu.RECIPIENT&&e!=S.fu.POSITION&&e!=S.fu.INN&&e!=S.fu.COMPANY_NAME&&e!=S.fu.ADRESS||(a[e]=t),n(r.X.setCurrentParameter(i.Ap.RECIPIENT,a)),[2]}))}))}},k=function setSelectChange(e,t){return function(n,c){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(c){return e&&n(r.X.setCurrentParameter(e,t)),[2]}))}))}},D=function setOnBlurCaseProp(e,t){return function(n,c){return __awaiter(void 0,void 0,void 0,(function(){var o,a,s,u,l,p;return __generator(this,(function(d){switch(d.label){case 0:return o=c().document.current,a=o.recipient,t!==S.X.NAME?[3,2]:(s=a,u=S.fu.RECIPIENT_CASE,[4,(0,T.X)(e,S.MK.D,t)]);case 1:s[u]=d.sent(),d.label=2;case 2:return t!==S.X.POSITION?[3,5]:function countWords(e){return e.trim().replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").split(/\s+/).filter((function(e){return e.length>0})).length}(e)>1||function isFirstWordEndingWithDot(e){return e.trim().split(/\s+/)[0].endsWith(".")}(e)?(a[S.fu.POSITION_CASE]=e,[3,5]):[3,3];case 3:return l=a,p=S.fu.POSITION_CASE,[4,(0,T.X)(e,S.MK.D,t)];case 4:l[p]=d.sent(),d.label=5;case 5:return n(r.X.setCurrentParameter(i.Ap.RECIPIENT,a)),n(r.X.setRecipientChangingStatus(!1)),[2]}}))}))}},j=function getDocument(){return function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var n,r,l,d,f,T,y,_,C,O,I,w,P,R,A,N,k,D,j,L,M,x,U,F,W,G,H,B,Y,Z,K,z,X,J,V,q,Q,$,ee,te,ne,re,ce,oe,ie;return __generator(this,(function(ae){switch(ae.label){case 0:return e((0,c.te)(!0)),e((0,u.Xy)()),n=t(),r=n.app.domain,l="gsr.bitrix24.ru"===r||"april-dev.bitrix24.ru"===r,d=n.app.user,f=n.document,T=f.current[i.Ap.TEMPLATE],y=f.current[i.Ap.PROVIDER],_=f.current[i.Ap.RECIPIENT],C=f.isWord,O=n.documentPrice,I=n.documentInfoblocks,w=I,P=I.withStamps.current.value,R=I[p.En.SALE_PHRASE].value,A=n.app.dealId,N=n.app.company,k=n.app.bitrix.placement,D=n.currentComplect,j=n.od.currentOd,L=null===(ie=n.contract)||void 0===ie?void 0:ie.current,M=n.global.currentRegion,x=n.region.current,U=n.infoblocks,F=n.freeBlocks,W=n.encyclopedias,G=n.consalting,H=n.legalTech,B=n.star,Y=(0,v.y)(U,F,W,G,H,B),Z=n.documentInvoice.menu.questions,K=n.documentInvoice.date,z=_[S.fu.INN],X=_[S.fu.POSITION],J=_[S.fu.RECIPIENT],s.XK?[4,a.L.updateRecipient(A,N,z,X,J)]:[3,2];case 1:ae.sent(),ae.label=2;case 2:return V=n.event,q=V.presDeals.current,Q=n.documentInvoice.menu.questions.presentation.value,T&&D?($={data:{domain:r,companyId:N,placement:k,isProd:s.XK,dealId:A,template:T,complect:Y,supply:j,region:M,contract:L,infoblocks:w,settings:I,provider:y,recipient:_,price:O,userId:d,isOffer:!0,isInvoice:!1,manager:n.document.manager,invoice:Z,isPublic:s.cY||s.oy,salePhrase:R,invoiceDate:K,withStamps:P,isWord:C,regions:x,withHook:l,presentation:q}},l&&(ee=n.rows.sets.general,te=n.rows.show!==m.Cs.ROWS,ne=(0,E.$F)(ee[0],te),re=n.currentComplect,ce={domain:r,companyId:N,placement:k,dealId:A,userId:d,price:O,supply:j,manager:n.document.manager,invoice:Z,isPublic:s.cY||s.oy,salePhrase:R,invoiceDate:K,withStamps:P,isWord:C,currentComplect:re,presentation:q,isFromPresentation:Q,rows:ne},h.L.service("full/document/flow",b.F.POST,"result",ce)),oe="",s.oy?[4,o.hP.service("get/document","post","link",$)]:[3,4]):[3,7];case 3:return oe=ae.sent(),[3,6];case 4:return[4,o.gT.service("get/document","post","link",$)];case 5:oe=ae.sent(),ae.label=6;case 6:return oe&&window.open(oe,"_blank"),!s.po&&s.XK?A&&window.top.location.replace("https://".concat(r,"/crm/deal/details/").concat(A,"/")):e((0,g.c4)(g.ln.DOCUMENT)),e((0,c.te)(!1)),[3,8];case 7:alert("something wrong: document or complect was not found"),ae.label=8;case 8:return[2]}}))}))}}},4004:(e,t,n)=>{n.d(t,{V:()=>r});var r={setInit:function setInit(e){return{type:"documentProvider/SET_INIT",providers:e}},setCurrent:function setCurrent(e){return{type:"documentProvider/SET_CURRENT",id:e}}}},6442:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(6306),__assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},__assign.apply(this,arguments)},c={isActive:!1,isFetched:!1,items:[],current:null};const o=function documentProvider(e,t){var n;switch(void 0===e&&(e=c),t.type){case"documentProvider/SET_INIT":return __assign(__assign({},e),{items:t.providers,current:t.providers&&t.providers.length&&t.providers[0],isFetched:!0});case"documentProvider/SET_CURRENT":return __assign(__assign({},e),{current:null===(n=e.items)||void 0===n?void 0:n.find((function(e){return e[r.D.ID]===t.id}))});default:return e}}}}]);